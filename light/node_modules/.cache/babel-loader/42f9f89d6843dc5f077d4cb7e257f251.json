{"ast":null,"code":"import _slicedToArray from\"/Users/pbivrell/light/light/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import'./Picker2.css';import React,{useState,useEffect}from\"react\";import{HuePicker,AlphaPicker}from'react-color';import bulb from'../res/Bulb_crop.png';import offbulb from'../res/OffBulb_crop.png';import disconnectedbulb from'../res/DisconnectedBulb_crop.png';import axios from\"axios\";import{displayError}from\"../lib/hooks\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Picker2(_ref){var name=_ref.name,light=_ref.light,initalState=_ref.initalState;useEffect(function(){getLight();},[light]);var _useState=useState(initalState),_useState2=_slicedToArray(_useState,2),bulbState=_useState2[0],setBulbState=_useState2[1];var _useState3=useState({hsl:{a:1},rgb:{a:1},hex:\"\"}),_useState4=_slicedToArray(_useState3,2),color=_useState4[0],setColor=_useState4[1];function getLight(){if(!light||!light.IP){return;}axios.get(\"http://\".concat(light.IP,\"/status\"),{timeout:1000}).then(function(resp){setBulbState(resp.status?0:1);}).catch(function(e){setBulbState(2);displayError(e);});}function pushLight(pushColor){var data=generateBinary(pushColor,light.Count);var blob=new Blob([data],{type:\"application/octet-stream\"});var bodyFormData=new FormData();bodyFormData.append(\"file\",blob,\"dummy.bin\");axios({method:\"post\",url:\"http://\".concat(light.IP,\"/upload\"),data:bodyFormData,headers:{\"Content-Type\":\"multipart/form-data\"}}).then(function(response){console.log(response);}).catch(function(response){displayError(response);});}function pushToggle(){axios.get(\"http://\".concat(light.IP,\"/toggle\"),{timeout:1000}).then(function(resp){console.log(\"toggled\");}).catch(function(e){displayError(e);});}function toggleBulb(){if(bulbState==2){getLight();return;}else if(bulbState==1){setBulbState(0);}else{setBulbState(1);}pushToggle();}function onColorChange(hue,c){console.log(c);var hsl=c.hsl;var rgb=c.rgb;if(!hue){hsl.a=color.hsl.a;rgb.a=color.rgb.a;}setColor({hsl:hsl,rgb:c.rgb,hex:\"rgba(\".concat(c.rgb.r,\",\").concat(c.rgb.g,\",\").concat(c.rgb.b,\",\").concat(hsl.a)});pushLight(c.rgb);}function generateBinary(color,pixels){var data=new Uint8Array((2+pixels)*8);var bytes=getInt64Bytes(pixels);var count=bytes[bytes.length-2]<<8|bytes[bytes.length-1];data[0]=0x3;data[1]=bytes[bytes.length-1];data[2]=bytes[bytes.length-2];for(var i=0;i<pixels;i++){var _bytes=getInt64Bytes(i);data[(i+1)*8]=0x1;data[(i+1)*8+1]=parseInt(color.r*color.a);data[(i+1)*8+2]=parseInt(color.g*color.a);data[(i+1)*8+3]=parseInt(color.b*color.a);data[(i+1)*8+4]=_bytes[_bytes.length-1];data[(i+1)*8+5]=_bytes[_bytes.length-2];}data[8+pixels*8]=0x2;data[8+pixels*8+1]=200;data[8+pixels*8+2]=0;data[8+pixels*8+3]=0;data[8+pixels*8+4]=0;console.log(data);return data;}function getInt64Bytes(x){var y=Math.floor(x/Math.pow(2,32));return[y,y<<8,y<<16,y<<24,x,x<<8,x<<16,x<<24].map(function(z){return z>>>24;});}function getToolTip(){if(!light||Object.keys(light).length===0){return\"\";}return\"ID: \".concat(light.ID,\"\\nIP: \").concat(light.IP,\"\\nVersion: \").concat(light.Version,\"\\n\").concat(new Date(light.Updated).toLocaleDateString()+\" \"+new Date(light.Updated).toLocaleTimeString());}return/*#__PURE__*/_jsxs(\"div\",{className:\"Picker\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"ButtonText\",\"data-tooltip\":getToolTip(),children:name.alias}),/*#__PURE__*/_jsx(\"div\",{className:\"Button\",style:{background:color.hex},onClick:toggleBulb,children:/*#__PURE__*/_jsx(\"img\",{className:\"ButtonImage\",src:bulbState===0?bulb:bulbState===1?offbulb:disconnectedbulb})}),bulbState===0?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(HuePicker,{className:\"ButtonImage\",color:color.hsl,onChangeComplete:function onChangeComplete(c){return onColorChange(false,c);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(AlphaPicker,{className:\"ButtonImage\",color:color.hsl,onChangeComplete:function onChangeComplete(c){return onColorChange(true,c);}})]}):/*#__PURE__*/_jsx(_Fragment,{})]});}export default Picker2;","map":{"version":3,"sources":["/Users/pbivrell/light/light/src/components/Picker2.js"],"names":["React","useState","useEffect","HuePicker","AlphaPicker","bulb","offbulb","disconnectedbulb","axios","displayError","Picker2","name","light","initalState","getLight","bulbState","setBulbState","hsl","a","rgb","hex","color","setColor","IP","get","timeout","then","resp","status","catch","e","pushLight","pushColor","data","generateBinary","Count","blob","Blob","type","bodyFormData","FormData","append","method","url","headers","response","console","log","pushToggle","toggleBulb","onColorChange","hue","c","r","g","b","pixels","Uint8Array","bytes","getInt64Bytes","count","length","i","parseInt","x","y","Math","floor","map","z","getToolTip","Object","keys","ID","Version","Date","Updated","toLocaleDateString","toLocaleTimeString","alias","background"],"mappings":"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","sourcesContent":["import './Picker2.css';\nimport React, { useState, useEffect } from \"react\";\nimport { HuePicker, AlphaPicker } from 'react-color'\nimport bulb from '../res/Bulb_crop.png';\nimport offbulb from '../res/OffBulb_crop.png';\nimport disconnectedbulb from '../res/DisconnectedBulb_crop.png';\nimport axios from \"axios\";\nimport {displayError} from \"../lib/hooks\";\n\nfunction Picker2({name, light, initalState}) {\n\n\tuseEffect(() => {\n\t\tgetLight();\n\t}, [light])\n\n\n\tconst [bulbState, setBulbState] = useState(initalState);\n\n  \tconst [color, setColor] = useState({ hsl: {a: 1}, rgb: {a:1}, hex: \"\"});\n\t\n\tfunction getLight() {\n\t\tif (!light || !light.IP) {\n\t\t\treturn\n\t\t}\n\t\taxios.get(`http://${light.IP}/status`, {timeout: 1000})\n\t\t.then((resp) =>{\n\t\t\tsetBulbState(resp.status ? 0 : 1);\n\t\t})\n\t\t.catch((e) => {\n\t\t\tsetBulbState(2);\n\t\t\tdisplayError(e);\n\t\t});\n\t}\n\n\tfunction pushLight(pushColor) {\n\t\tlet data = generateBinary(pushColor, light.Count);\n                let blob = new Blob([data], {type: \"application/octet-stream\"});\n                let bodyFormData = new FormData();\n                bodyFormData.append(\"file\", blob, \"dummy.bin\");\n\n                axios({\n                \tmethod: \"post\",\n                \turl: `http://${light.IP}/upload`,\n                \tdata: bodyFormData,\n                \theaders: { \"Content-Type\": \"multipart/form-data\" },\n                })\n                .then(function (response) {\n                \tconsole.log(response);\n                })\n                .catch(function (response) {\n                \tdisplayError(response)\n                });\n\t}\n\n\tfunction pushToggle() {\n\t\t\n\t\taxios.get(`http://${light.IP}/toggle`, {timeout: 1000})\n\t\t.then((resp) => {\n\t\t\tconsole.log(\"toggled\");\n\t\t})\n\t\t.catch((e) => {\n        \t\tdisplayError(e);\n\t\t});\n\t}\n\n\tfunction toggleBulb() {\n\t\tif (bulbState == 2) {\n\t\t\tgetLight();\n\t\t\treturn;\n\t\t}else if(bulbState == 1) {\n\t\t\tsetBulbState(0);\n\t\t}else {\n\t\t\tsetBulbState(1);\n\t\t}\n\n\t\tpushToggle();\n\t}\n\n\tfunction onColorChange(hue, c) {\n\n\t\tconsole.log(c);\n\n\t\tlet hsl = c.hsl;\n\t\tlet rgb = c.rgb;\n\n\t\tif(!hue) {\n\t\t\thsl.a = color.hsl.a;\n\t\t\trgb.a = color.rgb.a;\n\t\t}\n\t\tsetColor({hsl: hsl, rgb: c.rgb, hex: `rgba(${c.rgb.r},${c.rgb.g},${c.rgb.b},${hsl.a}`});\n\t\t\n\t\tpushLight(c.rgb);\n\t}\n\t\n\t\n\tfunction generateBinary(color, pixels) {\n\t\t\n\t\tlet data = new Uint8Array((2 + pixels) * 8);\n\t\tlet bytes = getInt64Bytes(pixels);\n\n\t\tlet count = (bytes[bytes.length-2] << 8) | bytes[bytes.length-1];\n\t\t\n\t\tdata[0] = 0x3;\n\t\tdata[1] = bytes[bytes.length-1];\n\t\tdata[2] = bytes[bytes.length-2];\n\n\t\tfor (let i = 0; i < pixels; i++) {\n\t\t\tlet bytes = getInt64Bytes(i);\n\t\t \tdata[(i + 1) * 8] = 0x1;\n\t\t\tdata[(i + 1) * 8 + 1] = parseInt(color.r * color.a) ;\n\t\t\tdata[(i + 1) * 8 + 2] = parseInt(color.g * color.a);\n\t\t\tdata[(i + 1) * 8 + 3] = parseInt(color.b * color.a);\n\t\t\tdata[(i + 1) * 8 + 4] = bytes[bytes.length-1];\n\t\t\tdata[(i + 1) * 8 + 5] = bytes[bytes.length-2];\n\t\t}\n\n\t\tdata[8 + (pixels * 8)] = 0x2;\n\t\tdata[8 + (pixels * 8) + 1] = 200;\n\t\tdata[8 + (pixels * 8) + 2] = 0;\n\t\tdata[8 + (pixels * 8) + 3] = 0;\n\t\tdata[8 + (pixels * 8) + 4] = 0;\n\n\n\t\tconsole.log(data);\n\t\treturn data;\n\n\t}\n\n\tfunction getInt64Bytes(x) {\n  \t\tlet y= Math.floor(x/2**32);\n  \t\treturn [y,(y<<8),(y<<16),(y<<24), x,(x<<8),(x<<16),(x<<24)].map(z=> z>>>24)\n\t}\n\n\tfunction getToolTip() {\n\t\tif (!light || Object.keys(light).length === 0) {\n\t\t\treturn \"\"\n\t\t}\n\t\treturn `ID: ${light.ID}\nIP: ${light.IP}\nVersion: ${light.Version}\n${new Date(light.Updated).toLocaleDateString() +\" \" +  new Date(light.Updated).toLocaleTimeString()}`\n\t}\n\n\treturn (\n\t<div className=\"Picker\">\n\n\t\t<div className=\"ButtonText\" data-tooltip={getToolTip()}>{name.alias}</div>\n\t\t<div className=\"Button\" style={{background: color.hex}} onClick={toggleBulb}>\n\t\t\t<img className=\"ButtonImage\" src={bulbState === 0 ? bulb : bulbState === 1 ? offbulb : disconnectedbulb }></img>\n\t\t</div>\n\t\t{ bulbState === 0 ? \n\t\t\t<>\n\t\t\t\t<br/>\n\t\t\t\t<HuePicker className=\"ButtonImage\" color={color.hsl} onChangeComplete={(c) => onColorChange(false, c)}/>\n\t\t\t\t<br/>\n                \t\t<AlphaPicker className=\"ButtonImage\" color={color.hsl} onChangeComplete={(c) => onColorChange(true, c)}/>\n\t\t\t</>\n\t\t: \n\t\t\t<></>\n\t\t}\n\t</div>\n  \t);\n}\n\n\nexport default Picker2;\n"]},"metadata":{},"sourceType":"module"}