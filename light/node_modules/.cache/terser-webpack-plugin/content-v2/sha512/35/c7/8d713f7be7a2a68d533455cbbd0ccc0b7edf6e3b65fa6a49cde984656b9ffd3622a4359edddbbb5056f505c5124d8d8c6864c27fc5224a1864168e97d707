{"code":"(this.webpackJsonplight=this.webpackJsonplight||[]).push([[0],{109:function(e,t,c){},153:function(e,t,c){},239:function(e,t,c){},344:function(e,t,c){},388:function(e,t,c){\"use strict\";c.r(t);var n=c(0),a=c.n(n),s=c(30),i=c.n(s),o=(c(109),c(5)),r=(c(43),c(19)),l=c(37),j=c.n(l),u=c(60),b=c(66),h=c(18),d=c.n(h),O=c(194),p=c(1),g=\"https://lights.paulbirvell.com\",x=1e4;function f(e){var t=e.next,c=Object(n.useState)(!0),a=Object(o.a)(c,2),s=a[0],i=a[1],l=Object(n.useState)(!1),h=Object(o.a)(l,2),f=h[0],m=h[1],v=Object(n.useState)([]),w=Object(o.a)(v,2),C=w[0],S=w[1],y=Object(n.useState)(\"\"),k=Object(o.a)(y,2),N=k[0],F=k[1],I=Object(n.useState)(\"\"),L=Object(o.a)(I,2),P=L[0],A=L[1];function D(){return B.apply(this,arguments)}function B(){return(B=Object(u.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(!0),d.a.get(g+\"/networks\",{timeout:x}).then((function(e){S(e.data),i(!1)})).catch((function(e){m(!0),i(!1)}));case 2:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=Object(u.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(!0),d.a.get(g+\"/login?ssid=\".concat(N,\"&password=\").concat(P),{timeout:x}).then((function(e){t()})).catch((function(e){m(!0)})),i(!1);case 3:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){D()}),[]),Object(p.jsxs)(\"div\",{children:[s?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(\"p\",{children:\" Searching for lights \"}),Object(p.jsx)(b.a,{animation:\"border\"}),Object(p.jsx)(\"br\",{})]}):f?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(\"p\",{children:\"Failed to setup new lights\"}),Object(p.jsx)(r.a,{onClick:function(){return m(!1),void D()},children:\"Retry\"})]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(\"p\",{children:\"Found new lights\"}),Object(p.jsx)(\"p\",{children:\"Select Wifi you would like to connect them to\"}),Object(p.jsx)(O.a,{onChange:function(e){return F(e.value)},searchable:!0,options:C.map((function(e){return{value:e,label:e}}))}),Object(p.jsx)(\"label\",{children:\"Password: \"}),\" \",Object(p.jsx)(\"input\",{type:\"password\",name:\"name\",onChange:function(e){return A(e.target.value)}}),Object(p.jsx)(\"br\",{}),Object(p.jsx)(r.a,{onClick:function(){return T.apply(this,arguments)},children:\"Submit\"})]}),Object(p.jsx)(r.a,{onClick:function(){t(-1)},children:\"Back\"})]})}var m=\"https://lights.paulbirvell.com\";function v(e){var t=e.next,c=Object(n.useState)(!1),a=Object(o.a)(c,2),s=a[0],i=a[1],l=Object(n.useState)(!1),h=Object(o.a)(l,2),O=h[0],g=h[1],x=Object(n.useState)(\"\"),f=Object(o.a)(x,2),v=(f[0],f[1]);function w(){return C.apply(this,arguments)}function C(){return(C=Object(u.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(!0),d.a.get(m+\"/ip\",{timeout:3e3}).then((function(e){v(e.data)})).catch((function(e){g(!0)})),i(!1);case 3:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){w()}),[]),Object(p.jsxs)(\"div\",{children:[s?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(\"p\",{children:\" Getting device IP\"}),Object(p.jsx)(b.a,{animation:\"border\"}),Object(p.jsx)(\"br\",{})]}):O?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(\"p\",{children:\"Failed to connect with device\"}),Object(p.jsx)(r.a,{onClick:function(){w()},children:\"Retry\"})]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(\"p\",{children:\"Congradulations your lights are ready to go!\"}),Object(p.jsx)(\"p\",{children:\"Remeber to reconnect your device to the same network as the lights\"}),Object(p.jsx)(r.a,{onClick:function(){return console.log(\"TODO\")},children:\"Light\"})]}),Object(p.jsx)(r.a,{onClick:function(){t(-1)},children:\"Back\"})]})}var w=function(e){var t=e.cancel,c=Object(n.useState)(0),a=Object(o.a)(c,2),s=a[0],i=a[1];function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=s+e;t>3&&(t=0),i(t)}return Object(p.jsx)(\"div\",{className:\"App\",children:Object(p.jsxs)(\"header\",{className:\"App-header\",children:[Object(p.jsx)(r.a,{className:\"close\",onClick:t,children:\"X\"}),Object(p.jsx)(\"div\",{children:0===s?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(\"p\",{children:[\"Plug in Inf-Lights. They should blink \",Object(p.jsx)(\"span\",{class:\"red\",children:\"red\"})]}),Object(p.jsx)(r.a,{onClick:function(){l()},children:\" Next\"})]}):1===s?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(\"p\",{children:[\"Go to wifi settings and connect to \",Object(p.jsx)(\"code\",{children:\"P-lights-0\"})]}),Object(p.jsx)(r.a,{onClick:function(){l()},children:\" Next\"}),Object(p.jsx)(r.a,{onClick:function(){return l(-1)},children:\" Back\"})]}):2===s?Object(p.jsx)(f,{next:l}):3===s?Object(p.jsx)(v,{next:l}):Object(p.jsx)(p.Fragment,{})})]})})},C=c(98);var S=function(){var e=Object(n.useState)({r:200,g:150,b:35}),t=Object(o.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)({ip:\"192.168.86.162\",pixels:50}),i=Object(o.a)(s,2),r=i[0],l=(i[1],Date.now());function j(e){var t=Math.floor(e/Math.pow(2,32));return[t,t<<8,t<<16,t<<24,e,e<<8,e<<16,e<<24].map((function(e){return e>>>24}))}return Object(p.jsx)(\"div\",{className:\"App\",children:Object(p.jsxs)(\"header\",{className:\"App-header\",children:[Object(p.jsx)(C.a,{color:c,onChange:function(e){var t=Date.now();if(console.log(e),t-l<100)console.log(\"ignoring time\");else{l=t,a(e);var c=function(e,t){var c=new Uint8Array(8*(2+t)),n=j(t);n[n.length-2],n[n.length-1];c[0]=3,c[1]=n[n.length-1],c[2]=n[n.length-2];for(var a=0;a<t;a++){var s=j(a);c[8*(a+1)]=1,c[8*(a+1)+1]=e.r,c[8*(a+1)+2]=e.g,c[8*(a+1)+3]=e.b,c[8*(a+1)+4]=s[s.length-1],c[8*(a+1)+5]=s[s.length-2]}return c[8+8*t]=2,c[8+8*t+1]=200,c[8+8*t+2]=0,c[8+8*t+3]=0,c[8+8*t+4]=0,console.log(c),c}(e,r.pixels),n=new Blob([c],{type:\"application/octet-stream\"}),s=new FormData;s.append(\"file\",n,\"dummy.bin\"),console.log(\"http://\".concat(r,\"/upload\")),d()({method:\"post\",url:\"http://\".concat(r.ip,\"/upload\"),data:s,headers:{\"Content-Type\":\"multipart/form-data\"}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}}}),Object(p.jsxs)(\"p\",{children:[c.r,\", \",c.g,\", \",c.b]})]})})},y=c(46);function k(e){var t=e.delay,c=e.color,a=e.x,s=e.y,i=e.radius,r=e.click,l=Object(n.useState)(!1),j=Object(o.a)(l,2),u=j[0],b=j[1];return Object(n.useEffect)((function(){setTimeout((function(){b(!0)}),t)}),[t]),u?Object(p.jsx)(y.a,{x:a,y:s,radius:i,fill:c,onClick:r}):Object(p.jsx)(y.a,{x:a,y:s,radius:i,fill:\"black\",onClick:r})}var N=function(){function e(t){console.log(t);var c=new Uint8Array(t);console.log(c);for(var n=[],a=0,i=0;i<c.length;i+=8)if(3===c[i]&&0===i){var o=c[i+2]<<8|c[i+1];console.log(\"Count\",o);for(var r=0;r<o;r++)n.push({color:\"rgb(0,0,0)\"})}else if(1===c[i]){var l=c[i+1],j=c[i+2],u=c[i+3],b=c[i+5]<<8|c[i+4];console.log(\"color\",l,j,u,b),n[b]={color:\"rgb(\".concat(l,\",\").concat(j,\",\").concat(u,\")\")}}else 2===c[i]&&(a+=c[i+4]<<24|c[i+3]<<16|c[i+2]<<8|c[i+1],console.log(\"delay\",a),setTimeout((function(e){console.log(\"Changed lights\"),s(e)}),a,[].concat(n)));setTimeout((function(){e(t)}),a)}var t=Object(n.useState)([]),c=Object(o.a)(t,2),a=c[0],s=c[1],i=Math.floor((window.innerWidth-200)/170);return Object(p.jsxs)(\"div\",{className:\"App\",children:[Object(p.jsx)(\"input\",{type:\"file\",name:\"file\",onChange:function(t){var c=new FileReader;c.onload=function(){e(c.result)},t.target.files.length>0&&c.readAsArrayBuffer(t.target.files[0])}}),Object(p.jsx)(\"header\",{className:\"App-header\",children:Object(p.jsx)(y.c,{width:window.innerWidth,height:window.innerHeight,children:Object(p.jsx)(y.b,{children:a.map((function(e,t){return console.log(e,t),Object(p.jsx)(k,{x:120+t%i*120,y:120+120*Math.floor(t/i),color:e.color,radius:50})}))})})})]})};var F=function(){var e=Object(n.useState)(\"192.168.86.152\"),t=Object(o.a)(e,2),c=t[0];return t[1],Object(p.jsx)(\"div\",{className:\"App\",children:Object(p.jsx)(\"header\",{className:\"App-header\",children:Object(p.jsxs)(\"form\",{method:\"POST\",enctype:\"multipart/form-data\",action:\"http://\"+c+\"/upload\",children:[Object(p.jsx)(\"input\",{type:\"file\",id:\"myFile\",name:\"filename\"}),Object(p.jsx)(\"input\",{type:\"submit\"})]})})})};function I(e){var t=e.name,c=e.all,a=e.lights,s=Object(n.useState)(!1),i=Object(o.a)(s,2),r=i[0],l=i[1];Object(n.useEffect)((function(){1===a.length&&d.a.get(\"http://\".concat(c[a[0]].ip,\"/status\"),{timeout:1e3}).then((function(e){console.log(e.data.status),e.data.status?h(\"active\"):h(\"inactive\")})).catch((function(){h(\"offline\")}))}),[r]);var j=Object(n.useState)(1===a.length?\"loading\":\"\"),u=Object(o.a)(j,2),b=u[0],h=u[1];return Object(p.jsxs)(\"div\",{style:\"offline\"===b?{color:\"grey\"}:{},children:[Object(p.jsx)(\"input\",{type:\"checkbox\",onClick:function(e){return a.forEach((function(e){d.a.get(\"http://\".concat(c[e].ip,\"/toggle\"),{timeout:1e3}).catch((function(e){console.log(\"failed to toggle\")}))})),void setTimeout((function(){l(!r)}),500)},defaultChecked:\"active\"===b,style:{float:\"right\",width:\"100px\"}}),Object(p.jsx)(\"span\",{children:\"Name: \"}),Object(p.jsx)(\"span\",{children:t}),Object(p.jsx)(\"br\",{}),Object(p.jsx)(\"span\",{children:\"Devices(s): \"}),Object(p.jsx)(\"span\",{children:1===a.length?c[a[0]].ip:a.map((function(e){return c[e].name})).join(\",\")})]},t)}var L=function(){var e={lights:[{id:0,name:\"lower tree\",ip:\"192.168.86.136\",pixels:100},{id:1,name:\"upper tree\",ip:\"192.168.86.137\",pixels:100},{id:2,name:\"test\",ip:\"192.168.86.140\",pixels:50}],groups:[{name:\"lower tree\",lights:[0]},{name:\"upper tree\",lights:[1]},{name:\"test\",lights:[2]},{name:\"tree\",lights:[0,1]}]};return Object(p.jsx)(\"div\",{className:\"App\",children:Object(p.jsx)(\"header\",{className:\"App-header\",children:Object(p.jsx)(\"ul\",{children:e.groups.map((function(t,c){return Object(p.jsx)(\"li\",{children:Object(p.jsx)(I,{name:t.name,all:e.lights,lights:t.lights})})}))})})})},P=c(2),A=(c(239),c(153),c(17)),D=c(15);function B(e){var t=Object(n.useState)(e),c=Object(o.a)(t,2),a=c[0],s=c[1];return[a,function(e){s(Object(P.a)(Object(P.a)({},a),{},Object(D.a)({},e.target.id,e.target.value)))}]}function T(e){e.response&&(console.log(\"URL\",e.request.responseURL),401===e.response.status&&\"https://lights.paulbivrell.com/user\"!==e.request.responseURL&&console.log(\"reload please\")),console.log(e)}var z=function(e){var t=e.callback,c=B({user:\"\",password:\"\"}),a=Object(o.a)(c,2),s=a[0],i=a[1],l=Object(n.useState)(!1),j=Object(o.a)(l,2),u=j[0],b=j[1];function h(e){e.preventDefault(),b(!0),d.a.post(\"https://lights.paulbivrell.com/user\",JSON.stringify(s),{withCredentials:!0}).then((function(e){t()})).catch((function(e){T(e),b(!1)}))}return Object(p.jsx)(\"div\",{className:\"Signup\",children:Object(p.jsxs)(A.a,{onSubmit:h,children:[Object(p.jsxs)(A.a.Group,{controlId:\"user\",size:\"lg\",children:[Object(p.jsx)(A.a.Label,{children:\"Username\"}),Object(p.jsx)(A.a.Control,{autoFocus:!0,type:\"text\",value:s.user,onChange:i})]}),Object(p.jsxs)(A.a.Group,{controlId:\"password\",size:\"lg\",children:[Object(p.jsx)(A.a.Label,{children:\"Password\"}),Object(p.jsx)(A.a.Control,{type:\"password\",value:s.password,onChange:i})]}),Object(p.jsx)(\"br\",{}),Object(p.jsx)(r.a,{block:!0,size:\"lg\",type:\"submit\",variant:\"success\",disabled:!(s.user.length>0&&s.password.length>0)||u,children:u?\"loading...\":\"Login\"})]})})};var U=function(e){var t=e.callback,c=\"https://lights.paulbivrell.com/user\",a=Object(n.useState)(!1),s=Object(o.a)(a,2),i=s[0],l=s[1],j=B({email:\"\",id:\"\",password:\"\",confirmPassword:\"\",confirmationCode:\"\"}),u=Object(o.a)(j,2),b=u[0],h=u[1];function O(e){e.preventDefault(),l(!0),d.a.put(c,JSON.stringify(b)).then((function(e){d.a.post(c,JSON.stringify({user:b.id,password:b.password}),{withCredentials:!0}).then((function(e){t()})).catch((function(e){T(e),l(!1)}))})).catch((function(e){l(!1),T(e)}))}return Object(p.jsx)(\"div\",{className:\"Signup\",children:Object(p.jsxs)(A.a,{onSubmit:O,children:[Object(p.jsxs)(A.a.Group,{controlId:\"id\",size:\"lg\",children:[Object(p.jsx)(A.a.Label,{children:\"Username\"}),Object(p.jsx)(A.a.Control,{autoFocus:!0,type:\"text\",value:b.id,onChange:h})]}),Object(p.jsxs)(A.a.Group,{controlId:\"email\",size:\"lg\",children:[Object(p.jsx)(A.a.Label,{children:\"Email\"}),Object(p.jsx)(A.a.Control,{autoFocus:!0,type:\"email\",value:b.email,onChange:h})]}),Object(p.jsxs)(A.a.Group,{controlId:\"password\",size:\"lg\",children:[Object(p.jsx)(A.a.Label,{children:\"Password\"}),Object(p.jsx)(A.a.Control,{type:\"password\",value:b.password,onChange:h})]}),Object(p.jsxs)(A.a.Group,{controlId:\"confirmPassword\",size:\"lg\",children:[Object(p.jsx)(A.a.Label,{children:\"Confirm Password\"}),Object(p.jsx)(A.a.Control,{type:\"password\",onChange:h,value:b.confirmPassword})]}),Object(p.jsx)(\"br\",{}),Object(p.jsx)(r.a,{block:!0,size:\"lg\",type:\"submit\",variant:\"success\",disabled:!(b.email.length>0&&b.password.length>0&&b.password===b.confirmPassword)||i,children:i?\"loading...\":\"Signup\"})]})})},E=c(399),G=c(189),R=c(398),J=c(195),M=c(140),W=c.p+\"static/media/Bulb_crop.4dabd27e.png\",q=c.p+\"static/media/OffBulb_crop.94f07016.png\";c.p,c(344);var K=function(e){var t=e.light,c=e.hub,a=e.callback,s=\"\".concat(\"https://lights.paulbivrell.com\",\"/user/hub/\").concat(c,\"/light/\").concat(t.ID),i=B({Alias:t.Alias,Count:parseInt(t.Count)}),l=Object(o.a)(i,2),j=l[0],u=l[1],b=Object(n.useState)(!1),h=Object(o.a)(b,2),O=h[0],g=h[1];function x(e){e.preventDefault(),g(!0),j.Count=parseInt(j.Count),console.log(j),d.a.post(s,JSON.stringify(j),{withCredentials:!0}).then((function(e){g(!1),a()})).catch((function(e){T(e),g(!1)}))}return Object(p.jsx)(\"div\",{className:\"Signup\",children:Object(p.jsxs)(A.a,{onSubmit:x,className:\"SettingForm\",children:[Object(p.jsxs)(A.a.Label,{children:[\"ID: \",t.ID]}),Object(p.jsx)(\"br\",{}),Object(p.jsxs)(A.a.Group,{controlId:\"Alias\",size:\"lg\",children:[Object(p.jsx)(A.a.Label,{children:\"Alias:\"}),Object(p.jsx)(A.a.Control,{autoFocus:!0,className:\"SettingsFormInput\",type:\"text\",value:j.Alias,onChange:u})]}),Object(p.jsxs)(A.a.Group,{controlId:\"Count\",size:\"lg\",children:[Object(p.jsx)(A.a.Label,{children:\"Bulbs:\"}),Object(p.jsx)(A.a.Control,{autoFocus:!0,className:\"SettingsFormInput\",type:\"number\",value:parseInt(j.Count),onChange:u})]}),Object(p.jsx)(A.a.Label,{children:new Date(t.Updated).toLocaleDateString()+\" \"+new Date(t.Updated).toLocaleTimeString()}),Object(p.jsx)(\"br\",{}),Object(p.jsx)(r.a,{block:!0,size:\"sm\",type:\"submit\",variant:\"success\",disabled:!(j.Count>0)||O,children:O?\"loading...\":\"Update\"})]})})};var _=function(e){var t=e.name,c=e.hub,a=Object(n.useState)(!1),s=Object(o.a)(a,2),i=s[0],r=s[1],l=Object(n.useState)({}),j=Object(o.a)(l,2),u=j[0],b=j[1],h=Object(n.useState)(!0),O=Object(o.a)(h,2),g=O[0],x=O[1],f=Object(n.useState)([]),m=Object(o.a)(f,2),v=m[0],w=m[1],C=Object(n.useState)(\"\"),S=Object(o.a)(C,2),y=(S[0],S[1]);Object(n.useEffect)((function(){A(),w([{alias:\"spring\",id:0,creator:\"demo\"},{alias:\"spring\",id:0,creator:\"demo\"}])}),[]);var k=Object(n.useState)({hsl:{a:1},rgb:{a:1},hex:\"\"}),N=Object(o.a)(k,2),F=N[0],I=N[1];function L(){r(!1),A()}function A(){d.a.get(\"\".concat(\"https://lights.paulbivrell.com\",\"/user/hub/\").concat(c,\"/light/\").concat(t),{withCredentials:!0}).then((function(e){b(e.data);var t=e.data.PatternID.split(\"~\")[1].split(\".\")[0].split(\"-\");console.log(t),I({rgb:{r:t[0],g:t[1],b:t[2],a:t[3]/100},hex:\"rgba(\".concat(t[0],\",\").concat(t[1],\",\").concat(t[2],\",\").concat(t[3]/100),hsl:{a:t[3]/100}})})).catch((function(e){T(e)}))}function D(e,n){console.log(n);var a,s=n.hsl,i=n.rgb;e||(s.a=F.hsl.a,i.a=F.rgb.a),I({hsl:s,rgb:n.rgb,hex:\"rgba(\".concat(n.rgb.r,\",\").concat(n.rgb.g,\",\").concat(n.rgb.b,\",\").concat(s.a)}),a=n.rgb,d.a.post(\"\".concat(\"https://lights.paulbivrell.com\",\"/user/hub/\").concat(c,\"/light/\").concat(t),{PatternID:\"~\".concat(a.r,\"-\").concat(a.g,\"-\").concat(a.b,\"-\").concat(Math.floor(100*a.a),\".bin\")},{withCredentials:!0}).then((function(e){console.log(\"toggled\")})).catch((function(e){T(e)}))}return Object(p.jsxs)(\"div\",{className:\"Picker\",children:[i?Object(p.jsx)(\"div\",{className:\"Popup Auth\",children:Object(p.jsx)(K,{light:u,hub:c,callback:L})}):Object(p.jsx)(p.Fragment,{}),Object(p.jsx)(\"div\",{className:\"ButtonText\",onClick:function(){return r(!i)},children:\"\"===u.Alias?u.ID:u.Alias}),Object(p.jsx)(\"div\",{className:\"Button\",style:{background:F.hex},onClick:function(){var e,n=Object(P.a)({},u);n.Status=!n.Status,b(n),e=n.Status,d.a.post(\"\".concat(\"https://lights.paulbivrell.com\",\"/user/hub/\").concat(c,\"/light/\").concat(t),{Status:e},{withCredentials:!0}).then((function(e){console.log(\"toggled\")})).catch((function(e){T(e)}))},children:Object(p.jsx)(\"img\",{className:\"ButtonImage\",src:u.Status?W:q})}),Object(p.jsx)(\"input\",{type:\"checkbox\",onClick:function(){x(!g)}}),u.Status?g?(console.log(\"patterns\",v),Object(p.jsx)(\"div\",{className:\"Popup Pattern\",children:v.map((function(e){return Object(p.jsxs)(\"div\",{onClick:function(){y(e.id)},children:[e.id,\" - \",e.alias,\" | \",e.creator]})}))})):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(\"br\",{}),Object(p.jsx)(M.b,{className:\"ButtonImage\",color:F.hsl,onChangeComplete:function(e){return D(!1,e)}}),Object(p.jsx)(\"br\",{}),Object(p.jsx)(M.a,{className:\"ButtonImage\",color:F.hsl,onChangeComplete:function(e){return D(!0,e)}})]}):Object(p.jsx)(p.Fragment,{})]})};c.p;var H=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),c=(t[0],t[1],Object(n.useState)([])),a=Object(o.a)(c,2),s=a[0],i=a[1],r=Object(n.useState)({}),l=Object(o.a)(r,2),j=l[0],u=l[1],b=Object(n.useState)(!0),h=Object(o.a)(b,2),O=h[0],g=h[1],x=Object(n.useState)(!1),f=Object(o.a)(x,2),m=f[0],v=f[1];function w(e){\"logout\"===e?(d.a.delete(\"\".concat(\"https://lights.paulbivrell.com\",\"/user\"),{withCredentials:!0}).then((function(e){g(!1),u({})})).catch((function(e){T(e)})),console.log(\"logout\")):\"settings\"===e&&console.log(\"setting\")}function C(){console.log(\"Loading\",O),d.a.get(\"\".concat(\"https://lights.paulbivrell.com\",\"/user\"),{withCredentials:!0}).then((function(e){var t;console.log(\"Test\",e),t=e.data,u(t),t.hubs&&t.hubs.forEach((function(e){var t;t=e.id,d.a.get(\"\".concat(\"https://lights.paulbivrell.com\",\"/user/hub/\").concat(t),{withCredentials:!0}).then((function(e){!function(e,t){var c=Object(P.a)({},s);c[e]=t,i(c)}(t,e.data)})).catch((function(e){T(e)}))}))})).catch((function(e){g(!1),T(e)}))}return Object(n.useEffect)((function(){C(),setTimeout((function(){g(!1)}),3e5)}),[]),Object(p.jsx)(p.Fragment,{children:O?Object(p.jsxs)(\"div\",{className:\"Page\",children:[Object(p.jsx)(\"div\",{className:\"User\",children:Object(p.jsxs)(R.a,{drop:\"up\",variant:\"secondary\",title:j.id?j.id:\"\",size:\"lg\",onSelect:w,children:[Object(p.jsx)(J.a.Item,{eventKey:\"settings\",children:\"Settings\"}),Object(p.jsx)(J.a.Divider,{}),Object(p.jsx)(J.a.Item,{eventKey:\"logout\",children:\"Logout\"})]})}),Object(p.jsx)(\"div\",{className:\"ButtonPanel\",children:null!==s?Object.entries(s).map((function(e){var t=Object(o.a)(e,2),c=t[0],n=t[1];return console.log(\"This\",s),n.lights.length<1?Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(\"p\",{children:\"None of your lights are on! \"})}):n.lights.map((function(e){return Object(p.jsx)(_,{className:\"ButtonItem\",hub:c,name:e})}))})):Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(\"p\",{children:[\"You don't appear to have a registed hub \",Object(p.jsx)(\"a\",{href:\"#\",children:\"register now\"}),\". If this is a mistake get \",Object(p.jsx)(\"a\",{href:\"#\",children:\"more info\"})]})})})]}):Object(p.jsxs)(\"div\",{className:\"Popup Centered\",children:[Object(p.jsxs)(E.a,{type:\"checkbox\",value:m,onChange:function(e){return v(!m)},children:[Object(p.jsx)(G.a,{id:\"tbg-btn-1\",value:!1,children:\"Login\"}),Object(p.jsx)(G.a,{id:\"tbg-btn-3\",value:!0,children:\"Signup\"})]}),m?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(\"h3\",{children:\"Signup\"}),Object(p.jsx)(U,{callback:function(){return g(!0)}})]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(\"h3\",{children:\"Login\"}),Object(p.jsx)(z,{callback:function(){g(!0),console.log(\"Logged in\"),window.location.reload()}})]})]})})};c(345);c(79),c(141),c(192),c(384);var X=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,400)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),s(e),i(e)}))},Y=c(135),Q=c(22);i.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(Y.a,{children:Object(p.jsxs)(Q.c,{children:[Object(p.jsx)(Q.a,{exact:!0,path:\"/dev\",children:Object(p.jsx)(N,{})}),Object(p.jsx)(Q.a,{exact:!0,path:\"/run\",children:Object(p.jsx)(F,{})}),Object(p.jsx)(Q.a,{exact:!0,path:\"/setup\",children:Object(p.jsx)(w,{})}),Object(p.jsx)(Q.a,{exact:!0,path:\"/lights\",children:Object(p.jsx)(S,{})}),Object(p.jsx)(Q.a,{exact:!0,path:\"/control\",children:Object(p.jsx)(L,{})}),Object(p.jsx)(Q.a,{exact:!0,path:\"/signup\",children:Object(p.jsx)(U,{})}),Object(p.jsx)(Q.a,{exact:!0,path:\"/login\",children:Object(p.jsx)(z,{})}),Object(p.jsx)(Q.a,{exact:!0,path:\"/\",children:Object(p.jsx)(H,{})}),Object(p.jsx)(Q.a,{exact:!0,path:\"/home\",children:Object(p.jsx)(H,{})})]})})}),document.getElementById(\"root\")),X()},43:function(e,t,c){}},[[388,1,2]]]);","name":"static/js/main.5a811127.chunk.js","map":{"version":3,"sources":["static/js/main.5a811127.chunk.js"],"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","slicedToArray","Button","regenerator","regenerator_default","asyncToGenerator","Spinner","axios","axios_default","react_select_esm","jsx_runtime","baseURL","timeout","LightDetect","_ref","next","_useState","Object","_useState2","loading","setLoading","_useState3","_useState4","failed","setFailed","_useState5","_useState6","networks","setNetworks","_useState7","_useState8","ssid","setSSID","_useState9","_useState10","password","setPassword","onLoad","_onLoad","apply","arguments","a","mark","_callee","wrap","_context","prev","get","then","response","data","catch","resp","stop","_onSubmit","_callee2","_context2","concat","children","animation","onClick","onChange","selected","value","searchable","options","map","d","label","type","name","e","target","LightIP_baseURL","LightIP_LightDetect","setIP","console","log","containers_setup","cancel","prom","setPrompt","updatePrompt","i","length","undefined","nextProm","className","class","index_module","containers_light","g","b","color","setColor","ip","pixels","last","Date","now","getInt64Bytes","x","y","Math","floor","pow","z","Uint8Array","bytes","_bytes","generateBinary","blob","Blob","bodyFormData","FormData","append","method","url","headers","ReactKonva","Bulb","delay","radius","click","isShown","setIsShown","setTimeout","fill","programming","processSequence","seq","nextColors","count","j","index","lights","setLights","rows","window","innerWidth","fr","FileReader","onload","result","files","readAsArrayBuffer","width","height","innerHeight","elem","idx","run","enctype","action","id","LightListItem_LightDetect","all","clicked","setClicked","status","setStatus","Status","style","forEach","v","defaultChecked","float","join","control","sampleData","groups","objectSpread2","Form","defineProperty","useFormFields","initialState","fields","setValues","event","displayError","request","responseURL","login","callback","_useFormFields","user","_useFormFields2","field","handleFieldChange","handleSubmit","preventDefault","post","JSON","stringify","withCredentials","onSubmit","Group","controlId","size","Label","Control","autoFocus","block","variant","disabled","signup","URL","email","confirmPassword","confirmationCode","put","ToggleButtonGroup","ToggleButton","DropdownButton","Dropdown","es","Bulb_crop","p","OffBulb_crop","containers_lightsettings","light","hub","ID","Alias","Count","parseInt","Updated","toLocaleDateString","toLocaleTimeString","components_Picker2","settings","setSettings","setLight","patternMode","setPatternMode","patterns","setPatterns","selectPattern","getLight","alias","creator","_useState11","hsl","rgb","hex","_useState12","settingsCallback","pattern","PatternID","split","onColorChange","hue","c","pushColor","background","s","src","onChangeComplete","containers_home","hubs","setHubs","userData","setUserData","authed","setAuthed","register","setRegister","dropDown","delete","getUserData","loadHubData","drop","title","onSelect","Item","eventKey","Divider","entries","_ref2","key","href","location","reload","src_reportWebVitals","onPerfEntry","Function","bind","getCLS","getFID","getFCP","getLCP","getTTFB","react_router_dom","react_router","render","StrictMode","exact","path","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonplight\"] = this[\"webpackJsonplight\"] || []).push([[0],{\n\n/***/ 109:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 153:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 239:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 344:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 388:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(30);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(109);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 1 modules\nvar slicedToArray = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(43);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Button.js\nvar Button = __webpack_require__(19);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(37);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(60);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Spinner.js\nvar Spinner = __webpack_require__(66);\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(18);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// EXTERNAL MODULE: ./node_modules/react-select/dist/react-select.esm.js + 32 modules\nvar react_select_esm = __webpack_require__(194);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/components/LightDetect.js\nvar baseURL=\"https://lights.paulbirvell.com\";var timeout=10*1000;function LightDetect(_ref){var next=_ref.next;var _useState=Object(react[\"useState\"])(true),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),failed=_useState4[0],setFailed=_useState4[1];var _useState5=Object(react[\"useState\"])([]),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),networks=_useState6[0],setNetworks=_useState6[1];var _useState7=Object(react[\"useState\"])(\"\"),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),ssid=_useState8[0],setSSID=_useState8[1];var _useState9=Object(react[\"useState\"])(\"\"),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),password=_useState10[0],setPassword=_useState10[1];Object(react[\"useEffect\"])(function(){onLoad();},[]);function onLoad(){return _onLoad.apply(this,arguments);}function _onLoad(){_onLoad=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);axios_default.a.get(baseURL+\"/networks\",{timeout:timeout}).then(function(response){setNetworks(response.data);setLoading(false);}).catch(function(resp){setFailed(true);setLoading(false);});case 2:case\"end\":return _context.stop();}}},_callee);}));return _onLoad.apply(this,arguments);}function onSubmit(){return _onSubmit.apply(this,arguments);}function _onSubmit(){_onSubmit=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setLoading(true);axios_default.a.get(baseURL+\"/login?ssid=\".concat(ssid,\"&password=\").concat(password),{timeout:timeout}).then(function(response){next();}).catch(function(resp){setFailed(true);});setLoading(false);case 3:case\"end\":return _context2.stop();}}},_callee2);}));return _onSubmit.apply(this,arguments);}function onRetry(){setFailed(false);onLoad();}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[loading?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\" Searching for lights \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Spinner[\"a\" /* default */],{animation:\"border\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{})]}):failed?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"Failed to setup new lights\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:function onClick(){return onRetry();},children:\"Retry\"})]}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"Found new lights\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"Select Wifi you would like to connect them to\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_select_esm[\"a\" /* default */],{onChange:function onChange(selected){return setSSID(selected.value);},searchable:true,options:networks.map(function(d){return{\"value\":d,\"label\":d};})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Password: \"}),\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",name:\"name\",onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:onSubmit,children:\"Submit\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:function onClick(){next(-1);},children:\"Back\"})]});}\n// CONCATENATED MODULE: ./src/components/LightIP.js\nvar LightIP_baseURL=\"https://lights.paulbirvell.com\";var LightIP_timeout=3*1000;function LightIP_LightDetect(_ref){var next=_ref.next;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),failed=_useState4[0],setFailed=_useState4[1];var _useState5=Object(react[\"useState\"])(\"\"),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),ip=_useState6[0],setIP=_useState6[1];Object(react[\"useEffect\"])(function(){onLoad();},[]);function onLoad(){return _onLoad.apply(this,arguments);}function _onLoad(){_onLoad=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);axios_default.a.get(LightIP_baseURL+\"/ip\",{timeout:LightIP_timeout}).then(function(response){setIP(response.data);}).catch(function(resp){setFailed(true);});setLoading(false);case 3:case\"end\":return _context.stop();}}},_callee);}));return _onLoad.apply(this,arguments);}function onRetry(){onLoad();}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[loading?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\" Getting device IP\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Spinner[\"a\" /* default */],{animation:\"border\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{})]}):failed?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"Failed to connect with device\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:function onClick(){return onRetry();},children:\"Retry\"})]}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"Congradulations your lights are ready to go!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"Remeber to reconnect your device to the same network as the lights\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:function onClick(){return console.log(\"TODO\");},children:\"Light\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:function onClick(){next(-1);},children:\"Back\"})]});}\n// CONCATENATED MODULE: ./src/containers/setup.js\nfunction Setup(_ref){var cancel=_ref.cancel;var _useState=Object(react[\"useState\"])(0),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),prom=_useState2[0],setPrompt=_useState2[1];function updatePrompt(){var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var nextProm=prom+i;if(nextProm>3){nextProm=0;}setPrompt(nextProm);}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"App\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"header\",{className:\"App-header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{className:\"close\",onClick:cancel,children:\"X\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:prom===0?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"Plug in Inf-Lights. They should blink \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{class:\"red\",children:\"red\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:function onClick(){updatePrompt();},children:\" Next\"})]}):prom===1?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"Go to wifi settings and connect to \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"code\",{children:\"P-lights-0\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:function onClick(){updatePrompt();},children:\" Next\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:function onClick(){return updatePrompt(-1);},children:\" Back\"})]}):prom===2?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LightDetect,{next:updatePrompt}):prom===3?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LightIP_LightDetect,{next:updatePrompt}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{})})]})});}/* harmony default export */ var containers_setup = (Setup);\n// EXTERNAL MODULE: ./node_modules/react-colorful/dist/index.module.js\nvar index_module = __webpack_require__(98);\n\n// CONCATENATED MODULE: ./src/containers/light.js\nfunction Light(){var _useState=Object(react[\"useState\"])({r:200,g:150,b:35}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),color=_useState2[0],setColor=_useState2[1];var _useState3=Object(react[\"useState\"])({ip:\"192.168.86.162\",pixels:50}),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),ip=_useState4[0],setIP=_useState4[1];var last=Date.now();function onColorChange(color){var now=Date.now();console.log(color);if(now-last<100){console.log(\"ignoring time\");return;}last=now;setColor(color);var data=generateBinary(color,ip.pixels);var blob=new Blob([data],{type:\"application/octet-stream\"});var bodyFormData=new FormData();bodyFormData.append(\"file\",blob,\"dummy.bin\");console.log(\"http://\".concat(ip,\"/upload\"));axios_default()({method:\"post\",url:\"http://\".concat(ip.ip,\"/upload\"),data:bodyFormData,headers:{\"Content-Type\":\"multipart/form-data\"}}).then(function(response){//handle success\nconsole.log(response);}).catch(function(response){//handle error\nconsole.log(response);});//axios.get(`http://${ip}/color?r=${color.r}&g=${color.g}&b=${color.b}`).catch((resp) => {\n//\tconsole.log(\"TODO\")\n//});\n}function generateBinary(color,pixels){var data=new Uint8Array((2+pixels)*8);var bytes=getInt64Bytes(pixels);var count=bytes[bytes.length-2]<<8|bytes[bytes.length-1];data[0]=0x3;data[1]=bytes[bytes.length-1];data[2]=bytes[bytes.length-2];for(var i=0;i<pixels;i++){var _bytes=getInt64Bytes(i);data[(i+1)*8]=0x1;data[(i+1)*8+1]=color.r;data[(i+1)*8+2]=color.g;data[(i+1)*8+3]=color.b;data[(i+1)*8+4]=_bytes[_bytes.length-1];data[(i+1)*8+5]=_bytes[_bytes.length-2];}data[8+pixels*8]=0x2;data[8+pixels*8+1]=200;data[8+pixels*8+2]=0;data[8+pixels*8+3]=0;data[8+pixels*8+4]=0;console.log(data);return data;}function getInt64Bytes(x){var y=Math.floor(x/Math.pow(2,32));return[y,y<<8,y<<16,y<<24,x,x<<8,x<<16,x<<24].map(function(z){return z>>>24;});}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"App\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"header\",{className:\"App-header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_module[\"a\" /* RgbColorPicker */],{color:color,onChange:onColorChange}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[color.r,\", \",color.g,\", \",color.b]})]})});}/* harmony default export */ var containers_light = (Light);\n// EXTERNAL MODULE: ./node_modules/react-konva/es/ReactKonva.js + 60 modules\nvar ReactKonva = __webpack_require__(46);\n\n// CONCATENATED MODULE: ./src/components/Bulb.js\nfunction Bulb(_ref){var delay=_ref.delay,color=_ref.color,x=_ref.x,y=_ref.y,radius=_ref.radius,click=_ref.click;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isShown=_useState2[0],setIsShown=_useState2[1];Object(react[\"useEffect\"])(function(){setTimeout(function(){setIsShown(true);},delay);},[delay]);return isShown?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ReactKonva[\"a\" /* Circle */],{x:x,y:y,radius:radius,fill:color,onClick:click}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ReactKonva[\"a\" /* Circle */],{x:x,y:y,radius:radius,fill:\"black\",onClick:click});}\n// CONCATENATED MODULE: ./src/containers/programming.js\nfunction Programming(){function handleFiles(e){var fr=new FileReader();fr.onload=function(){processSequence(fr.result);};if(e.target.files.length>0){fr.readAsArrayBuffer(e.target.files[0]);}}function processSequence(seq){console.log(seq);var bytes=new Uint8Array(seq);console.log(bytes);var nextColors=[];var delay=0;for(var i=0;i<bytes.length;i+=8){if(bytes[i]===0x3&&i===0){var count=bytes[i+2]<<8|bytes[i+1];console.log(\"Count\",count);for(var j=0;j<count;j++){nextColors.push({color:\"rgb(0,0,0)\"});}}else if(bytes[i]===0x1){var r=bytes[i+1];var g=bytes[i+2];var b=bytes[i+3];var index=bytes[i+5]<<8|bytes[i+4];console.log(\"color\",r,g,b,index);nextColors[index]={color:\"rgb(\".concat(r,\",\").concat(g,\",\").concat(b,\")\")};}else if(bytes[i]===0x2){delay+=bytes[i+4]<<24|bytes[i+3]<<16|bytes[i+2]<<8|bytes[i+1];console.log(\"delay\",delay);setTimeout(function(lights){console.log(\"Changed lights\");setLights(lights);},delay,[].concat(nextColors));}}setTimeout(function(){processSequence(seq);},delay);}var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),lights=_useState2[0],setLights=_useState2[1];var rows=Math.floor((window.innerWidth-200)/170);var radius=50;var xOffset=120;var yOffset=120;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"App\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"file\",name:\"file\",onChange:handleFiles}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"header\",{className:\"App-header\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ReactKonva[\"c\" /* Stage */],{width:window.innerWidth,height:window.innerHeight,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ReactKonva[\"b\" /* Layer */],{children:lights.map(function(elem,idx){console.log(elem,idx);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Bulb,{x:xOffset+xOffset*(idx%rows),y:yOffset+yOffset*Math.floor(idx/rows),color:elem.color,radius:radius});})})})})]});}/* harmony default export */ var programming = (Programming);\n// CONCATENATED MODULE: ./src/containers/run.js\nfunction Run(){//const [ip, setIP] = useState(\"192.168.86.136\");\n//const [ip, setIP] = useState(\"192.168.86.144\");\nvar _useState=Object(react[\"useState\"])(\"192.168.86.152\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),ip=_useState2[0],setIP=_useState2[1];return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"App\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"header\",{className:\"App-header\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{method:\"POST\",enctype:\"multipart/form-data\",action:\"http://\"+ip+\"/upload\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"file\",id:\"myFile\",name:\"filename\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"submit\"})]})})});}/* harmony default export */ var run = (Run);\n// CONCATENATED MODULE: ./src/components/LightListItem.js\nfunction LightListItem_LightDetect(_ref){var name=_ref.name,all=_ref.all,lights=_ref.lights;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),clicked=_useState2[0],setClicked=_useState2[1];function onToggle(e){lights.forEach(function(v){axios_default.a.get(\"http://\".concat(all[v].ip,\"/toggle\"),{timeout:1000}).catch(function(resp){console.log(\"failed to toggle\");});});// After 1/2 a second check if the lights are on\nsetTimeout(function(){setClicked(!clicked);},500);}Object(react[\"useEffect\"])(function(){if(lights.length===1){axios_default.a.get(\"http://\".concat(all[lights[0]].ip,\"/status\"),{timeout:1000}).then(function(resp){console.log(resp.data.status);if(resp.data.status){setStatus(\"active\");}else{setStatus(\"inactive\");}}).catch(function(){setStatus(\"offline\");});}},[clicked]);var _useState3=Object(react[\"useState\"])(lights.length===1?\"loading\":\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),Status=_useState4[0],setStatus=_useState4[1];return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:Status===\"offline\"?{color:\"grey\"}:{},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"checkbox\",onClick:function onClick(e){return onToggle(e);},defaultChecked:Status===\"active\",style:{float:\"right\",width:\"100px\"}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"Name: \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"Devices(s): \"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:lights.length===1?all[lights[0]].ip:lights.map(function(x){return all[x].name;}).join(\",\")})]},name);}\n// CONCATENATED MODULE: ./src/containers/control.js\nfunction Control(){var sampleData={lights:[{id:0,name:\"lower tree\",ip:\"192.168.86.136\",pixels:100},{id:1,name:\"upper tree\",ip:\"192.168.86.137\",pixels:100},{id:2,name:\"test\",ip:\"192.168.86.140\",pixels:50}],groups:[{name:\"lower tree\",lights:[0]},{name:\"upper tree\",lights:[1]},{name:\"test\",lights:[2]},{name:\"tree\",lights:[0,1]}]};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"App\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"header\",{className:\"App-header\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"ul\",{children:sampleData.groups.map(function(v,i){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LightListItem_LightDetect,{name:v.name,all:sampleData.lights,lights:v.lights})});})})})});}/* harmony default export */ var control = (Control);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./src/containers/home.css\nvar home = __webpack_require__(239);\n\n// EXTERNAL MODULE: ./src/components/Picker2.css\nvar Picker2 = __webpack_require__(153);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Form.js + 15 modules\nvar Form = __webpack_require__(17);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(15);\n\n// CONCATENATED MODULE: ./src/lib/hooks.js\nfunction useFormFields(initialState){var _useState=Object(react[\"useState\"])(initialState),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),fields=_useState2[0],setValues=_useState2[1];return[fields,function(event){setValues(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},fields),{},Object(defineProperty[\"a\" /* default */])({},event.target.id,event.target.value)));}];}function displayError(e){if(e.response){console.log(\"URL\",e.request.responseURL);if(e.response.status===401&&e.request.responseURL!==\"https://lights.paulbivrell.com/user\"){console.log(\"reload please\");}}console.log(e);}\n// CONCATENATED MODULE: ./src/containers/login.js\nfunction Login(_ref){var callback=_ref.callback;var URL=\"https://lights.paulbivrell.com\"+\"/user\";var _useFormFields=useFormFields({user:\"\",password:\"\"}),_useFormFields2=Object(slicedToArray[\"a\" /* default */])(_useFormFields,2),field=_useFormFields2[0],handleFieldChange=_useFormFields2[1];var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),loading=_useState2[0],setLoading=_useState2[1];function validateConfirmationForm(){return field.user.length>0&&field.password.length>0;}function handleSubmit(event){event.preventDefault();setLoading(true);axios_default.a.post(URL,JSON.stringify(field),{withCredentials:true}).then(function(resp){callback();}).catch(function(e){displayError(e);setLoading(false);});}function renderForm(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */],{onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{controlId:\"user\",size:\"lg\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{children:\"Username\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{autoFocus:true,type:\"text\",value:field.user,onChange:handleFieldChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{controlId:\"password\",size:\"lg\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{children:\"Password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{type:\"password\",value:field.password,onChange:handleFieldChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{block:true,size:\"lg\",type:\"submit\",variant:\"success\",disabled:!validateConfirmationForm()||loading,children:!loading?\"Login\":\"loading...\"})]});}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"Signup\",children:renderForm()});}/* harmony default export */ var login = (Login);\n// CONCATENATED MODULE: ./src/containers/signup.js\nfunction Signup(_ref){var callback=_ref.callback;var URL=\"https://lights.paulbivrell.com\"+\"/user\";var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useFormFields=useFormFields({email:\"\",id:\"\",password:\"\",confirmPassword:\"\",confirmationCode:\"\"}),_useFormFields2=Object(slicedToArray[\"a\" /* default */])(_useFormFields,2),field=_useFormFields2[0],handleFieldChange=_useFormFields2[1];function validateConfirmationForm(){return field.email.length>0&&field.password.length>0&&field.password===field.confirmPassword;}function handleSubmit(event){event.preventDefault();setLoading(true);axios_default.a.put(URL,JSON.stringify(field)).then(function(resp){axios_default.a.post(URL,JSON.stringify({\"user\":field.id,\"password\":field.password}),{withCredentials:true}).then(function(resp){callback();}).catch(function(e){displayError(e);setLoading(false);});}).catch(function(e){setLoading(false);displayError(e);});}function renderForm(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */],{onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{controlId:\"id\",size:\"lg\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{children:\"Username\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{autoFocus:true,type:\"text\",value:field.id,onChange:handleFieldChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{controlId:\"email\",size:\"lg\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{children:\"Email\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{autoFocus:true,type:\"email\",value:field.email,onChange:handleFieldChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{controlId:\"password\",size:\"lg\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{children:\"Password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{type:\"password\",value:field.password,onChange:handleFieldChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{controlId:\"confirmPassword\",size:\"lg\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{children:\"Confirm Password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{type:\"password\",onChange:handleFieldChange,value:field.confirmPassword})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{block:true,size:\"lg\",type:\"submit\",variant:\"success\",disabled:!validateConfirmationForm()||loading,children:!loading?\"Signup\":\"loading...\"})]});}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"Signup\",children:renderForm()});}/* harmony default export */ var signup = (Signup);\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/ToggleButtonGroup.js + 3 modules\nvar ToggleButtonGroup = __webpack_require__(399);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/ToggleButton.js\nvar ToggleButton = __webpack_require__(189);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/DropdownButton.js\nvar DropdownButton = __webpack_require__(398);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Dropdown.js + 13 modules\nvar Dropdown = __webpack_require__(195);\n\n// EXTERNAL MODULE: ./node_modules/react-color/es/index.js + 211 modules\nvar es = __webpack_require__(140);\n\n// CONCATENATED MODULE: ./src/res/Bulb_crop.png\n/* harmony default export */ var Bulb_crop = (__webpack_require__.p + \"static/media/Bulb_crop.4dabd27e.png\");\n// CONCATENATED MODULE: ./src/res/OffBulb_crop.png\n/* harmony default export */ var OffBulb_crop = (__webpack_require__.p + \"static/media/OffBulb_crop.94f07016.png\");\n// CONCATENATED MODULE: ./src/res/DisconnectedBulb_crop.png\n/* harmony default export */ var DisconnectedBulb_crop = (__webpack_require__.p + \"static/media/DisconnectedBulb_crop.4d12a43d.png\");\n// EXTERNAL MODULE: ./src/containers/lightsettings.css\nvar lightsettings = __webpack_require__(344);\n\n// CONCATENATED MODULE: ./src/containers/lightsettings.js\nfunction LightSettings(_ref){var light=_ref.light,hub=_ref.hub,callback=_ref.callback;var URL=\"\".concat(\"https://lights.paulbivrell.com\",\"/user/hub/\").concat(hub,\"/light/\").concat(light.ID);var _useFormFields=useFormFields({Alias:light.Alias,Count:parseInt(light.Count)}),_useFormFields2=Object(slicedToArray[\"a\" /* default */])(_useFormFields,2),field=_useFormFields2[0],handleFieldChange=_useFormFields2[1];var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),loading=_useState2[0],setLoading=_useState2[1];function validateConfirmationForm(){return field.Count>0;}function handleSubmit(event){event.preventDefault();setLoading(true);field.Count=parseInt(field.Count);console.log(field);axios_default.a.post(URL,JSON.stringify(field),{withCredentials:true}).then(function(resp){setLoading(false);callback();}).catch(function(e){displayError(e);setLoading(false);});}function renderForm(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */],{onSubmit:handleSubmit,className:\"SettingForm\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Label,{children:[\"ID: \",light.ID]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{controlId:\"Alias\",size:\"lg\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{children:\"Alias:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{autoFocus:true,className:\"SettingsFormInput\",type:\"text\",value:field.Alias,onChange:handleFieldChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Group,{controlId:\"Count\",size:\"lg\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{children:\"Bulbs:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Control,{autoFocus:true,className:\"SettingsFormInput\",type:\"number\",value:parseInt(field.Count),onChange:handleFieldChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Label,{children:new Date(light.Updated).toLocaleDateString()+\" \"+new Date(light.Updated).toLocaleTimeString()}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{block:true,size:\"sm\",type:\"submit\",variant:\"success\",disabled:!validateConfirmationForm()||loading,children:!loading?\"Update\":\"loading...\"})]});}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"Signup\",children:renderForm()});}/* harmony default export */ var containers_lightsettings = (LightSettings);\n// CONCATENATED MODULE: ./src/components/Picker2.js\nfunction Picker2_Picker2(_ref){var name=_ref.name,hub=_ref.hub;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),settings=_useState2[0],setSettings=_useState2[1];var _useState3=Object(react[\"useState\"])({}),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),light=_useState4[0],setLight=_useState4[1];var _useState5=Object(react[\"useState\"])(true),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),patternMode=_useState6[0],setPatternMode=_useState6[1];var _useState7=Object(react[\"useState\"])([]),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),patterns=_useState8[0],setPatterns=_useState8[1];var _useState9=Object(react[\"useState\"])(\"\"),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),selected=_useState10[0],selectPattern=_useState10[1];Object(react[\"useEffect\"])(function(){getLight();getPatterns();},[]);var _useState11=Object(react[\"useState\"])({hsl:{a:1},rgb:{a:1},hex:\"\"}),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),color=_useState12[0],setColor=_useState12[1];function settingsCallback(){setSettings(false);getLight();}function getLight(){axios_default.a.get(\"\".concat(\"https://lights.paulbivrell.com\",\"/user/hub/\").concat(hub,\"/light/\").concat(name),{withCredentials:true}).then(function(resp){setLight(resp.data);var pattern=resp.data.PatternID.split(\"~\")[1].split(\".\")[0].split(\"-\");console.log(pattern);setColor({rgb:{r:pattern[0],g:pattern[1],b:pattern[2],a:pattern[3]/100},hex:\"rgba(\".concat(pattern[0],\",\").concat(pattern[1],\",\").concat(pattern[2],\",\").concat(pattern[3]/100),hsl:{a:pattern[3]/100}});}).catch(function(e){displayError(e);});}function getPatterns(){setPatterns([{\"alias\":\"spring\",\"id\":0,\"creator\":\"demo\"},{\"alias\":\"spring\",\"id\":0,\"creator\":\"demo\"}]);}/*function pushLight(pushColor) {\n\t\tlet data = generateBinary(pushColor, light.Count);\n                let blob = new Blob([data], {type: \"application/octet-stream\"});\n                let bodyFormData = new FormData();\n                bodyFormData.append(\"file\", blob, `${pushColor.r}-${pushColor.g}-${pushColor.b}-${pushColor.a}.bin`);\n\n                axios({\n                \tmethod: \"post\",\n                \turl: `http://${light.IP}/upload`,\n                \tdata: bodyFormData,\n                \theaders: { \"Content-Type\": \"multipart/form-data\" },\n                })\n                .then(function (response) {\n                \tconsole.log(response);\n                })\n                .catch(function (response) {\n                \tdisplayError(response)\n                });\n\t}*/function pushLight(pushColor){axios_default.a.post(\"\".concat(\"https://lights.paulbivrell.com\",\"/user/hub/\").concat(hub,\"/light/\").concat(name),{PatternID:\"~\".concat(pushColor.r,\"-\").concat(pushColor.g,\"-\").concat(pushColor.b,\"-\").concat(Math.floor(pushColor.a*100),\".bin\")},{withCredentials:true}).then(function(resp){console.log(\"toggled\");}).catch(function(e){displayError(e);});}function pushToggle(s){axios_default.a.post(\"\".concat(\"https://lights.paulbivrell.com\",\"/user/hub/\").concat(hub,\"/light/\").concat(name),{Status:s},{withCredentials:true}).then(function(resp){console.log(\"toggled\");}).catch(function(e){displayError(e);});}function toggleBulb(){var map=Object(objectSpread2[\"a\" /* default */])({},light);map.Status=!map.Status;setLight(map);pushToggle(map.Status);}function onColorChange(hue,c){console.log(c);var hsl=c.hsl;var rgb=c.rgb;if(!hue){hsl.a=color.hsl.a;rgb.a=color.rgb.a;}setColor({hsl:hsl,rgb:c.rgb,hex:\"rgba(\".concat(c.rgb.r,\",\").concat(c.rgb.g,\",\").concat(c.rgb.b,\",\").concat(hsl.a)});pushLight(c.rgb);}function generateBinary(color,pixels){var data=new Uint8Array((2+pixels)*8);var bytes=getInt64Bytes(pixels);var count=bytes[bytes.length-2]<<8|bytes[bytes.length-1];data[0]=0x3;data[1]=bytes[bytes.length-1];data[2]=bytes[bytes.length-2];for(var i=0;i<pixels;i++){var _bytes=getInt64Bytes(i);data[(i+1)*8]=0x1;data[(i+1)*8+1]=parseInt(color.r*color.a);data[(i+1)*8+2]=parseInt(color.g*color.a);data[(i+1)*8+3]=parseInt(color.b*color.a);data[(i+1)*8+4]=_bytes[_bytes.length-1];data[(i+1)*8+5]=_bytes[_bytes.length-2];}data[8+pixels*8]=0x2;data[8+pixels*8+1]=200;data[8+pixels*8+2]=0;data[8+pixels*8+3]=0;data[8+pixels*8+4]=0;console.log(data);return data;}function getInt64Bytes(x){var y=Math.floor(x/Math.pow(2,32));return[y,y<<8,y<<16,y<<24,x,x<<8,x<<16,x<<24].map(function(z){return z>>>24;});}function dropDown(e){console.log(\"Dropdown\",e);}function renderPatterns(){console.log(\"patterns\",patterns);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"Popup Pattern\",children:patterns.map(function(x){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{onClick:function onClick(){selectPattern(x.id);},children:[x.id,\" - \",x.alias,\" | \",x.creator]});})});}function renderSettings(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"Popup Auth\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(containers_lightsettings,{light:light,hub:hub,callback:settingsCallback})});}function togglePatternMode(){setPatternMode(!patternMode);}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"Picker\",children:[settings?renderSettings():/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"ButtonText\",onClick:function onClick(){return setSettings(!settings);},children:light.Alias===\"\"?light.ID:light.Alias}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"Button\",style:{background:color.hex},onClick:toggleBulb,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"ButtonImage\",src:light.Status?Bulb_crop:OffBulb_crop})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"checkbox\",onClick:function onClick(){return togglePatternMode();}}),light.Status?!patternMode?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"b\" /* HuePicker */],{className:\"ButtonImage\",color:color.hsl,onChangeComplete:function onChangeComplete(c){return onColorChange(false,c);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"a\" /* AlphaPicker */],{className:\"ButtonImage\",color:color.hsl,onChangeComplete:function onChangeComplete(c){return onColorChange(true,c);}})]}):renderPatterns():/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{})]});}/* harmony default export */ var components_Picker2 = (Picker2_Picker2);\n// CONCATENATED MODULE: ./src/res/AddBulb_crop.png\n/* harmony default export */ var AddBulb_crop = (__webpack_require__.p + \"static/media/AddBulb_crop.aa00de5e.png\");\n// CONCATENATED MODULE: ./src/containers/home.js\nfunction Home(){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),setup=_useState2[0],setSetup=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),hubs=_useState4[0],setHubs=_useState4[1];var _useState5=Object(react[\"useState\"])({}),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),userData=_useState6[0],setUserData=_useState6[1];var _useState7=Object(react[\"useState\"])(true),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),authed=_useState8[0],setAuthed=_useState8[1];var _useState9=Object(react[\"useState\"])(false),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),register=_useState10[0],setRegister=_useState10[1];function addBulbToggle(){setSetup(!setup);}function dropDown(e){if(e===\"logout\"){logout();}else if(e===\"settings\"){settings();}}function logout(){axios_default.a.delete(\"\".concat(\"https://lights.paulbivrell.com\",\"/user\"),{withCredentials:true}).then(function(resp){setAuthed(false);setUserData({});}).catch(function(e){displayError(e);});console.log(\"logout\");}function settings(){console.log(\"setting\");}function sampleUserData(){return{\"id\":\"ruckens\",\"lights\":[{\"alias\":\"main\",\"id\":\"OriginalLight1\"},{\"alias\":\"main\",\"id\":\"OriginalLight1\"}]};}function getUserData(){console.log(\"Loading\",authed);axios_default.a.get(\"\".concat(\"https://lights.paulbivrell.com\",\"/user\"),{withCredentials:true}).then(function(resp){console.log(\"Test\",resp);loadUserData(resp.data);}).catch(function(e){setAuthed(false);displayError(e);});}function loadUserData(data){setUserData(data);if(data.hubs){data.hubs.forEach(function(v){lookupHub(v.id);});}}function lookupHub(name){axios_default.a.get(\"\".concat(\"https://lights.paulbivrell.com\",\"/user/hub/\").concat(name),{withCredentials:true}).then(function(resp){loadHubData(name,resp.data);}).catch(function(e){displayError(e);});}function loadHubData(hub,data){var map=Object(objectSpread2[\"a\" /* default */])({},hubs);map[hub]=data;setHubs(map);}function renderRegister(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"Auth\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(containers_setup,{})});}function renderAuth(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"Popup Centered\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(ToggleButtonGroup[\"a\" /* default */],{type:\"checkbox\",value:register,onChange:function onChange(v){return setRegister(!register);},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ToggleButton[\"a\" /* default */],{id:\"tbg-btn-1\",value:false,children:\"Login\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ToggleButton[\"a\" /* default */],{id:\"tbg-btn-3\",value:true,children:\"Signup\"})]}),!register?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Login\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(login,{callback:function callback(){setAuthed(true);console.log(\"Logged in\");window.location.reload();}})]}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Signup\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(signup,{callback:function callback(){return setAuthed(true);}})]})]});}function renderPage(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"Page\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"User\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(DropdownButton[\"a\" /* default */],{drop:'up',variant:\"secondary\",title:userData.id?userData.id:\"\",size:\"lg\",onSelect:dropDown,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Dropdown[\"a\" /* default */].Item,{eventKey:\"settings\",children:\"Settings\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Dropdown[\"a\" /* default */].Divider,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Dropdown[\"a\" /* default */].Item,{eventKey:\"logout\",children:\"Logout\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"ButtonPanel\",children:hubs!==null?Object.entries(hubs).map(function(_ref){var _ref2=Object(slicedToArray[\"a\" /* default */])(_ref,2),key=_ref2[0],value=_ref2[1];console.log(\"This\",hubs);if(value.lights.length<1){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"None of your lights are on! \"})});}else{return value.lights.map(function(value){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Picker2,{className:\"ButtonItem\",hub:key,name:value});});}}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"You don't appear to have a registed hub \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"#\",children:\"register now\"}),\". If this is a mistake get \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"#\",children:\"more info\"})]})})})]});}Object(react[\"useEffect\"])(function(){getUserData();setTimeout(function(){setAuthed(false);},5*60*1000);//console.log(sampleUserData().lights);\n//setUserData(sampleUserData());\n},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:authed?renderPage():renderAuth()});}/* harmony default export */ var containers_home = (Home);\n// EXTERNAL MODULE: ./node_modules/bootstrap/dist/css/bootstrap.css\nvar bootstrap = __webpack_require__(345);\n\n// CONCATENATED MODULE: ./src/components/Picker.js\nfunction Picker(_ref){var lightData=_ref.lightData,lights=_ref.lights;var _useState=Object(react[\"useState\"])({r:200,g:150,b:35}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),color=_useState2[0],setColor=_useState2[1];//const [ip, setIP] = useState({ ip: \"192.168.86.162\", pixels: 50 });\nvar last=Date.now();function onColorChange(color){var now=Date.now();console.log(color);if(now-last<100){console.log(\"ignoring time\");return;}last=now;setColor(color);console.log(lightData);console.log(lights);console.log(lights.lights);if(!lights||!lights.lights||!lightData){return;}lights.lights.forEach(function(light){console.log(\"looping\",light);var data=generateBinary(color,lightData.lights[light].pixels);var blob=new Blob([data],{type:\"application/octet-stream\"});var bodyFormData=new FormData();bodyFormData.append(\"file\",blob,\"dummy.bin\");axios_default()({method:\"post\",url:\"http://\".concat(lightData.lights[light].ip,\"/upload\"),data:bodyFormData,headers:{\"Content-Type\":\"multipart/form-data\"}}).then(function(response){//handle success\nconsole.log(response);}).catch(function(response){//handle error\nconsole.log(response);});});//axios.get(`http://${ip}/color?r=${color.r}&g=${color.g}&b=${color.b}`).catch((resp) => {\n//\tconsole.log(\"TODO\")\n//});\n}function generateBinary(color,pixels){var data=new Uint8Array((2+pixels)*8);var bytes=getInt64Bytes(pixels);var count=bytes[bytes.length-2]<<8|bytes[bytes.length-1];data[0]=0x3;data[1]=bytes[bytes.length-1];data[2]=bytes[bytes.length-2];for(var i=0;i<pixels;i++){var _bytes=getInt64Bytes(i);data[(i+1)*8]=0x1;data[(i+1)*8+1]=color.r;data[(i+1)*8+2]=color.g;data[(i+1)*8+3]=color.b;data[(i+1)*8+4]=_bytes[_bytes.length-1];data[(i+1)*8+5]=_bytes[_bytes.length-2];}data[8+pixels*8]=0x2;data[8+pixels*8+1]=200;data[8+pixels*8+2]=0;data[8+pixels*8+3]=0;data[8+pixels*8+4]=0;console.log(data);return data;}function getInt64Bytes(x){var y=Math.floor(x/Math.pow(2,32));return[y,y<<8,y<<16,y<<24,x,x<<8,x<<16,x<<24].map(function(z){return z>>>24;});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_module[\"a\" /* RgbColorPicker */],{color:color,onChange:onColorChange}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[color.r,\", \",color.g,\", \",color.b]})]});}/* harmony default export */ var components_Picker = (Picker);\n// CONCATENATED MODULE: ./src/components/Styler.js\nfunction Styler(){function processSequence(seq){console.log(seq);var bytes=new Uint8Array(seq);console.log(bytes);var nextColors=[];var delay=0;for(var i=0;i<bytes.length;i+=8){if(bytes[i]===0x3&&i===0){var count=bytes[i+2]<<8|bytes[i+1];console.log(\"Count\",count);for(var j=0;j<count;j++){nextColors.push({color:\"rgb(0,0,0)\"});}}else if(bytes[i]===0x1){var r=bytes[i+1];var g=bytes[i+2];var b=bytes[i+3];var index=bytes[i+5]<<8|bytes[i+4];console.log(\"color\",r,g,b,index);nextColors[index]={color:\"rgb(\".concat(r,\",\").concat(g,\",\").concat(b,\")\")};}else if(bytes[i]===0x2){delay+=bytes[i+4]<<24|bytes[i+3]<<16|bytes[i+2]<<8|bytes[i+1];console.log(\"delay\",delay);setTimeout(function(lights){console.log(\"Changed lights\");setLights(lights);},delay,[].concat(nextColors));}}}var _useState=Object(react[\"useState\"])([{color:\"rgb(50,50,50)\"},{color:\"rgb(50,50,50)\"},{color:\"rgb(50,50,50)\"},{color:\"rgb(50,50,50)\"},{color:\"rgb(50,50,50)\"},{color:\"rgb(50,50,50)\"},{color:\"rgb(50,50,50)\"},{color:\"rgb(50,50,50)\"},{color:\"rgb(50,50,50)\"},{color:\"rgb(50,50,50)\"}]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),lights=_useState2[0],setLights=_useState2[1];var rows=Math.floor((window.innerWidth-200)/170);var radius=50;var xOffset=120;var yOffset=120;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ReactKonva[\"c\" /* Stage */],{width:window.innerWidth,height:200,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ReactKonva[\"b\" /* Layer */],{children:lights.map(function(elem,idx){console.log(elem,idx);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Bulb,{x:xOffset+xOffset*(idx%rows),y:yOffset+yOffset*Math.floor(idx/rows),color:elem.color,radius:radius});})})});}/* harmony default export */ var components_Styler = (Styler);\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/Offcanvas.js + 35 modules\nvar Offcanvas = __webpack_require__(79);\n\n// EXTERNAL MODULE: ./node_modules/react-bootstrap/esm/ListGroup.js + 5 modules\nvar ListGroup = __webpack_require__(141);\n\n// EXTERNAL MODULE: ./node_modules/react-keyed-file-browser/index.js\nvar react_keyed_file_browser = __webpack_require__(192);\nvar react_keyed_file_browser_default = /*#__PURE__*/__webpack_require__.n(react_keyed_file_browser);\n\n// EXTERNAL MODULE: ./node_modules/react-keyed-file-browser/dist/react-keyed-file-browser.css\nvar dist_react_keyed_file_browser = __webpack_require__(384);\n\n// CONCATENATED MODULE: ./src/containers/other.js\nfunction Other(){function getData(){return _getData.apply(this,arguments);}function _getData(){_getData=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:case\"end\":return _context.stop();}}},_callee);}));return _getData.apply(this,arguments);}var _useState=Object(react[\"useState\"])({}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),data=_useState2[0],setData=_useState2[1];function getData(){console.log(\"getting data\");axios_default.a.get(\"http://homeserver/lights/config.json\").then(function(resp){var blob=resp.data;setData(blob);});}var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),files=_useState4[0],setFiles=_useState4[1];function getFiles(){axios_default.a.get(\"http://homeserver/lights/patterns/files.json\").then(function(resp){var blob=resp.data;setFiles(blob);});}var _useState5=Object(react[\"useState\"])(),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),selectedFile=_useState6[0],setSelectedFile=_useState6[1];var _useState7=Object(react[\"useState\"])(),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),selectedLight=_useState8[0],setSelectedLight=_useState8[1];function clickFile(file){var bodyFormData=new FormData();if(!selectedLight){return;}axios_default.a.get(\"http://homeserver/lights/patterns/\".concat(file.key),{responseType:'arraybuffer'}).then(function(resp){var bytes=new Uint8Array(resp.data);var blob=new Blob([resp.data],{type:\"application/octet-stream\"});bodyFormData.append(\"file\",blob,file.key);console.log(selectedLight);selectedLight.lights.forEach(function(light){axios_default()({method:\"post\",url:\"http://\".concat(data.lights[light].ip,\"/upload\"),data:bodyFormData,headers:{\"Content-Type\":\"multipart/form-data\"}}).then(function(response){//handle success\nconsole.log(response);}).catch(function(response){//handle error\nconsole.log(response);});console.log(data.lights[light]);});});}function clickLight(light){setSelectedLight(light);console.log(light);}Object(react[\"useEffect\"])(function(){getData();getFiles();},[]);var _useState9=Object(react[\"useState\"])(false),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),show=_useState10[0],setShow=_useState10[1];var handleClose=function handleClose(){return setShow(false);};var handleShow=function handleShow(){return setShow(true);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h3\",{children:[\"Selected Light: \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:selectedLight?selectedLight.name:\"\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Offcanvas[\"a\" /* default */],{show:show,onHide:handleClose,scroll:true,backdrop:false,placement:'bottom',children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Offcanvas[\"a\" /* default */].Header,{closeButton:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Offcanvas[\"a\" /* default */].Title,{children:\"Lights\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Offcanvas[\"a\" /* default */].Body,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ListGroup[\"a\" /* default */],{children:data.groups?data.groups.map(function(v,i){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ListGroup[\"a\" /* default */].Item,{action:true,onClick:function onClick(){return clickLight(v);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LightListItem_LightDetect,{name:v.name,all:data.lights,lights:v.lights})},i);}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{})})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_keyed_file_browser_default.a,{files:files,onSelectFile:clickFile}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Picker,{lightData:data,lights:selectedLight}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Styler,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"primary\",onClick:handleShow,children:\"Lights \"})]});}/* harmony default export */ var other = (Other);\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 400)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(135);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(22);\n\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"c\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/dev\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(programming,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/run\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(run,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/setup\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(containers_setup,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/lights\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(containers_light,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/control\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(control,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/signup\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(signup,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/login\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(login,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(containers_home,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/home\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(containers_home,{})})]})})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ }),\n\n/***/ 43:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ })\n\n},[[388,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/pbivrell/light/light/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/pbivrell/light/light/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/pbivrell/light/light/node_modules/postcss-loader/src/index.js??postcss!/Users/pbivrell/light/light/src/index.css","/Users/pbivrell/light/light/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/pbivrell/light/light/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/pbivrell/light/light/node_modules/postcss-loader/src/index.js??postcss!/Users/pbivrell/light/light/src/components/Picker2.css","/Users/pbivrell/light/light/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/pbivrell/light/light/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/pbivrell/light/light/node_modules/postcss-loader/src/index.js??postcss!/Users/pbivrell/light/light/src/containers/home.css","/Users/pbivrell/light/light/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/pbivrell/light/light/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/pbivrell/light/light/node_modules/postcss-loader/src/index.js??postcss!/Users/pbivrell/light/light/src/containers/lightsettings.css","/Users/pbivrell/light/light/src/components/LightDetect.js","/Users/pbivrell/light/light/src/components/LightIP.js","/Users/pbivrell/light/light/src/containers/setup.js","/Users/pbivrell/light/light/src/containers/light.js","/Users/pbivrell/light/light/src/components/Bulb.js","/Users/pbivrell/light/light/src/containers/programming.js","/Users/pbivrell/light/light/src/containers/run.js","/Users/pbivrell/light/light/src/components/LightListItem.js","/Users/pbivrell/light/light/src/containers/control.js","/Users/pbivrell/light/light/src/lib/hooks.js","/Users/pbivrell/light/light/src/containers/login.js","/Users/pbivrell/light/light/src/containers/signup.js","/Users/pbivrell/light/light/node_modules/url-loader/dist/cjs.js??ref--5-oneOf-1!/Users/pbivrell/light/light/src/res/Bulb_crop.png","/Users/pbivrell/light/light/node_modules/url-loader/dist/cjs.js??ref--5-oneOf-1!/Users/pbivrell/light/light/src/res/OffBulb_crop.png","/Users/pbivrell/light/light/node_modules/url-loader/dist/cjs.js??ref--5-oneOf-1!/Users/pbivrell/light/light/src/res/DisconnectedBulb_crop.png","/Users/pbivrell/light/light/src/containers/lightsettings.js","/Users/pbivrell/light/light/src/components/Picker2.js","/Users/pbivrell/light/light/node_modules/url-loader/dist/cjs.js??ref--5-oneOf-1!/Users/pbivrell/light/light/src/res/AddBulb_crop.png","/Users/pbivrell/light/light/src/containers/home.js","/Users/pbivrell/light/light/src/components/Picker.js","/Users/pbivrell/light/light/src/components/Styler.js","/Users/pbivrell/light/light/src/containers/other.js","/Users/pbivrell/light/light/src/reportWebVitals.js","/Users/pbivrell/light/light/src/index.js","/Users/pbivrell/light/light/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/pbivrell/light/light/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/pbivrell/light/light/node_modules/postcss-loader/src/index.js??postcss!/Users/pbivrell/light/light/src/App.css"],"names":["baseURL","process","timeout","LightDetect","next","useState","loading","setLoading","failed","setFailed","networks","setNetworks","ssid","setSSID","password","setPassword","useEffect","onLoad","axios","get","then","response","data","catch","resp","onSubmit","onRetry","selected","value","map","d","e","target","ip","setIP","console","log","Setup","cancel","prom","setPrompt","updatePrompt","i","nextProm","Light","r","g","b","color","setColor","pixels","last","Date","now","onColorChange","generateBinary","blob","Blob","type","bodyFormData","FormData","append","method","url","headers","Uint8Array","bytes","getInt64Bytes","count","length","x","y","Math","floor","z","Bulb","delay","radius","click","isShown","setIsShown","setTimeout","Programming","handleFiles","fr","FileReader","onload","processSequence","result","files","readAsArrayBuffer","seq","nextColors","j","push","index","lights","setLights","rows","window","innerWidth","xOffset","yOffset","innerHeight","elem","idx","Run","name","all","clicked","setClicked","onToggle","forEach","v","status","setStatus","Status","float","width","join","Control","sampleData","id","groups","useFormFields","initialState","fields","setValues","event","displayError","request","responseURL","Login","callback","URL","user","field","handleFieldChange","validateConfirmationForm","handleSubmit","preventDefault","post","JSON","stringify","withCredentials","renderForm","Signup","email","confirmPassword","confirmationCode","put","LightSettings","light","hub","ID","Alias","Count","parseInt","Updated","toLocaleDateString","toLocaleTimeString","Picker2","settings","setSettings","setLight","patternMode","setPatternMode","patterns","setPatterns","selectPattern","getLight","getPatterns","hsl","a","rgb","hex","settingsCallback","pattern","PatternID","split","pushLight","pushColor","pushToggle","s","toggleBulb","hue","c","dropDown","renderPatterns","alias","creator","renderSettings","togglePatternMode","background","bulb","offbulb","Home","setup","setSetup","hubs","setHubs","userData","setUserData","authed","setAuthed","register","setRegister","addBulbToggle","logout","delete","sampleUserData","getUserData","loadUserData","lookupHub","loadHubData","renderRegister","renderAuth","location","reload","renderPage","Object","entries","key","Picker","lightData","Styler","Other","getData","setData","setFiles","getFiles","selectedFile","setSelectedFile","selectedLight","setSelectedLight","clickFile","file","responseType","clickLight","show","setShow","handleClose","handleShow","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import React, { useState, useEffect } from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport Spinner from \"react-bootstrap/Spinner\";\nimport axios from \"axios\";\nimport Select from 'react-select'\n\n\nconst baseURL = process.env.REACT_APP_URL;\nconst timeout = 10 * 1000;\n\nexport default function LightDetect({next}) {\n\tconst [loading, setLoading] = useState(true);\n\tconst [failed, setFailed] = useState(false);\n\tconst [networks, setNetworks] = useState([]);\n\tconst [ssid, setSSID] = useState(\"\");\n\tconst [password, setPassword] = useState(\"\");\n\n\n\tuseEffect(() => {\n  \t\tonLoad();\n\t}, []);\n\n\tasync function onLoad() {\n\t\tsetLoading(true);\n\t\taxios.get(baseURL + \"/networks\", { timeout: timeout}).then((response) => {\n\t\t\tsetNetworks(response.data);\n\t\t\tsetLoading(false);\n    \t\t}).catch((resp) => {\n\t\t\tsetFailed(true);\n\t\t\tsetLoading(false);\n\t\t});\n\t}\n\n\tasync function onSubmit() {\n\t\tsetLoading(true);\n\n\t\taxios.get(baseURL + `/login?ssid=${ssid}&password=${password}`, { timeout: timeout}).then((response) => {\n\t\t\tnext();\n    \t\t}).catch((resp) => {\n\t\t\tsetFailed(true);\n\t\t});\n\t\tsetLoading(false);\n\n\t}\n\n\tfunction onRetry() {\n\t\tsetFailed(false);\n\t\tonLoad();\n\t}\n\n\treturn (\n    \t<div>\n\t\t\t{ loading ? (\n\t\t\t\t<>\n\t\t\t\t\t<p> Searching for lights </p>\n\t\t\t\t\t<Spinner animation=\"border\">\n\t\t\t\t\t</Spinner>\n\t\t\t\t\t<br/>\n\t\t\t\t</>\n\t\t\t) : failed ? (\n\t\t\t\t<>\n\t\t\t\t\t<p>Failed to setup new lights</p>\n\t\t\t\t\t<Button onClick={() => onRetry()}>Retry</Button> \n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t<p>Found new lights</p>\n\t\t\t\t\t<p>Select Wifi you would like to connect them to</p>\n\t\t\t\t\t<Select onChange={(selected) => setSSID(selected.value)} searchable options={networks.map(function(d){\n         \t\t\t\t\treturn ({ \"value\": d, \"label\": d })\n       \t\t\t\t\t})}/>\n\t\t\t\t\t<label>Password: </label> <input type=\"password\" name=\"name\" onChange={(e) => setPassword(e.target.value)}/><br/>\n\t\t\t\t\t<Button onClick={onSubmit}>Submit</Button>\t\n\t\t\t    \t</> \n\t\t\t) \n\t\t\t}\n\t\t\t<Button onClick={() => {next(-1)}}>Back</Button>\n    \t</div>\n  \t);\n}\n","import React, { useState, useEffect } from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport axios from \"axios\";\nimport Spinner from \"react-bootstrap/Spinner\";\n\nconst baseURL = process.env.REACT_APP_URL;\nconst timeout = 3 * 1000;\n\nexport default function LightDetect({next}) {\n\tconst [loading, setLoading] = useState(false);\n\tconst [failed, setFailed] = useState(false);\n\tconst [ip, setIP] = useState(\"\");\n\n\n\tuseEffect(() => {\n  \t\tonLoad();\n\t}, []);\n\n\tasync function onLoad() {\n\t\tsetLoading(true);\n\t\taxios.get(baseURL + \"/ip\", { timeout: timeout}).then((response) => {\n\t\t\tsetIP(response.data);\n    \t\t}).catch((resp) => {\n\t\t\tsetFailed(true);\n\t\t});\n\t\tsetLoading(false);\n\t}\n\n\tfunction onRetry() {\n\t\tonLoad();\n\t}\n\n\treturn (\n    \t<div>\n\t\t\t{ loading ? (\n\t\t\t\t<>\n\t\t\t\t\t<p> Getting device IP</p>\n\t\t\t\t\t<Spinner animation=\"border\">\n\t\t\t\t\t</Spinner>\n\t\t\t\t\t<br/>\n\t\t\t\t</>\n\t\t\t) : failed ? (\n\t\t\t\t<>\n\t\t\t\t\t<p>Failed to connect with device</p>\n\t\t\t\t\t<Button onClick={() => onRetry()}>Retry</Button> \n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t<p>Congradulations your lights are ready to go!</p>\n\t\t\t\t\t<p>Remeber to reconnect your device to the same network as the lights</p>\n\t\t\t\t\t<Button onClick={() => console.log(\"TODO\") }>Light</Button>\n\t\t\t    \t</> \n\t\t\t) \n\t\t\t}\n\t\t\t<Button onClick={() => {next(-1)}}>Back</Button>\n    \t</div>\n  \t);\n}\n","import '../App.css';\nimport Button from \"react-bootstrap/Button\";\nimport React, { useState } from \"react\";\nimport LightsDetect from \"../components/LightDetect\";\nimport LightsIP from \"../components/LightIP\";\n\nfunction Setup ({cancel}) {\n\tconst [prom, setPrompt] = useState(0);\n\t\n\tfunction updatePrompt(i = 1) {\n\t\tlet nextProm = prom + i;\n\t\tif (nextProm > 3) {\n\t\t\tnextProm = 0\n\t\t}\n   \t\tsetPrompt(nextProm);\n\t}\n\n\n\treturn (\n    \t<div className=\"App\">\n      \t\t<header className=\"App-header\">\n\t\t\t<Button className=\"close\" onClick={cancel}>X</Button>\n        \t\t<div>\n\t\t\t\t{ prom === 0 ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<p>Plug in Inf-Lights. They should blink <span class=\"red\">red</span></p>\n\t\t\t\t\t\t<Button onClick={() => {updatePrompt()}}> Next</Button>\n\t\t\t\t\t</>\n\t\t\t\t)\n\t\t\t\t: prom === 1 ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<p>Go to wifi settings and connect to <code>P-lights-0</code></p>\n\t\t\t\t\t\t<Button onClick={() => {updatePrompt()}}> Next</Button>\n\t\t\t\t\t\t<Button onClick={() => updatePrompt(-1)}> Back</Button>\n\t\t\t\t\t</>\n\t\t\t\t) : prom === 2 ? (\n\t\t\t\t\t<LightsDetect next={updatePrompt}/>\n\t\t\t\t) : prom === 3 ? (\n\t\t\t\t\t<LightsIP next={updatePrompt}/>\n\t\t\t\t) : (<></>) }\n        \t\t</div>\n      \t\t</header>\n    \t</div>\n  \t);\n}\n\n\nexport default Setup;\n","import '../App.css';\nimport Button from \"react-bootstrap/Button\";\nimport React, { useState } from \"react\";\nimport LightsDetect from \"../components/LightDetect\";\nimport LightsIP from \"../components/LightIP\";\nimport { RgbColorPicker } from \"react-colorful\";\nimport axios from \"axios\";\nimport Spinner from \"react-bootstrap/Spinner\";\n\nfunction Light () {\n\n  \tconst [color, setColor] = useState({ r: 200, g: 150, b: 35 });\n\tconst [ip, setIP] = useState({ ip: \"192.168.86.162\", pixels: 50 });\n\n\tvar last = Date.now();\n\tfunction onColorChange(color) {\n\n\t\tlet now = Date.now();\n\t\tconsole.log(color);\n\t\tif (now - last < 100) {\n\t\t\tconsole.log(\"ignoring time\");\n\t\t\treturn;\n\t\t}\n\t\tlast = now;\n\t\tsetColor(color);\n\n\t\tlet data = generateBinary(color, ip.pixels);\n                let blob = new Blob([data], {type: \"application/octet-stream\"});\n\n\t\tlet bodyFormData = new FormData();\n\n                bodyFormData.append(\"file\", blob, \"dummy.bin\");\n\t\t\n\t\tconsole.log(`http://${ip}/upload`);\n\n                axios({\n                \tmethod: \"post\",\n                \turl: `http://${ip.ip}/upload`,\n                \tdata: bodyFormData,\n                \theaders: { \"Content-Type\": \"multipart/form-data\" },\n                })\n                .then(function (response) {\n                \t//handle success\n                \tconsole.log(response);\n                })\n                .catch(function (response) {\n                \t//handle error\n                \tconsole.log(response);\n                });\n\n\t\t//axios.get(`http://${ip}/color?r=${color.r}&g=${color.g}&b=${color.b}`).catch((resp) => {\n\t\t//\tconsole.log(\"TODO\")\n                //});\n\t}\n\t\n\t\n\tfunction generateBinary(color, pixels) {\n\t\t\n\t\tlet data = new Uint8Array((2 + pixels) * 8);\n\t\tlet bytes = getInt64Bytes(pixels);\n\n\t\tlet count = (bytes[bytes.length-2] << 8) | bytes[bytes.length-1];\n\t\t\n\t\tdata[0] = 0x3;\n\t\tdata[1] = bytes[bytes.length-1];\n\t\tdata[2] = bytes[bytes.length-2];\n\n\t\tfor (let i = 0; i < pixels; i++) {\n\t\t\tlet bytes = getInt64Bytes(i);\n\t\t \tdata[(i + 1) * 8] = 0x1;\n\t\t\tdata[(i + 1) * 8 + 1] = color.r;\n\t\t\tdata[(i + 1) * 8 + 2] = color.g;\n\t\t\tdata[(i + 1) * 8 + 3] = color.b;\n\t\t\tdata[(i + 1) * 8 + 4] = bytes[bytes.length-1];\n\t\t\tdata[(i + 1) * 8 + 5] = bytes[bytes.length-2];\n\t\t}\n\n\t\tdata[8 + (pixels * 8)] = 0x2;\n\t\tdata[8 + (pixels * 8) + 1] = 200;\n\t\tdata[8 + (pixels * 8) + 2] = 0;\n\t\tdata[8 + (pixels * 8) + 3] = 0;\n\t\tdata[8 + (pixels * 8) + 4] = 0;\n\n\n\t\tconsole.log(data);\n\t\treturn data;\n\n\t}\n\n\tfunction getInt64Bytes(x) {\n  \t\tlet y= Math.floor(x/2**32);\n  \t\treturn [y,(y<<8),(y<<16),(y<<24), x,(x<<8),(x<<16),(x<<24)].map(z=> z>>>24)\n\t}\n\n\n\n\n\n\treturn (\n\t<div className=\"App\">\n\t\t<header className=\"App-header\">\n            <RgbColorPicker color={color} onChange={onColorChange} />\n            <p>{ color.r}, {color.g}, {color.b}</p>\n\t\t</header>\n\t</div>\n  \t);\n}\n\n\nexport default Light;\n","import React, { useState, useEffect } from \"react\";\nimport {Circle}  from 'react-konva';\n\nexport default function Bulb({delay, color, x, y, radius, click}) {\n\n\n\tconst [isShown, setIsShown] = useState(false);\n\n  \tuseEffect(() => {\n    \t\tsetTimeout(() => {\n      \t\t\tsetIsShown(true);\n    \t\t}, delay);\n  \t}, [delay]);\n\n\treturn isShown ? \n\t\t<Circle x={x} y={y} radius={radius} fill={color} onClick={click}/> \n\t\t: \n\t\t<Circle x={x} y={y} radius={radius} fill=\"black\" onClick={click}/>;\n}\n","import '../App.css';\nimport React, { useState, useEffect } from \"react\";\nimport { Stage, Layer } from 'react-konva';\nimport Bulb from \"../components/Bulb.js\"\n\nfunction Programming () {\n\n\tfunction handleFiles(e) {\n\t\tvar fr=new FileReader();\n\t\tfr.onload=function(){\n\t\t\tprocessSequence(fr.result);\n\t\t}\n\t\t\n\t\tif (e.target.files.length > 0) {\n\t\t\tfr.readAsArrayBuffer(e.target.files[0]);\n\t\t}\n\t}\n\n\n\tfunction processSequence(seq) {\n\t\t\n\t\tconsole.log(seq);\n\n\t\tvar bytes = new Uint8Array(seq);\n\n\t\tconsole.log(bytes);\n\n\t\tlet nextColors = [];\n\t\t\n\t\tlet delay = 0;\n\t\t\t\n\t\tfor (let i=0; i<bytes.length; i+=8) {\n\t\t\tif (bytes[i] === 0x3 && i === 0) {\n\t\t\t\tlet count = (bytes[i+2] << 8) | bytes[i+1];\n\t\t\t\tconsole.log(\"Count\", count);\n\t\t\t\tfor (let j = 0; j < count; j++) {\n\t\t\t\t\tnextColors.push({color: `rgb(0,0,0)`})\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else if (bytes[i] === 0x1) {\n\t\t\t\tlet r = bytes[i+1];\n\t\t\t\tlet g = bytes[i+2];\n\t\t\t\tlet b =  bytes[i+3];\n\t\t\t\tlet index = (bytes[i+5] << 8) | bytes[i+4];\n\t\t\t\tconsole.log(\"color\", r,g,b, index);\n\t\t\t\tnextColors[index] = ({color: `rgb(${r},${g},${b})`})\n\t\t\t}else if (bytes[i] === 0x2) {\n\t\t\t\tdelay += (bytes[i+4] << 24) | (bytes[i+3] << 16) | (bytes[i+2] << 8) | bytes[i+1];\n\t\t\t\tconsole.log(\"delay\", delay);\n\t\t\t\tsetTimeout((lights) => {\n\t\t\t\t\tconsole.log(\"Changed lights\");\n\t\t\t\t\tsetLights(lights);\n\t\t\t\t}, delay,[...nextColors] )\n\t\t\t}\n        }\n        setTimeout(() => {\n            processSequence(seq)\n        }, delay)\n\t}\n\n\tconst [lights, setLights] = useState([]);\n\tconst rows = Math.floor((window.innerWidth - 200) / 170);\n\tconst radius = 50;\n\tconst xOffset = 120;\n\tconst yOffset = 120;\n\n\treturn (\n\t<div className=\"App\">\n\t\t<input type=\"file\" name=\"file\" onChange={handleFiles} />\n\t\t<header className=\"App-header\">\n\t\t\t<Stage width={window.innerWidth} height={window.innerHeight}>\n      \t\t\t\t<Layer>\n\t\t\t\t\t{\n\t\t\t\t\t\tlights.map( function(elem, idx) {\n\t\t\t\t\t\t\tconsole.log(elem, idx);\n\t\t\t\t\t\t\treturn <Bulb x={xOffset + (xOffset * (idx % rows))} y={yOffset + (yOffset * Math.floor(idx / rows))} color={elem.color} radius={radius}/>\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n      \t\t\t\t</Layer>\n    \t\t\t</Stage>\n\t\t</header>\n\t</div>\n  \t);\n}\n\n\nexport default Programming;\n","import '../App.css';\nimport React, { useState, useEffect } from \"react\";\n\nfunction Run() {\n\n\t//const [ip, setIP] = useState(\"192.168.86.136\");\n\t//const [ip, setIP] = useState(\"192.168.86.144\");\n\tconst [ip, setIP] = useState(\"192.168.86.152\");\n\n\treturn (\n\t<div className=\"App\">\n\t\t<header className=\"App-header\">\n\t\t\t<form method='POST' enctype='multipart/form-data' action={\"http://\" + ip + \"/upload\"}>\n     \t\t\t\t<input type=\"file\" id=\"myFile\" name=\"filename\"></input>\n     \t\t\t\t<input type=\"submit\"></input>\n   \t\t\t</form>\n\t\t</header>\n\t</div>\n  \t);\n}\n\n\nexport default Run;\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nexport default function LightDetect({name, all, lights}) {\n\n\tconst [clicked, setClicked] = useState(false);\n\t\n\tfunction onToggle(e) {\n\t\tlights.forEach((v) => {\n\t\t\taxios.get(`http://${all[v].ip}/toggle`, {timeout: 1000}).catch((resp) => {\n\t\t\t\tconsole.log(\"failed to toggle\");\n\t\t\t});\n\t\t});\n\n\t\t// After 1/2 a second check if the lights are on\n\t\tsetTimeout(() => {\n\t\t\tsetClicked(!clicked);\n\t\t}, 500);\n\t}\n\n\n\tuseEffect(() => {\n\t\tif (lights.length === 1) {\n\t\t\taxios.get(`http://${all[lights[0]].ip}/status`, {timeout: 1000})\n\t\t\t.then((resp) => {\n\t\t\t\tconsole.log(resp.data.status);\n\t\t\t\tif (resp.data.status) {\n\t\t\t\t\tsetStatus(\"active\");\n\t\t\t\t}else {\n\t\t\t\t\tsetStatus(\"inactive\");\n\t\t\t\t}\n\t\t\t}).catch(() => {\n\t\t\t\tsetStatus(\"offline\");\n\t\t\t});\n\t\t}\n\t}, [clicked])\n\n\n\tconst [Status, setStatus] = useState(lights.length === 1 ? \"loading\" : \"\");\n\n\treturn (\n    \t<div key={name} style={ Status === \"offline\" ? {color: \"grey\"} : {}}>\n\t\t<input\n          \t\ttype='checkbox'\n\t\t\tonClick={(e) => onToggle(e)}\n\t\t\tdefaultChecked={Status === \"active\"}\n\t\t\tstyle={{float: \"right\", width: \"100px\"}}\n        \t/>\n\t\t<span>Name: </span><span>{name}</span><br/>\n\t\t<span>Devices(s): </span><span>{ lights.length === 1 ? all[lights[0]].ip : lights.map((x) => all[x].name ).join(\",\") }</span>\n    \t</div>\n  \t);\n}\n","import '../App.css';\nimport React, { useState, useEffect } from \"react\";\nimport LightListItem from \"../components/LightListItem\";\n\nfunction Control() {\n\n\tconst sampleData = {\n\t\tlights: [\n\t\t\t{\n\t\t\t\tid: 0,\n\t\t\t\tname: \"lower tree\",\n\t\t\t\tip: \"192.168.86.136\",\n\t\t\t\tpixels: 100,\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 1,\n\t\t\t\tname: \"upper tree\",\n\t\t\t\tip: \"192.168.86.137\",\n\t\t\t\tpixels: 100,\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 2,\n\t\t\t\tname: \"test\",\n\t\t\t\tip: \"192.168.86.140\",\n\t\t\t\tpixels: 50,\n\t\t\t}\n\t\t],\n\t\tgroups: [\n\t\t\t{\n\t\t\t\tname: \"lower tree\",\n\t\t\t\tlights: [0],\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"upper tree\",\n\t\t\t\tlights: [1],\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"test\",\n\t\t\t\tlights: [2],\n\t\t\t},\t\n\t\t\t{\n\t\t\t\tname: \"tree\",\n\t\t\t\tlights: [ 0, 1 ],\n\t\t\t}\n\t\t]\n\t}\n\n\treturn (\n\t<div className=\"App\">\n\t\t<header className=\"App-header\">\n\t\t\t<ul>\n\t\t\t\t{\n\t\t\t\t\tsampleData.groups.map((v,i) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<LightListItem name={v.name} all={sampleData.lights} lights={v.lights}/>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t</ul>\n\t\t</header>\n\t</div>\n  \t);\n}\n\n\nexport default Control;\n","import { useState } from \"react\";\n\nexport function useFormFields(initialState) {\n  const [fields, setValues] = useState(initialState);\n\n  return [\n    fields,\n    function(event) {\n      setValues({\n        ...fields,\n        [event.target.id]: event.target.value\n      });\n    }\n  ];\n}\n\nexport function displayError(e) {\n\tif (e.response) {\n\n\t\tconsole.log(\"URL\", e.request.responseURL);\t\n\t\tif (e.response.status === 401 && e.request.responseURL !==  \"https://lights.paulbivrell.com/user\") {\n\t\t\tconsole.log(\"reload please\");\n\n\t\t}\n\t}\n\tconsole.log(e);\n}\n","import React, { useState } from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport { useFormFields, displayError } from \"../lib/hooks\";\nimport axios from \"axios\";\n\nfunction Login({callback}) {\n\n\tconst URL = process.env.REACT_APP_API_URL + \"/user\";\n\n\tconst [field, handleFieldChange] = useFormFields({\n\t\tuser: \"\",\n    \t\tpassword: \"\",\n  \t});\n\n\tconst [loading, setLoading] = useState(false);\n\n\tfunction validateConfirmationForm() {\n\t\treturn (\n      \t\t\tfield.user.length > 0 &&\n      \t\t\tfield.password.length > 0\n    \t\t);\n\t}\n\n\tfunction handleSubmit(event) {\n\n\t\tevent.preventDefault();\n\n\t\tsetLoading(true);\n\n\t\taxios.post(URL, JSON.stringify(field) ,{\n    \t\t\twithCredentials: true \n  \t\t}).then((resp) => {\n\t\t\tcallback()\n\t\t}).catch((e) => {\n\t\t\tdisplayError(e);\n\t\t\tsetLoading(false);\n\t\t});\n\t}\n\n\tfunction renderForm() {\n\t\treturn (\n\t\t\t<Form onSubmit={handleSubmit}>\n\t\t\t\t<Form.Group controlId=\"user\" size=\"lg\">\n\t\t\t\t\t<Form.Label>Username</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tvalue={field.user}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group controlId=\"password\" size=\"lg\">\n\t\t\t\t\t<Form.Label>Password</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tvalue={field.password}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<br/>\n\t\t\t\t<Button\n\t\t\t\t\tblock\n\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t        disabled={!validateConfirmationForm() || loading}\n\n\t\t\t\t>\n\t\t\t\t\t{ !loading ? \"Login\" : \"loading...\"}\n\t\t\t\t</Button>\n\t\t\t</Form>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className=\"Signup\">\n\t\t\t{renderForm()}\n\t\t</div>\n\t);\n}\n\nexport default Login;\n","import React, { useState } from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport { useFormFields, displayError } from \"../lib/hooks\";\nimport axios from \"axios\";\n\nfunction Signup({callback}) {\n\n\tconst URL = process.env.REACT_APP_API_URL + \"/user\";\n\n\tconst [loading, setLoading] = useState(false);\n\n\tconst [field, handleFieldChange] = useFormFields({\n    \t\temail: \"\",\n\t\tid: \"\",\n    \t\tpassword: \"\",\n\t\tconfirmPassword: \"\",\n    \t\tconfirmationCode: \"\",\n  \t});\n\n\tfunction validateConfirmationForm() {\n\t\treturn (\n      \t\t\tfield.email.length > 0 &&\n      \t\t\tfield.password.length > 0 &&\n      \t\t\tfield.password === field.confirmPassword\n    \t\t);\n\t}\n\n\tfunction handleSubmit(event) {\n\n\t\tevent.preventDefault();\n\n\t\tsetLoading(true);\n\n\t\taxios.put(URL, JSON.stringify(field)).then((resp) => {\n\t\t\taxios.post(URL, JSON.stringify({\n\t\t\t\t\"user\": field.id,\n\t\t\t\t\"password\": field.password,\n\t\t\t}) ,{\n    \t\t\t\twithCredentials: true \n  \t\t\t}).then((resp) => {\n\t\t\t\tcallback()\n\t\t\t}).catch((e) => {\n\t\t\t\tdisplayError(e);\n\t\t\t\tsetLoading(false);\n\t\t\t});\n\t\t}).catch((e) => {\n\t\t\tsetLoading(false);\n\t\t\tdisplayError(e);\n\t\t});\n\t}\n\n\tfunction renderForm() {\n\t\treturn (\n\t\t\t<Form onSubmit={handleSubmit}>\n\t\t\t\t<Form.Group controlId=\"id\" size=\"lg\">\n\t\t\t\t\t<Form.Label>Username</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tvalue={field.id}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group controlId=\"email\" size=\"lg\">\n\t\t\t\t\t<Form.Label>Email</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\tvalue={field.email}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group controlId=\"password\" size=\"lg\">\n\t\t\t\t\t<Form.Label>Password</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tvalue={field.password}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group controlId=\"confirmPassword\" size=\"lg\">\n\t\t\t\t\t<Form.Label>Confirm Password</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\tvalue={field.confirmPassword}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<br/>\n\t\t\t\t<Button\n\t\t\t\t\tblock\n\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t        disabled={!validateConfirmationForm() || loading}\n\n\t\t\t\t>\n\t\t\t\t\t{ !loading ? \"Signup\" : \"loading...\" }\n\t\t\t\t</Button>\n\t\t\t</Form>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className=\"Signup\">\n\t\t\t{renderForm()}\n\t\t</div>\n\t);\n}\n\nexport default Signup;\n","export default __webpack_public_path__ + \"static/media/Bulb_crop.4dabd27e.png\";","export default __webpack_public_path__ + \"static/media/OffBulb_crop.94f07016.png\";","export default __webpack_public_path__ + \"static/media/DisconnectedBulb_crop.4d12a43d.png\";","import React, { useState } from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport { useFormFields, displayError } from \"../lib/hooks\";\nimport axios from \"axios\";\nimport './lightsettings.css';\n\nfunction LightSettings({light, hub, callback}) {\n\n\tconst URL = `${process.env.REACT_APP_API_URL}/user/hub/${hub}/light/${light.ID}`\n\n\tconst [field, handleFieldChange] = useFormFields({\n\t\tAlias: light.Alias,\n\t\tCount: parseInt(light.Count),\n  \t});\n\n\t\n\n\n\tconst [loading, setLoading] = useState(false);\n\n\tfunction validateConfirmationForm() {\n\t\treturn (\n      \t\t\tfield.Count > 0\n    \t\t);\n\t}\n\n\tfunction handleSubmit(event) {\n\n\t\tevent.preventDefault();\n\n\t\tsetLoading(true);\n\n\t\tfield.Count = parseInt(field.Count);\n\t\tconsole.log(field);\n\t\taxios.post(URL, JSON.stringify(field) ,{\n    \t\t\twithCredentials: true \n  \t\t}).then((resp) => {\n\t\t\tsetLoading(false);\n\t\t\tcallback();\n\t\t}).catch((e) => {\n\t\t\tdisplayError(e);\n\t\t\tsetLoading(false);\n\t\t});\n\t}\n\n\tfunction renderForm() {\n\t\treturn (\n\t\t\t<Form onSubmit={handleSubmit} className=\"SettingForm\">\n\t\t\t\t<Form.Label>ID: {light.ID}</Form.Label><br/>\n\t\t\t        <Form.Group controlId=\"Alias\" size=\"lg\">\n\t\t\t\t\t<Form.Label>Alias:</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tclassName=\"SettingsFormInput\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tvalue={field.Alias}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t        <Form.Group controlId=\"Count\" size=\"lg\">\n\t\t\t\t\t<Form.Label>Bulbs:</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\tclassName=\"SettingsFormInput\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tvalue={parseInt(field.Count)}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Label>{new Date(light.Updated).toLocaleDateString() +\" \" +  new Date(light.Updated).toLocaleTimeString()}</Form.Label>\n\t\t\t\t<br/>\n\t\t\t\t<Button\n\t\t\t\t\tblock\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t        disabled={!validateConfirmationForm() || loading}\n\n\t\t\t\t>\n\t\t\t\t\t{ !loading ? \"Update\" : \"loading...\"}\n\t\t\t\t</Button>\n\t\t\t</Form>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className=\"Signup\">\n\t\t\t{renderForm()}\n\t\t</div>\n\t);\n}\n\nexport default LightSettings;\n","import './Picker2.css';\nimport React, { useState, useEffect } from \"react\";\nimport { HuePicker, AlphaPicker } from 'react-color'\nimport bulb from '../res/Bulb_crop.png';\nimport offbulb from '../res/OffBulb_crop.png';\nimport disconnectedbulb from '../res/DisconnectedBulb_crop.png';\nimport axios from \"axios\";\nimport {displayError} from \"../lib/hooks\";\nimport LightSettings from '../containers/lightsettings.js';\nimport {ToggleButton, ToggleButtonGroup, DropdownButton, Dropdown, ListGroup} from \"react-bootstrap\";\n\nfunction Picker2({name, hub}) {\n\n\tconst [settings, setSettings] = useState(false);\n\tconst [light, setLight] = useState({});\n\tconst [patternMode, setPatternMode] = useState(true);\n\tconst [patterns, setPatterns] = useState([]);\n\tconst [selected, selectPattern] = useState(\"\");\n\n\tuseEffect(() => {\n\t\tgetLight();\n\t\tgetPatterns();\n\t}, [])\n\n\n  \tconst [color, setColor] = useState({ hsl: {a: 1}, rgb: {a: 1}, hex: \"\"});\n\t\n\tfunction settingsCallback() {\n\t\tsetSettings(false);\n\t\tgetLight();\n\t}\n\n\tfunction getLight() {\n\t\t\n\t\taxios.get(`${process.env.REACT_APP_API_URL}/user/hub/${hub}/light/${name}`, {\n\t\t\twithCredentials: true,\n\t\t}).then((resp) => {\n\t\t\tsetLight(resp.data);\n\t\t\tlet pattern = resp.data.PatternID.split(\"~\")[1].split(\".\")[0].split(\"-\");\n\t\t\tconsole.log(pattern);\n\t\t\tsetColor({\n\t\t\t\trgb: {r: pattern[0], g: pattern[1], b: pattern[2], a: pattern[3]/100},\n\t\t\t\thex: `rgba(${pattern[0]},${pattern[1]},${pattern[2]},${pattern[3]/100}`,\n\t\t\t\thsl: {a: pattern[3]/100},\n\n\t\t\t});\n\t\t}).catch((e) => {\n\t\t\tdisplayError(e);\n\t\t});\n\t}\n\n\tfunction getPatterns() {\n\t\tsetPatterns([\n\t\t\t{\"alias\": \"spring\", \"id\": 0, \"creator\": \"demo\"},\n\t\t\t{\"alias\": \"spring\", \"id\": 0, \"creator\": \"demo\"},\n\t\t]);\n\t}\n\n\t/*function pushLight(pushColor) {\n\t\tlet data = generateBinary(pushColor, light.Count);\n                let blob = new Blob([data], {type: \"application/octet-stream\"});\n                let bodyFormData = new FormData();\n                bodyFormData.append(\"file\", blob, `${pushColor.r}-${pushColor.g}-${pushColor.b}-${pushColor.a}.bin`);\n\n                axios({\n                \tmethod: \"post\",\n                \turl: `http://${light.IP}/upload`,\n                \tdata: bodyFormData,\n                \theaders: { \"Content-Type\": \"multipart/form-data\" },\n                })\n                .then(function (response) {\n                \tconsole.log(response);\n                })\n                .catch(function (response) {\n                \tdisplayError(response)\n                });\n\t}*/\n\n\tfunction pushLight(pushColor) {\n\t\taxios.post(\n\t\t\t`${process.env.REACT_APP_API_URL}/user/hub/${hub}/light/${name}`, \n\t\t\t{ PatternID: `~${pushColor.r}-${pushColor.g}-${pushColor.b}-${Math.floor(pushColor.a * 100)}.bin` }, \n\t\t\t{withCredentials: true,}\n\t\t)\n\t\t.then((resp) => {\n\t\t\tconsole.log(\"toggled\");\n\t\t})\n\t\t.catch((e) => {\n        \t\tdisplayError(e);\n\t\t});\n\t}\n\n\tfunction pushToggle(s) {\n\t\taxios.post(\n\t\t\t`${process.env.REACT_APP_API_URL}/user/hub/${hub}/light/${name}`,\n\t\t\t{Status: s}, \n\t\t\t{withCredentials: true,}\n\t\t)\n\t\t.then((resp) => {\n\t\t\tconsole.log(\"toggled\");\n\t\t})\n\t\t.catch((e) => {\n        \t\tdisplayError(e);\n\t\t});\n\t}\n\n\tfunction toggleBulb() {\n\t\tconst map = {...light};\n                map.Status = !map.Status;\n                setLight(map);\n\t\tpushToggle(map.Status);\n\t}\n\n\tfunction onColorChange(hue, c) {\n\n\t\tconsole.log(c);\n\n\t\tlet hsl = c.hsl;\n\t\tlet rgb = c.rgb;\n\n\t\tif(!hue) {\n\t\t\thsl.a = color.hsl.a;\n\t\t\trgb.a = color.rgb.a;\n\t\t}\n\t\tsetColor({hsl: hsl, rgb: c.rgb, hex: `rgba(${c.rgb.r},${c.rgb.g},${c.rgb.b},${hsl.a}`});\n\t\t\n\t\tpushLight(c.rgb);\n\t}\n\t\n\t\n\tfunction generateBinary(color, pixels) {\n\t\t\n\t\tlet data = new Uint8Array((2 + pixels) * 8);\n\t\tlet bytes = getInt64Bytes(pixels);\n\n\t\tlet count = (bytes[bytes.length-2] << 8) | bytes[bytes.length-1];\n\t\t\n\t\tdata[0] = 0x3;\n\t\tdata[1] = bytes[bytes.length-1];\n\t\tdata[2] = bytes[bytes.length-2];\n\n\t\tfor (let i = 0; i < pixels; i++) {\n\t\t\tlet bytes = getInt64Bytes(i);\n\t\t \tdata[(i + 1) * 8] = 0x1;\n\t\t\tdata[(i + 1) * 8 + 1] = parseInt(color.r * color.a) ;\n\t\t\tdata[(i + 1) * 8 + 2] = parseInt(color.g * color.a);\n\t\t\tdata[(i + 1) * 8 + 3] = parseInt(color.b * color.a);\n\t\t\tdata[(i + 1) * 8 + 4] = bytes[bytes.length-1];\n\t\t\tdata[(i + 1) * 8 + 5] = bytes[bytes.length-2];\n\t\t}\n\n\t\tdata[8 + (pixels * 8)] = 0x2;\n\t\tdata[8 + (pixels * 8) + 1] = 200;\n\t\tdata[8 + (pixels * 8) + 2] = 0;\n\t\tdata[8 + (pixels * 8) + 3] = 0;\n\t\tdata[8 + (pixels * 8) + 4] = 0;\n\n\n\t\tconsole.log(data);\n\t\treturn data;\n\n\t}\n\n\tfunction getInt64Bytes(x) {\n  \t\tlet y= Math.floor(x/2**32);\n  \t\treturn [y,(y<<8),(y<<16),(y<<24), x,(x<<8),(x<<16),(x<<24)].map(z=> z>>>24)\n\t}\n\n\tfunction dropDown(e) {\n\t\tconsole.log(\"Dropdown\", e);\n\t}\n\n\tfunction renderPatterns() {\n\t\n\n\t\tconsole.log(\"patterns\", patterns);\n\n\t\treturn (\n\t\t\t<div className=\"Popup Pattern\">\n\t\t\t\t{ patterns.map(x=>{\n\t\t\t\t\treturn <div onClick={()=>{ selectPattern(x.id)}}>{x.id} - {x.alias} | {x.creator}</div>\n\t\t\t\t}) }\n\t\t\t</div>\n\t\t);\n\t}\n\n\tfunction renderSettings() {\n\t\treturn (\n\t\t\t<div className=\"Popup Auth\">\n\t\t\t\t<LightSettings light={light} hub={hub} callback={settingsCallback}/>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tfunction togglePatternMode() {\n\t\tsetPatternMode(!patternMode);\n\t}\n\n\treturn (\n\t<div className=\"Picker\">\n\t\t{ settings ? renderSettings() : <></>}\n\n\t\t<div className=\"ButtonText\" onClick={()=>setSettings(!settings)}>{light.Alias === \"\" ? light.ID : light.Alias}</div>\n\t\t<div className=\"Button\" style={{background: color.hex}} onClick={toggleBulb}>\n\t\t\t<img className=\"ButtonImage\" src={light.Status ? bulb : offbulb }></img>\n\t\t</div>\n\t\t<input type=\"checkbox\" onClick={()=>togglePatternMode()}/>\n\t\t{ light.Status ?  \n\t\t\t!patternMode ?\n\t\t\t\t<>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<HuePicker className=\"ButtonImage\" color={color.hsl} onChangeComplete={(c) => onColorChange(false, c)}/>\n\t\t\t\t\t<br/>\n                \t\t\t<AlphaPicker className=\"ButtonImage\" color={color.hsl} onChangeComplete={(c) => onColorChange(true, c)}/>\n\t\t\t\t</>\n\t\t\t:\n\t\t\trenderPatterns()\n\n\t\t: \n\t\t\t<></>\n\t\t}\n\n\t</div>\n  \t);\n}\n\n\nexport default Picker2;\n","export default __webpack_public_path__ + \"static/media/AddBulb_crop.aa00de5e.png\";","import '../App.css';\nimport '../index.css';\nimport './home.css';\nimport '../components/Picker2.css'\nimport Login from \"./login.js\";\nimport Signup from \"./signup.js\";\nimport {displayError} from \"../lib/hooks\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport {ToggleButton, ToggleButtonGroup, DropdownButton, Dropdown, ListGroup} from \"react-bootstrap\";\nimport Picker2 from \"../components/Picker2.js\"\nimport AddBulb from \"../res/AddBulb_crop.png\";\nimport Setup from '../containers/setup.js';\n\nfunction Home() {\n\n\tconst [setup, setSetup] = useState(false);\n\n\tconst [hubs, setHubs] = useState([]);\n\n\tconst [userData, setUserData] = useState({});\n\n\tconst [authed, setAuthed] = useState(true);\n\n\tconst [register, setRegister] = useState(false);\n\n\tfunction addBulbToggle() {\n\t\tsetSetup(!setup);\n\t}\n\n\tfunction dropDown(e) {\n\n\t\tif (e === \"logout\") {\n\t\t\tlogout()\n\t\t}else if(e === \"settings\") {\n\t\t\tsettings()\n\t\t}\n\t}\n\n\tfunction logout() {\n\t\taxios.delete(`${process.env.REACT_APP_API_URL}/user`, {\n\t\t\twithCredentials: true,\n\t\t}).then((resp) => {\n\t\t\tsetAuthed(false);\n\t\t\tsetUserData({});\n\t\t}).catch((e) => {\n\t\t\tdisplayError(e);\n\t\t});\n\t\tconsole.log(\"logout\");\n\t}\n\n\tfunction settings() {\n\t\tconsole.log(\"setting\");\n\t}\n\n\tfunction sampleUserData() {\n\t\treturn {\n\t\t\t\"id\": \"ruckens\",\n\t\t\t\"lights\": [\n\t\t\t\t{\n\t\t\t\t\t\"alias\": \"main\",\n\t\t\t\t\t\"id\": \"OriginalLight1\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"alias\": \"main\",\n\t\t\t\t\t\"id\": \"OriginalLight1\"\n\t\t\t\t}\n\t\t\t],\n\t\t}\n\t}\n\n\tfunction getUserData() {\n\t\t\n\t\tconsole.log(\"Loading\", authed);\n\t\taxios.get(`${process.env.REACT_APP_API_URL}/user`, {\n\t\t\twithCredentials: true,\n\t\t}).then((resp) => {\n\t\t\tconsole.log(\"Test\",resp);\n\t\t\tloadUserData(resp.data);\n\t\t}).catch((e) => {\n\t\t\tsetAuthed(false);\n\t\t\tdisplayError(e);\n\t\t});\n\t}\n\n\tfunction loadUserData(data) {\n\t\tsetUserData(data);\n\t\t\n\t\tif (data.hubs) {\n\t\t\tdata.hubs.forEach((v) => {\n\t\t\t\tlookupHub(v.id);\n\t\t\t});\n\t\t}\n\n\t}\n\n\tfunction lookupHub(name) {\n\t\taxios.get(`${process.env.REACT_APP_API_URL}/user/hub/${name}`, {\n\t\t\twithCredentials: true,\n\t\t}).then((resp) => {\n\t\t\tloadHubData(name, resp.data);\n\t\t}).catch((e) => {\n\t\t\tdisplayError(e);\n\t\t});\n\t}\n\n\tfunction loadHubData(hub, data) {\n\n\t\tconst map = {...hubs};\n\t\tmap[hub] = data;\n\t\tsetHubs(map);\n\t}\n\n\tfunction renderRegister() {\n\t\treturn (\n\t\t\t<div className=\"Auth\">\n\t\t\t\t<Setup/>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tfunction renderAuth() {\n\t\treturn (\n\t\t\t<div className=\"Popup Centered\">\n\t\t\t\t<ToggleButtonGroup type=\"checkbox\" value={register} onChange={(v) => setRegister(!register) }>\n      \t\t\t\t\t<ToggleButton id=\"tbg-btn-1\" value={false}>\n      \t\t\t\t\t\tLogin\t\n\t\t\t\t\t</ToggleButton>\n      \t\t\t\t\t<ToggleButton id=\"tbg-btn-3\" value={true}>\n      \t\t\t\t\t\tSignup\n\t\t\t\t\t</ToggleButton>\n    \t\t\t\t</ToggleButtonGroup>\n\t\t\t\t{ !register ?\n\t\t\t\t\t<>\n\t\t\t\t\t<h3>Login</h3>\n\t\t\t\t\t<Login callback={ () => {\n\t\t\t\t\t\tsetAuthed(true);\n\t\t\t\t\t\tconsole.log(\"Logged in\");\n\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t}}/>\n\t\t\t\t\t</>\n\t\t\t\t:\n\t\t\t\t\t<>\n\t\t\t\t\t<h3>Signup</h3>\n\t\t\t\t\t<Signup callback={ () => setAuthed(true) }/>\n\t\t\t\t\t</>\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t</div>\n\t\t)\n\n\t}\n\n\tfunction renderPage() {\n\t\treturn (\n\t\t\t<div className=\"Page\">\n\t\t\t\t<div className=\"User\">\n\t\t\t      \t\t<DropdownButton\n\t\t\t\t\t\t\n        \t\t\t\t\tdrop={'up'}\n        \t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\ttitle={userData.id ? userData.id : \"\"}\n\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\tonSelect={dropDown}\n      \t\t\t\t\t>\n        \t\t\t\t\t<Dropdown.Item eventKey=\"settings\">Settings</Dropdown.Item>\n        \t\t\t\t\t<Dropdown.Divider />\n        \t\t\t\t\t<Dropdown.Item eventKey=\"logout\">Logout</Dropdown.Item>\n      \t\t\t\t\t</DropdownButton>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"ButtonPanel\">\n\t\t\t\t\t{ hubs !== null ? Object.entries(hubs).map(([key, value])=>{\n\t\t\t\t\t\tconsole.log(\"This\", hubs);\n\t\t\t\t\t\tif (value.lights.length < 1 ) {\n\t\t\t\t\t\t\treturn <><p>None of your lights are on! </p></>\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\treturn value.lights.map((value)=>{\n\t\t\t\t\t\t\t\treturn <Picker2 className=\"ButtonItem\" hub={key} name={value}/>\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}) : \n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<p>You don't appear to have a registed hub <a href=\"#\">register now</a>. If this is a mistake get <a href=\"#\">more info</a></p>\n\t\t\t\t\t\t</>\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tuseEffect(() => {\n\t\tgetUserData()\n\t\tsetTimeout(()=>{\n\t\t\tsetAuthed(false);\n\t\t}, 5 * 60 * 1000)\n\t\t//console.log(sampleUserData().lights);\n\t\t//setUserData(sampleUserData());\n\t}, []);\n\n\n\treturn (\n\t\t<>\n\t\t\t{ authed ? \n\t\t\t\trenderPage()\n\t\t\t:\n\t\t\t\trenderAuth()\n\t\t\t}\n\n\t\t</>\n\t);\n}\n\n\nexport default Home;\n","import '../App.css';\nimport Button from \"react-bootstrap/Button\";\nimport React, { useState } from \"react\";\nimport LightsDetect from \"../components/LightDetect\";\nimport LightsIP from \"../components/LightIP\";\nimport { RgbColorPicker } from \"react-colorful\";\nimport axios from \"axios\";\nimport Spinner from \"react-bootstrap/Spinner\";\n\nfunction Picker({lightData, lights}) {\n\n  \tconst [color, setColor] = useState({ r: 200, g: 150, b: 35 });\n\t//const [ip, setIP] = useState({ ip: \"192.168.86.162\", pixels: 50 });\n\n\tvar last = Date.now();\n\tfunction onColorChange(color) {\n\n\t\tlet now = Date.now();\n\t\tconsole.log(color);\n\t\tif (now - last < 100) {\n\t\t\tconsole.log(\"ignoring time\");\n\t\t\treturn;\n\t\t}\n\t\tlast = now;\n\t\tsetColor(color);\n\t\t\n\t\n\t\tconsole.log(lightData);\n\t\tconsole.log(lights);\n\t\tconsole.log(lights.lights);\n\t\t\n\t\tif (!lights || !lights.lights || !lightData) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tlights.lights.forEach((light) => {\n\t\t\tconsole.log(\"looping\", light);\n\t\t\tlet data = generateBinary(color, lightData.lights[light].pixels);\n                \tlet blob = new Blob([data], {type: \"application/octet-stream\"});\n\t\t\tlet bodyFormData = new FormData();\n                \tbodyFormData.append(\"file\", blob, \"dummy.bin\");\n\n                \taxios({\n                \t\tmethod: \"post\",\n                \t\turl: `http://${lightData.lights[light].ip}/upload`,\n                \t\tdata: bodyFormData,\n                \t\theaders: { \"Content-Type\": \"multipart/form-data\" },\n                \t})\n                \t.then(function (response) {\n                \t\t//handle success\n                \t\tconsole.log(response);\n                \t})\n                \t.catch(function (response) {\n                \t\t//handle error\n                \t\tconsole.log(response);\n                \t});\n\t\t});\n\n\t\t//axios.get(`http://${ip}/color?r=${color.r}&g=${color.g}&b=${color.b}`).catch((resp) => {\n\t\t//\tconsole.log(\"TODO\")\n                //});\n\t}\n\t\n\t\n\tfunction generateBinary(color, pixels) {\n\t\t\n\t\tlet data = new Uint8Array((2 + pixels) * 8);\n\t\tlet bytes = getInt64Bytes(pixels);\n\n\t\tlet count = (bytes[bytes.length-2] << 8) | bytes[bytes.length-1];\n\t\t\n\t\tdata[0] = 0x3;\n\t\tdata[1] = bytes[bytes.length-1];\n\t\tdata[2] = bytes[bytes.length-2];\n\n\t\tfor (let i = 0; i < pixels; i++) {\n\t\t\tlet bytes = getInt64Bytes(i);\n\t\t \tdata[(i + 1) * 8] = 0x1;\n\t\t\tdata[(i + 1) * 8 + 1] = color.r;\n\t\t\tdata[(i + 1) * 8 + 2] = color.g;\n\t\t\tdata[(i + 1) * 8 + 3] = color.b;\n\t\t\tdata[(i + 1) * 8 + 4] = bytes[bytes.length-1];\n\t\t\tdata[(i + 1) * 8 + 5] = bytes[bytes.length-2];\n\t\t}\n\n\t\tdata[8 + (pixels * 8)] = 0x2;\n\t\tdata[8 + (pixels * 8) + 1] = 200;\n\t\tdata[8 + (pixels * 8) + 2] = 0;\n\t\tdata[8 + (pixels * 8) + 3] = 0;\n\t\tdata[8 + (pixels * 8) + 4] = 0;\n\n\n\t\tconsole.log(data);\n\t\treturn data;\n\n\t}\n\n\tfunction getInt64Bytes(x) {\n  \t\tlet y= Math.floor(x/2**32);\n  \t\treturn [y,(y<<8),(y<<16),(y<<24), x,(x<<8),(x<<16),(x<<24)].map(z=> z>>>24)\n\t}\n\n\treturn (\n\t<div>\n            <RgbColorPicker color={color} onChange={onColorChange} />\n            <p>{ color.r}, {color.g}, {color.b}</p>\n\t</div>\n  \t);\n}\n\n\nexport default Picker;\n","import '../App.css';\nimport React, { useState, useEffect } from \"react\";\nimport { Stage, Layer } from 'react-konva';\nimport Bulb from \"../components/Bulb.js\"\n\nfunction Styler() {\n\n\tfunction processSequence(seq) {\n\t\t\n\t\tconsole.log(seq);\n\n\t\tvar bytes = new Uint8Array(seq);\n\n\t\tconsole.log(bytes);\n\n\t\tlet nextColors = [];\n\t\t\n\t\tlet delay = 0;\n\t\t\t\n\t\tfor (let i=0; i<bytes.length; i+=8) {\n\t\t\tif (bytes[i] === 0x3 && i === 0) {\n\t\t\t\tlet count = (bytes[i+2] << 8) | bytes[i+1];\n\t\t\t\tconsole.log(\"Count\", count);\n\t\t\t\tfor (let j = 0; j < count; j++) {\n\t\t\t\t\tnextColors.push({color: `rgb(0,0,0)`})\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else if (bytes[i] === 0x1) {\n\t\t\t\tlet r = bytes[i+1];\n\t\t\t\tlet g = bytes[i+2];\n\t\t\t\tlet b =  bytes[i+3];\n\t\t\t\tlet index = (bytes[i+5] << 8) | bytes[i+4];\n\t\t\t\tconsole.log(\"color\", r,g,b, index);\n\t\t\t\tnextColors[index] = ({color: `rgb(${r},${g},${b})`})\n\t\t\t}else if (bytes[i] === 0x2) {\n\t\t\t\tdelay += (bytes[i+4] << 24) | (bytes[i+3] << 16) | (bytes[i+2] << 8) | bytes[i+1];\n\t\t\t\tconsole.log(\"delay\", delay);\n\t\t\t\tsetTimeout((lights) => {\n\t\t\t\t\tconsole.log(\"Changed lights\");\n\t\t\t\t\tsetLights(lights);\n\t\t\t\t}, delay,[...nextColors] )\n\t\t\t}\n\t\t}\n        }\n\n\tconst [lights, setLights] = useState([{color: `rgb(50,50,50)`},{color: `rgb(50,50,50)`}, {color: `rgb(50,50,50)`}, {color: `rgb(50,50,50)`}, {color: `rgb(50,50,50)`}, {color: `rgb(50,50,50)`}, {color: `rgb(50,50,50)`}, {color: `rgb(50,50,50)`}, {color: `rgb(50,50,50)`}, {color: `rgb(50,50,50)`} ]);\n\tconst rows = Math.floor((window.innerWidth - 200) / 170);\n\tconst radius = 50;\n\tconst xOffset = 120;\n\tconst yOffset = 120;\n\n\treturn (\n\t\t<Stage width={window.innerWidth} height={200}>\n      \t\t\t<Layer>\n\t\t\t\t{\n\t\t\t\t\tlights.map( function(elem, idx) {\n\t\t\t\t\t\tconsole.log(elem, idx);\n\t\t\t\t\t\treturn <Bulb x={xOffset + (xOffset * (idx % rows))} y={yOffset + (yOffset * Math.floor(idx / rows))} color={elem.color} radius={radius}/>\n\t\t\t\t\t})\n\t\t\t\t}\n      \t\t\t</Layer>\n    \t\t</Stage>\n  \t);\n}\n\n\nexport default Styler;\n","import '../App.css';\nimport '../index.css';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport React, { useState, useEffect } from \"react\";\nimport LightListItem from \"../components/LightListItem\";\nimport Picker from \"../components/Picker\";\nimport Styler from \"../components/Styler\";\nimport Offcanvas from \"react-bootstrap/Offcanvas\";\nimport Button from \"react-bootstrap/Button\";\nimport ListGroup from \"react-bootstrap/ListGroup\";\nimport axios from \"axios\";\nimport FileBrowser from 'react-keyed-file-browser'\nimport '../../node_modules/react-keyed-file-browser/dist/react-keyed-file-browser.css';\n\n\nfunction Other() {\n\n\tasync function getData() {\n\n\n\t\t/*return {\n\t\t\tlights: [\n\t\t\t\t{\n\t\t\t\t\tid: 0,\n\t\t\t\t\tname: \"lower tree\",\n\t\t\t\t\tip: \"192.168.86.146\",\n\t\t\t\t\tpixels: 100,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 1,\n\t\t\t\t\tname: \"upper tree\",\n\t\t\t\t\tip: \"192.168.86.145\",\n\t\t\t\t\tpixels: 100,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 2,\n\t\t\t\t\tname: \"test\",\n\t\t\t\t\tip: \"192.168.86.140\",\n\t\t\t\t\tpixels: 50,\n\t\t\t\t}\n\t\t\t],\n\t\t\tgroups: [\n\t\t\t\t{\n\t\t\t\t\tname: \"lower tree\",\n\t\t\t\t\tlights: [0],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"upper tree\",\n\t\t\t\t\tlights: [1],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"test\",\n\t\t\t\t\tlights: [2],\n\t\t\t\t},\t\n\t\t\t\t{\n\t\t\t\t\tname: \"tree\",\n\t\t\t\t\tlights: [ 0, 1 ],\n\t\t\t\t}\n\t\t\t]\n\t\t}*/\n\t}\n\n\tconst [data, setData] = useState({});\n\n\tfunction getData() {\n\t\tconsole.log(\"getting data\");\n\n\t\taxios.get(\"http://homeserver/lights/config.json\").then((resp) => {\n\t\t\tlet blob = resp.data;\n\t\t\tsetData(blob);\n\t\t});\n\t}\n\n\tconst [files, setFiles] = useState([]);\n\tfunction getFiles() {\n\t\taxios.get(\"http://homeserver/lights/patterns/files.json\").then((resp) => {\n\t\t\tlet blob = resp.data;\n\t\t\tsetFiles(blob);\n\t\t});\n\n\t}\n\n\tconst [selectedFile, setSelectedFile] = useState();\n\tconst [selectedLight, setSelectedLight] = useState();\n\n\tfunction clickFile(file) {\n\n\t\tvar bodyFormData = new FormData();\n\n\t\tif (!selectedLight) {\n\t\t\treturn;\n\t\t}\n\n\t\taxios.get(`http://homeserver/lights/patterns/${file.key}`,  { responseType: 'arraybuffer' }\n).then((resp) => {\n\n\t\t\tlet bytes = new Uint8Array(resp.data);\n\n\t\t\tlet blob = new Blob([resp.data], {type: \"application/octet-stream\"});\n\n\t\t\tbodyFormData.append(\"file\", blob, file.key);\n\n\t\t\tconsole.log(selectedLight);\n\t\t\tselectedLight.lights.forEach((light) => {\n\t\t\t\taxios({\n\t\t\t\t\tmethod: \"post\",\n\t\t\t\t\turl: `http://${data.lights[light].ip}/upload`,\n\t\t\t\t\tdata: bodyFormData,\n\t\t\t\t\theaders: { \"Content-Type\": \"multipart/form-data\" },\n\t\t\t\t})\n\t\t\t\t\t.then(function (response) {\n\t\t\t\t\t\t//handle success\n\t\t\t\t\t\tconsole.log(response);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(function (response) {\n\t\t\t\t\t\t//handle error\n\t\t\t\t\t\tconsole.log(response);\n\t\t\t\t\t});\n\n\t\t\t\tconsole.log(data.lights[light]);\n\t\t\t});\n\t\t});\n\n\t}\n\n\tfunction clickLight(light) {\n\t\tsetSelectedLight(light);\n\t\tconsole.log(light);\n\t}\n\n\tuseEffect(() => {\n\t\tgetData()\n\t\tgetFiles()\n\t}, []);\n\n\n\tconst [show, setShow] = useState(false);\n\n\tconst handleClose = () => setShow(false);\n\tconst handleShow = () => setShow(true);\n\n\treturn (\n\t\t<>\n\n\t\t<h3>Selected Light: <span>{selectedLight? selectedLight.name : \"\" }</span></h3>\n\n\t\t<Offcanvas show={show} onHide={handleClose} scroll={true} backdrop={false} placement={'bottom'}>\n\t\t\t<Offcanvas.Header closeButton>\n\t\t\t\t<Offcanvas.Title>Lights</Offcanvas.Title>\n\t\t\t</Offcanvas.Header>\n\t\t\t<Offcanvas.Body>\n\t\t\t\t<ListGroup>\n\t\t\t\t{\n\t\t\t\t\tdata.groups ? (data.groups.map((v, i) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<ListGroup.Item action key={i} onClick={ () => clickLight(v) } >\n\t\t\t\t\t\t\t\t<LightListItem name={v.name} all={data.lights} lights={v.lights}/>\n\t\t\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t\t\t);\n\t\t\t\t\t})) : <></>\n\t\t\t\t}\n\t\t\t\t</ListGroup>\n\t\t\t</Offcanvas.Body>\n\t\t</Offcanvas>\n\t\t<FileBrowser files={files} onSelectFile={clickFile} />\n\t\t<Picker lightData={data} lights={selectedLight}/>\n\t\t<Styler/>\n\t\t<Button variant=\"primary\" onClick={handleShow}>Lights </Button>\n\t\t</>\n\t);\n}\n\n\nexport default Other;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Setup from './containers/setup.js';\nimport Light from './containers/light.js';\nimport Programming from './containers/programming.js';\nimport Run from './containers/run.js';\nimport Control from './containers/control.js';\nimport Home from './containers/home.js';\nimport Other from './containers/other.js';\nimport Signup from './containers/signup.js';\nimport Login from './containers/login.js';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { Route, Switch } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <Switch>\n      \t<Route exact path=\"/dev\">\n          <Programming />\n      \t</Route>\n      \t<Route exact path=\"/run\">\n          <Run />\n      \t</Route>\n      \t<Route exact path=\"/setup\">\n          <Setup />\n      \t</Route>\n      \t<Route exact path=\"/lights\">\n          <Light/>\n      \t</Route>\n      \t<Route exact path=\"/control\">\n          <Control />\n      \t</Route>\n      \t<Route exact path=\"/signup\">\n          <Signup />\n      \t</Route>\n      \t<Route exact path=\"/login\">\n          <Login />\n      \t</Route>\n      \t<Route exact path=\"/\">\n          <Home/>\n      \t</Route>\n      \t<Route exact path=\"/home\">\n          <Home/>\n      \t</Route>\n      </Switch>\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin"]}}