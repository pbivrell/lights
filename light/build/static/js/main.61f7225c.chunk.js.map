{"version":3,"sources":["components/LightDetect.js","components/LightIP.js","containers/setup.js","containers/light.js","components/Bulb.js","containers/programming.js","containers/run.js","components/LightListItem.js","containers/control.js","lib/hooks.js","containers/login.js","containers/signup.js","res/Bulb_crop.png","res/OffBulb_crop.png","res/DisconnectedBulb_crop.png","components/Picker2.js","res/AddBulb_crop.png","containers/home.js","containers/other.js","reportWebVitals.js","index.js"],"names":["baseURL","process","timeout","LightDetect","next","useState","loading","setLoading","failed","setFailed","networks","setNetworks","ssid","setSSID","password","setPassword","onLoad","a","axios","get","then","response","data","catch","resp","useEffect","Spinner","animation","Button","onClick","onChange","selected","value","searchable","options","map","d","type","name","e","target","setIP","console","log","Setup","cancel","prom","setPrompt","updatePrompt","i","nextProm","className","class","Light","r","g","b","color","setColor","ip","pixels","last","Date","now","getInt64Bytes","x","y","Math","floor","z","Uint8Array","bytes","length","generateBinary","blob","Blob","bodyFormData","FormData","append","method","url","headers","Bulb","delay","radius","click","isShown","setIsShown","setTimeout","fill","Programming","processSequence","seq","nextColors","count","j","push","index","lights","setLights","rows","window","innerWidth","fr","FileReader","onload","result","files","readAsArrayBuffer","width","height","innerHeight","elem","idx","Run","enctype","action","id","all","clicked","setClicked","status","setStatus","Status","style","forEach","v","defaultChecked","float","join","Control","sampleData","groups","useFormFields","initialState","fields","setValues","event","displayError","Login","callback","user","field","handleFieldChange","handleSubmit","preventDefault","post","JSON","stringify","withCredentials","Form","onSubmit","Group","controlId","size","Label","autoFocus","block","variant","disabled","Signup","URL","email","confirmPassword","confirmationCode","put","Picker2","light","initalState","getLight","bulbState","setBulbState","hsl","rgb","hex","IP","pushLight","pushColor","parseInt","Count","onColorChange","hue","c","Object","keys","ID","Version","Updated","toLocaleDateString","toLocaleTimeString","alias","background","src","bulb","offbulb","disconnectedbulb","onChangeComplete","Home","setup","setSetup","lightMap","setLightMap","userData","setUserData","authed","setAuthed","register","setRegister","addBulbToggle","dropDown","delete","getUserData","lightData","DropdownButton","drop","title","onSelect","Dropdown","Item","eventKey","Divider","AddBulb","ToggleButtonGroup","ToggleButton","Other","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","exact","path","document","getElementById"],"mappings":"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","file":"static/js/main.61f7225c.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport Spinner from \"react-bootstrap/Spinner\";\nimport axios from \"axios\";\nimport Select from 'react-select'\n\n\nconst baseURL = process.env.REACT_APP_URL;\nconst timeout = 10 * 1000;\n\nexport default function LightDetect({next}) {\n\tconst [loading, setLoading] = useState(true);\n\tconst [failed, setFailed] = useState(false);\n\tconst [networks, setNetworks] = useState([]);\n\tconst [ssid, setSSID] = useState(\"\");\n\tconst [password, setPassword] = useState(\"\");\n\n\n\tuseEffect(() => {\n  \t\tonLoad();\n\t}, []);\n\n\tasync function onLoad() {\n\t\tsetLoading(true);\n\t\taxios.get(baseURL + \"/networks\", { timeout: timeout}).then((response) => {\n\t\t\tsetNetworks(response.data);\n\t\t\tsetLoading(false);\n    \t\t}).catch((resp) => {\n\t\t\tsetFailed(true);\n\t\t\tsetLoading(false);\n\t\t});\n\t}\n\n\tasync function onSubmit() {\n\t\tsetLoading(true);\n\n\t\taxios.get(baseURL + `/login?ssid=${ssid}&password=${password}`, { timeout: timeout}).then((response) => {\n\t\t\tnext();\n    \t\t}).catch((resp) => {\n\t\t\tsetFailed(true);\n\t\t});\n\t\tsetLoading(false);\n\n\t}\n\n\tfunction onRetry() {\n\t\tsetFailed(false);\n\t\tonLoad();\n\t}\n\n\treturn (\n    \t<div>\n\t\t\t{ loading ? (\n\t\t\t\t<>\n\t\t\t\t\t<p> Searching for lights </p>\n\t\t\t\t\t<Spinner animation=\"border\">\n\t\t\t\t\t</Spinner>\n\t\t\t\t\t<br/>\n\t\t\t\t</>\n\t\t\t) : failed ? (\n\t\t\t\t<>\n\t\t\t\t\t<p>Failed to setup new lights</p>\n\t\t\t\t\t<Button onClick={() => onRetry()}>Retry</Button> \n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t<p>Found new lights</p>\n\t\t\t\t\t<p>Select Wifi you would like to connect them to</p>\n\t\t\t\t\t<Select onChange={(selected) => setSSID(selected.value)} searchable options={networks.map(function(d){\n         \t\t\t\t\treturn ({ \"value\": d, \"label\": d })\n       \t\t\t\t\t})}/>\n\t\t\t\t\t<label>Password: </label> <input type=\"password\" name=\"name\" onChange={(e) => setPassword(e.target.value)}/><br/>\n\t\t\t\t\t<Button onClick={onSubmit}>Submit</Button>\t\n\t\t\t    \t</> \n\t\t\t) \n\t\t\t}\n\t\t\t<Button onClick={() => {next(-1)}}>Back</Button>\n    \t</div>\n  \t);\n}\n","import React, { useState, useEffect } from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport axios from \"axios\";\nimport Spinner from \"react-bootstrap/Spinner\";\n\nconst baseURL = process.env.REACT_APP_URL;\nconst timeout = 3 * 1000;\n\nexport default function LightDetect({next}) {\n\tconst [loading, setLoading] = useState(false);\n\tconst [failed, setFailed] = useState(false);\n\tconst [ip, setIP] = useState(\"\");\n\n\n\tuseEffect(() => {\n  \t\tonLoad();\n\t}, []);\n\n\tasync function onLoad() {\n\t\tsetLoading(true);\n\t\taxios.get(baseURL + \"/ip\", { timeout: timeout}).then((response) => {\n\t\t\tsetIP(response.data);\n    \t\t}).catch((resp) => {\n\t\t\tsetFailed(true);\n\t\t});\n\t\tsetLoading(false);\n\t}\n\n\tfunction onRetry() {\n\t\tonLoad();\n\t}\n\n\treturn (\n    \t<div>\n\t\t\t{ loading ? (\n\t\t\t\t<>\n\t\t\t\t\t<p> Getting device IP</p>\n\t\t\t\t\t<Spinner animation=\"border\">\n\t\t\t\t\t</Spinner>\n\t\t\t\t\t<br/>\n\t\t\t\t</>\n\t\t\t) : failed ? (\n\t\t\t\t<>\n\t\t\t\t\t<p>Failed to connect with device</p>\n\t\t\t\t\t<Button onClick={() => onRetry()}>Retry</Button> \n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t<p>Congradulations your lights are ready to go!</p>\n\t\t\t\t\t<p>Remeber to reconnect your device to the same network as the lights</p>\n\t\t\t\t\t<Button onClick={() => console.log(\"TODO\") }>Light</Button>\n\t\t\t    \t</> \n\t\t\t) \n\t\t\t}\n\t\t\t<Button onClick={() => {next(-1)}}>Back</Button>\n    \t</div>\n  \t);\n}\n","import '../App.css';\nimport Button from \"react-bootstrap/Button\";\nimport React, { useState } from \"react\";\nimport LightsDetect from \"../components/LightDetect\";\nimport LightsIP from \"../components/LightIP\";\n\nfunction Setup ({cancel}) {\n\tconst [prom, setPrompt] = useState(0);\n\t\n\tfunction updatePrompt(i = 1) {\n\t\tlet nextProm = prom + i;\n\t\tif (nextProm > 3) {\n\t\t\tnextProm = 0\n\t\t}\n   \t\tsetPrompt(nextProm);\n\t}\n\n\n\treturn (\n    \t<div className=\"App\">\n      \t\t<header className=\"App-header\">\n\t\t\t<Button className=\"close\" onClick={cancel}>X</Button>\n        \t\t<div>\n\t\t\t\t{ prom === 0 ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<p>Plug in Inf-Lights. They should blink <span class=\"red\">red</span></p>\n\t\t\t\t\t\t<Button onClick={() => {updatePrompt()}}> Next</Button>\n\t\t\t\t\t</>\n\t\t\t\t)\n\t\t\t\t: prom === 1 ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<p>Go to wifi settings and connect to <code>P-lights-0</code></p>\n\t\t\t\t\t\t<Button onClick={() => {updatePrompt()}}> Next</Button>\n\t\t\t\t\t\t<Button onClick={() => updatePrompt(-1)}> Back</Button>\n\t\t\t\t\t</>\n\t\t\t\t) : prom === 2 ? (\n\t\t\t\t\t<LightsDetect next={updatePrompt}/>\n\t\t\t\t) : prom === 3 ? (\n\t\t\t\t\t<LightsIP next={updatePrompt}/>\n\t\t\t\t) : (<></>) }\n        \t\t</div>\n      \t\t</header>\n    \t</div>\n  \t);\n}\n\n\nexport default Setup;\n","import '../App.css';\nimport Button from \"react-bootstrap/Button\";\nimport React, { useState } from \"react\";\nimport LightsDetect from \"../components/LightDetect\";\nimport LightsIP from \"../components/LightIP\";\nimport { RgbColorPicker } from \"react-colorful\";\nimport axios from \"axios\";\nimport Spinner from \"react-bootstrap/Spinner\";\n\nfunction Light () {\n\n  \tconst [color, setColor] = useState({ r: 200, g: 150, b: 35 });\n\tconst [ip, setIP] = useState({ ip: \"192.168.86.162\", pixels: 50 });\n\n\tvar last = Date.now();\n\tfunction onColorChange(color) {\n\n\t\tlet now = Date.now();\n\t\tconsole.log(color);\n\t\tif (now - last < 100) {\n\t\t\tconsole.log(\"ignoring time\");\n\t\t\treturn;\n\t\t}\n\t\tlast = now;\n\t\tsetColor(color);\n\n\t\tlet data = generateBinary(color, ip.pixels);\n                let blob = new Blob([data], {type: \"application/octet-stream\"});\n\n\t\tlet bodyFormData = new FormData();\n\n                bodyFormData.append(\"file\", blob, \"dummy.bin\");\n\t\t\n\t\tconsole.log(`http://${ip}/upload`);\n\n                axios({\n                \tmethod: \"post\",\n                \turl: `http://${ip.ip}/upload`,\n                \tdata: bodyFormData,\n                \theaders: { \"Content-Type\": \"multipart/form-data\" },\n                })\n                .then(function (response) {\n                \t//handle success\n                \tconsole.log(response);\n                })\n                .catch(function (response) {\n                \t//handle error\n                \tconsole.log(response);\n                });\n\n\t\t//axios.get(`http://${ip}/color?r=${color.r}&g=${color.g}&b=${color.b}`).catch((resp) => {\n\t\t//\tconsole.log(\"TODO\")\n                //});\n\t}\n\t\n\t\n\tfunction generateBinary(color, pixels) {\n\t\t\n\t\tlet data = new Uint8Array((2 + pixels) * 8);\n\t\tlet bytes = getInt64Bytes(pixels);\n\n\t\tlet count = (bytes[bytes.length-2] << 8) | bytes[bytes.length-1];\n\t\t\n\t\tdata[0] = 0x3;\n\t\tdata[1] = bytes[bytes.length-1];\n\t\tdata[2] = bytes[bytes.length-2];\n\n\t\tfor (let i = 0; i < pixels; i++) {\n\t\t\tlet bytes = getInt64Bytes(i);\n\t\t \tdata[(i + 1) * 8] = 0x1;\n\t\t\tdata[(i + 1) * 8 + 1] = color.r;\n\t\t\tdata[(i + 1) * 8 + 2] = color.g;\n\t\t\tdata[(i + 1) * 8 + 3] = color.b;\n\t\t\tdata[(i + 1) * 8 + 4] = bytes[bytes.length-1];\n\t\t\tdata[(i + 1) * 8 + 5] = bytes[bytes.length-2];\n\t\t}\n\n\t\tdata[8 + (pixels * 8)] = 0x2;\n\t\tdata[8 + (pixels * 8) + 1] = 200;\n\t\tdata[8 + (pixels * 8) + 2] = 0;\n\t\tdata[8 + (pixels * 8) + 3] = 0;\n\t\tdata[8 + (pixels * 8) + 4] = 0;\n\n\n\t\tconsole.log(data);\n\t\treturn data;\n\n\t}\n\n\tfunction getInt64Bytes(x) {\n  \t\tlet y= Math.floor(x/2**32);\n  \t\treturn [y,(y<<8),(y<<16),(y<<24), x,(x<<8),(x<<16),(x<<24)].map(z=> z>>>24)\n\t}\n\n\n\n\n\n\treturn (\n\t<div className=\"App\">\n\t\t<header className=\"App-header\">\n            <RgbColorPicker color={color} onChange={onColorChange} />\n            <p>{ color.r}, {color.g}, {color.b}</p>\n\t\t</header>\n\t</div>\n  \t);\n}\n\n\nexport default Light;\n","import React, { useState, useEffect } from \"react\";\nimport {Circle}  from 'react-konva';\n\nexport default function Bulb({delay, color, x, y, radius, click}) {\n\n\n\tconst [isShown, setIsShown] = useState(false);\n\n  \tuseEffect(() => {\n    \t\tsetTimeout(() => {\n      \t\t\tsetIsShown(true);\n    \t\t}, delay);\n  \t}, [delay]);\n\n\treturn isShown ? \n\t\t<Circle x={x} y={y} radius={radius} fill={color} onClick={click}/> \n\t\t: \n\t\t<Circle x={x} y={y} radius={radius} fill=\"black\" onClick={click}/>;\n}\n","import '../App.css';\nimport React, { useState, useEffect } from \"react\";\nimport { Stage, Layer } from 'react-konva';\nimport Bulb from \"../components/Bulb.js\"\n\nfunction Programming () {\n\n\tfunction handleFiles(e) {\n\t\tvar fr=new FileReader();\n\t\tfr.onload=function(){\n\t\t\tprocessSequence(fr.result);\n\t\t}\n\t\t\n\t\tif (e.target.files.length > 0) {\n\t\t\tfr.readAsArrayBuffer(e.target.files[0]);\n\t\t}\n\t}\n\n\n\tfunction processSequence(seq) {\n\t\t\n\t\tconsole.log(seq);\n\n\t\tvar bytes = new Uint8Array(seq);\n\n\t\tconsole.log(bytes);\n\n\t\tlet nextColors = [];\n\t\t\n\t\tlet delay = 0;\n\t\t\t\n\t\tfor (let i=0; i<bytes.length; i+=8) {\n\t\t\tif (bytes[i] === 0x3 && i === 0) {\n\t\t\t\tlet count = (bytes[i+2] << 8) | bytes[i+1];\n\t\t\t\tconsole.log(\"Count\", count);\n\t\t\t\tfor (let j = 0; j < count; j++) {\n\t\t\t\t\tnextColors.push({color: `rgb(0,0,0)`})\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else if (bytes[i] === 0x1) {\n\t\t\t\tlet r = bytes[i+1];\n\t\t\t\tlet g = bytes[i+2];\n\t\t\t\tlet b =  bytes[i+3];\n\t\t\t\tlet index = (bytes[i+5] << 8) | bytes[i+4];\n\t\t\t\tconsole.log(\"color\", r,g,b, index);\n\t\t\t\tnextColors[index] = ({color: `rgb(${r},${g},${b})`})\n\t\t\t}else if (bytes[i] === 0x2) {\n\t\t\t\tdelay += (bytes[i+4] << 24) | (bytes[i+3] << 16) | (bytes[i+2] << 8) | bytes[i+1];\n\t\t\t\tconsole.log(\"delay\", delay);\n\t\t\t\tsetTimeout((lights) => {\n\t\t\t\t\tconsole.log(\"Changed lights\");\n\t\t\t\t\tsetLights(lights);\n\t\t\t\t}, delay,[...nextColors] )\n\t\t\t}\n        }\n        setTimeout(() => {\n            processSequence(seq)\n        }, delay)\n\t}\n\n\tconst [lights, setLights] = useState([]);\n\tconst rows = Math.floor((window.innerWidth - 200) / 170);\n\tconst radius = 50;\n\tconst xOffset = 120;\n\tconst yOffset = 120;\n\n\treturn (\n\t<div className=\"App\">\n\t\t<input type=\"file\" name=\"file\" onChange={handleFiles} />\n\t\t<header className=\"App-header\">\n\t\t\t<Stage width={window.innerWidth} height={window.innerHeight}>\n      \t\t\t\t<Layer>\n\t\t\t\t\t{\n\t\t\t\t\t\tlights.map( function(elem, idx) {\n\t\t\t\t\t\t\tconsole.log(elem, idx);\n\t\t\t\t\t\t\treturn <Bulb x={xOffset + (xOffset * (idx % rows))} y={yOffset + (yOffset * Math.floor(idx / rows))} color={elem.color} radius={radius}/>\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n      \t\t\t\t</Layer>\n    \t\t\t</Stage>\n\t\t</header>\n\t</div>\n  \t);\n}\n\n\nexport default Programming;\n","import '../App.css';\nimport React, { useState, useEffect } from \"react\";\n\nfunction Run() {\n\n\t//const [ip, setIP] = useState(\"192.168.86.136\");\n\t//const [ip, setIP] = useState(\"192.168.86.144\");\n\tconst [ip, setIP] = useState(\"192.168.86.152\");\n\n\treturn (\n\t<div className=\"App\">\n\t\t<header className=\"App-header\">\n\t\t\t<form method='POST' enctype='multipart/form-data' action={\"http://\" + ip + \"/upload\"}>\n     \t\t\t\t<input type=\"file\" id=\"myFile\" name=\"filename\"></input>\n     \t\t\t\t<input type=\"submit\"></input>\n   \t\t\t</form>\n\t\t</header>\n\t</div>\n  \t);\n}\n\n\nexport default Run;\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nexport default function LightDetect({name, all, lights}) {\n\n\tconst [clicked, setClicked] = useState(false);\n\t\n\tfunction onToggle(e) {\n\t\tlights.forEach((v) => {\n\t\t\taxios.get(`http://${all[v].ip}/toggle`, {timeout: 1000}).catch((resp) => {\n\t\t\t\tconsole.log(\"failed to toggle\");\n\t\t\t});\n\t\t});\n\n\t\t// After 1/2 a second check if the lights are on\n\t\tsetTimeout(() => {\n\t\t\tsetClicked(!clicked);\n\t\t}, 500);\n\t}\n\n\n\tuseEffect(() => {\n\t\tif (lights.length === 1) {\n\t\t\taxios.get(`http://${all[lights[0]].ip}/status`, {timeout: 1000})\n\t\t\t.then((resp) => {\n\t\t\t\tconsole.log(resp.data.status);\n\t\t\t\tif (resp.data.status) {\n\t\t\t\t\tsetStatus(\"active\");\n\t\t\t\t}else {\n\t\t\t\t\tsetStatus(\"inactive\");\n\t\t\t\t}\n\t\t\t}).catch(() => {\n\t\t\t\tsetStatus(\"offline\");\n\t\t\t});\n\t\t}\n\t}, [clicked])\n\n\n\tconst [Status, setStatus] = useState(lights.length === 1 ? \"loading\" : \"\");\n\n\treturn (\n    \t<div key={name} style={ Status === \"offline\" ? {color: \"grey\"} : {}}>\n\t\t<input\n          \t\ttype='checkbox'\n\t\t\tonClick={(e) => onToggle(e)}\n\t\t\tdefaultChecked={Status === \"active\"}\n\t\t\tstyle={{float: \"right\", width: \"100px\"}}\n        \t/>\n\t\t<span>Name: </span><span>{name}</span><br/>\n\t\t<span>Devices(s): </span><span>{ lights.length === 1 ? all[lights[0]].ip : lights.map((x) => all[x].name ).join(\",\") }</span>\n    \t</div>\n  \t);\n}\n","import '../App.css';\nimport React, { useState, useEffect } from \"react\";\nimport LightListItem from \"../components/LightListItem\";\n\nfunction Control() {\n\n\tconst sampleData = {\n\t\tlights: [\n\t\t\t{\n\t\t\t\tid: 0,\n\t\t\t\tname: \"lower tree\",\n\t\t\t\tip: \"192.168.86.136\",\n\t\t\t\tpixels: 100,\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 1,\n\t\t\t\tname: \"upper tree\",\n\t\t\t\tip: \"192.168.86.137\",\n\t\t\t\tpixels: 100,\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 2,\n\t\t\t\tname: \"test\",\n\t\t\t\tip: \"192.168.86.140\",\n\t\t\t\tpixels: 50,\n\t\t\t}\n\t\t],\n\t\tgroups: [\n\t\t\t{\n\t\t\t\tname: \"lower tree\",\n\t\t\t\tlights: [0],\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"upper tree\",\n\t\t\t\tlights: [1],\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"test\",\n\t\t\t\tlights: [2],\n\t\t\t},\t\n\t\t\t{\n\t\t\t\tname: \"tree\",\n\t\t\t\tlights: [ 0, 1 ],\n\t\t\t}\n\t\t]\n\t}\n\n\treturn (\n\t<div className=\"App\">\n\t\t<header className=\"App-header\">\n\t\t\t<ul>\n\t\t\t\t{\n\t\t\t\t\tsampleData.groups.map((v,i) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<LightListItem name={v.name} all={sampleData.lights} lights={v.lights}/>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t</ul>\n\t\t</header>\n\t</div>\n  \t);\n}\n\n\nexport default Control;\n","import { useState } from \"react\";\n\nexport function useFormFields(initialState) {\n  const [fields, setValues] = useState(initialState);\n\n  return [\n    fields,\n    function(event) {\n      setValues({\n        ...fields,\n        [event.target.id]: event.target.value\n      });\n    }\n  ];\n}\n\nexport function displayError(e) {\n\tconsole.log(e);\n}\n","import React, { useState } from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport { useFormFields, displayError } from \"../lib/hooks\";\nimport axios from \"axios\";\n\nfunction Login({callback}) {\n\n\tconst URL = process.env.REACT_APP_API_URL + \"/user\";\n\n\tconst [field, handleFieldChange] = useFormFields({\n\t\tuser: \"\",\n    \t\tpassword: \"\",\n  \t});\n\n\tconst [loading, setLoading] = useState(false);\n\n\tfunction validateConfirmationForm() {\n\t\treturn (\n      \t\t\tfield.user.length > 0 &&\n      \t\t\tfield.password.length > 0\n    \t\t);\n\t}\n\n\tfunction handleSubmit(event) {\n\n\t\tevent.preventDefault();\n\n\t\tsetLoading(true);\n\n\t\taxios.post(URL, JSON.stringify(field) ,{\n    \t\t\twithCredentials: true \n  \t\t}).then((resp) => {\n\t\t\tcallback()\n\t\t}).catch((e) => {\n\t\t\tdisplayError(e);\n\t\t\tsetLoading(false);\n\t\t});\n\t}\n\n\tfunction renderForm() {\n\t\treturn (\n\t\t\t<Form onSubmit={handleSubmit}>\n\t\t\t\t<Form.Group controlId=\"user\" size=\"lg\">\n\t\t\t\t\t<Form.Label>Username</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tvalue={field.user}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group controlId=\"password\" size=\"lg\">\n\t\t\t\t\t<Form.Label>Password</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tvalue={field.password}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<br/>\n\t\t\t\t<Button\n\t\t\t\t\tblock\n\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t        disabled={!validateConfirmationForm() || loading}\n\n\t\t\t\t>\n\t\t\t\t\t{ !loading ? \"Login\" : \"loading...\"}\n\t\t\t\t</Button>\n\t\t\t</Form>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className=\"Signup\">\n\t\t\t{renderForm()}\n\t\t</div>\n\t);\n}\n\nexport default Login;\n","import React, { useState } from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport { useFormFields, displayError } from \"../lib/hooks\";\nimport axios from \"axios\";\n\nfunction Signup({callback}) {\n\n\tconst URL = process.env.REACT_APP_API_URL + \"/user\";\n\n\tconst [loading, setLoading] = useState(false);\n\n\tconst [field, handleFieldChange] = useFormFields({\n    \t\temail: \"\",\n\t\tid: \"\",\n    \t\tpassword: \"\",\n\t\tconfirmPassword: \"\",\n    \t\tconfirmationCode: \"\",\n  \t});\n\n\tfunction validateConfirmationForm() {\n\t\treturn (\n      \t\t\tfield.email.length > 0 &&\n      \t\t\tfield.password.length > 0 &&\n      \t\t\tfield.password === field.confirmPassword\n    \t\t);\n\t}\n\n\tfunction handleSubmit(event) {\n\n\t\tevent.preventDefault();\n\n\t\tsetLoading(true);\n\n\t\taxios.put(URL, JSON.stringify(field)).then((resp) => {\n\t\t\taxios.post(URL, JSON.stringify({\n\t\t\t\t\"user\": field.id,\n\t\t\t\t\"password\": field.password,\n\t\t\t}) ,{\n    \t\t\t\twithCredentials: true \n  \t\t\t}).then((resp) => {\n\t\t\t\tcallback()\n\t\t\t}).catch((e) => {\n\t\t\t\tdisplayError(e);\n\t\t\t\tsetLoading(false);\n\t\t\t});\n\t\t}).catch((e) => {\n\t\t\tsetLoading(false);\n\t\t\tdisplayError(e);\n\t\t});\n\t}\n\n\tfunction renderForm() {\n\t\treturn (\n\t\t\t<Form onSubmit={handleSubmit}>\n\t\t\t\t<Form.Group controlId=\"id\" size=\"lg\">\n\t\t\t\t\t<Form.Label>Username</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tvalue={field.id}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group controlId=\"email\" size=\"lg\">\n\t\t\t\t\t<Form.Label>Email</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\tvalue={field.email}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group controlId=\"password\" size=\"lg\">\n\t\t\t\t\t<Form.Label>Password</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tvalue={field.password}\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group controlId=\"confirmPassword\" size=\"lg\">\n\t\t\t\t\t<Form.Label>Confirm Password</Form.Label>\n\t\t\t\t\t<Form.Control\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tonChange={handleFieldChange}\n\t\t\t\t\t\tvalue={field.confirmPassword}\n\t\t\t\t\t/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<br/>\n\t\t\t\t<Button\n\t\t\t\t\tblock\n\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tvariant=\"success\"\n\t\t\t\t        disabled={!validateConfirmationForm() || loading}\n\n\t\t\t\t>\n\t\t\t\t\t{ !loading ? \"Signup\" : \"loading...\" }\n\t\t\t\t</Button>\n\t\t\t</Form>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className=\"Signup\">\n\t\t\t{renderForm()}\n\t\t</div>\n\t);\n}\n\nexport default Signup;\n","export default __webpack_public_path__ + \"static/media/Bulb_crop.4dabd27e.png\";","export default __webpack_public_path__ + \"static/media/OffBulb_crop.94f07016.png\";","export default __webpack_public_path__ + \"static/media/DisconnectedBulb_crop.4d12a43d.png\";","import './Picker2.css';\nimport React, { useState, useEffect } from \"react\";\nimport { HuePicker, AlphaPicker } from 'react-color'\nimport bulb from '../res/Bulb_crop.png';\nimport offbulb from '../res/OffBulb_crop.png';\nimport disconnectedbulb from '../res/DisconnectedBulb_crop.png';\nimport axios from \"axios\";\nimport {displayError} from \"../lib/hooks\";\n\nfunction Picker2({name, light, initalState}) {\n\n\tuseEffect(() => {\n\t\tgetLight();\n\t}, [light])\n\n\n\tconst [bulbState, setBulbState] = useState(initalState);\n\n  \tconst [color, setColor] = useState({ hsl: {a: 1}, rgb: {a:1}, hex: \"\"});\n\t\n\tfunction getLight() {\n\t\tif (!light || !light.IP) {\n\t\t\treturn\n\t\t}\n\t\taxios.get(`http://${light.IP}/status`, {timeout: 1000})\n\t\t.then((resp) =>{\n\t\t\tsetBulbState(resp.status ? 0 : 1);\n\t\t})\n\t\t.catch((e) => {\n\t\t\tsetBulbState(2);\n\t\t\tdisplayError(e);\n\t\t});\n\t}\n\n\tfunction pushLight(pushColor) {\n\t\tlet data = generateBinary(pushColor, light.Count);\n                let blob = new Blob([data], {type: \"application/octet-stream\"});\n                let bodyFormData = new FormData();\n                bodyFormData.append(\"file\", blob, \"dummy.bin\");\n\n                axios({\n                \tmethod: \"post\",\n                \turl: `http://${light.IP}/upload`,\n                \tdata: bodyFormData,\n                \theaders: { \"Content-Type\": \"multipart/form-data\" },\n                })\n                .then(function (response) {\n                \tconsole.log(response);\n                })\n                .catch(function (response) {\n                \tdisplayError(response)\n                });\n\t}\n\n\tfunction pushToggle() {\n\t\t\n\t\taxios.get(`http://${light.IP}/toggle`, {timeout: 1000})\n\t\t.then((resp) => {\n\t\t\tconsole.log(\"toggled\");\n\t\t})\n\t\t.catch((e) => {\n        \t\tdisplayError(e);\n\t\t});\n\t}\n\n\tfunction toggleBulb() {\n\t\tif (bulbState == 2) {\n\t\t\tgetLight();\n\t\t\treturn;\n\t\t}else if(bulbState == 1) {\n\t\t\tsetBulbState(0);\n\t\t}else {\n\t\t\tsetBulbState(1);\n\t\t}\n\n\t\tpushToggle();\n\t}\n\n\tfunction onColorChange(hue, c) {\n\n\t\tconsole.log(c);\n\n\t\tlet hsl = c.hsl;\n\t\tlet rgb = c.rgb;\n\n\t\tif(!hue) {\n\t\t\thsl.a = color.hsl.a;\n\t\t\trgb.a = color.rgb.a;\n\t\t}\n\t\tsetColor({hsl: hsl, rgb: c.rgb, hex: `rgba(${c.rgb.r},${c.rgb.g},${c.rgb.b},${hsl.a}`});\n\t\t\n\t\tpushLight(c.rgb);\n\t}\n\t\n\t\n\tfunction generateBinary(color, pixels) {\n\t\t\n\t\tlet data = new Uint8Array((2 + pixels) * 8);\n\t\tlet bytes = getInt64Bytes(pixels);\n\n\t\tlet count = (bytes[bytes.length-2] << 8) | bytes[bytes.length-1];\n\t\t\n\t\tdata[0] = 0x3;\n\t\tdata[1] = bytes[bytes.length-1];\n\t\tdata[2] = bytes[bytes.length-2];\n\n\t\tfor (let i = 0; i < pixels; i++) {\n\t\t\tlet bytes = getInt64Bytes(i);\n\t\t \tdata[(i + 1) * 8] = 0x1;\n\t\t\tdata[(i + 1) * 8 + 1] = parseInt(color.r * color.a) ;\n\t\t\tdata[(i + 1) * 8 + 2] = parseInt(color.g * color.a);\n\t\t\tdata[(i + 1) * 8 + 3] = parseInt(color.b * color.a);\n\t\t\tdata[(i + 1) * 8 + 4] = bytes[bytes.length-1];\n\t\t\tdata[(i + 1) * 8 + 5] = bytes[bytes.length-2];\n\t\t}\n\n\t\tdata[8 + (pixels * 8)] = 0x2;\n\t\tdata[8 + (pixels * 8) + 1] = 200;\n\t\tdata[8 + (pixels * 8) + 2] = 0;\n\t\tdata[8 + (pixels * 8) + 3] = 0;\n\t\tdata[8 + (pixels * 8) + 4] = 0;\n\n\n\t\tconsole.log(data);\n\t\treturn data;\n\n\t}\n\n\tfunction getInt64Bytes(x) {\n  \t\tlet y= Math.floor(x/2**32);\n  \t\treturn [y,(y<<8),(y<<16),(y<<24), x,(x<<8),(x<<16),(x<<24)].map(z=> z>>>24)\n\t}\n\n\tfunction getToolTip() {\n\t\tif (!light || Object.keys(light).length === 0) {\n\t\t\treturn \"\"\n\t\t}\n\t\treturn `ID: ${light.ID}\nIP: ${light.IP}\nVersion: ${light.Version}\n${new Date(light.Updated).toLocaleDateString() +\" \" +  new Date(light.Updated).toLocaleTimeString()}`\n\t}\n\n\treturn (\n\t<div className=\"Picker\">\n\n\t\t<div className=\"ButtonText\" data-tooltip={getToolTip()}>{name.alias}</div>\n\t\t<div className=\"Button\" style={{background: color.hex}} onClick={toggleBulb}>\n\t\t\t<img className=\"ButtonImage\" src={bulbState === 0 ? bulb : bulbState === 1 ? offbulb : disconnectedbulb }></img>\n\t\t</div>\n\t\t{ bulbState === 0 ? \n\t\t\t<>\n\t\t\t\t<br/>\n\t\t\t\t<HuePicker className=\"ButtonImage\" color={color.hsl} onChangeComplete={(c) => onColorChange(false, c)}/>\n\t\t\t\t<br/>\n                \t\t<AlphaPicker className=\"ButtonImage\" color={color.hsl} onChangeComplete={(c) => onColorChange(true, c)}/>\n\t\t\t</>\n\t\t: \n\t\t\t<></>\n\t\t}\n\t</div>\n  \t);\n}\n\n\nexport default Picker2;\n","export default __webpack_public_path__ + \"static/media/AddBulb_crop.aa00de5e.png\";","import '../App.css';\nimport '../index.css';\nimport './home.css';\nimport '../components/Picker2.css'\nimport Login from \"./login.js\";\nimport Signup from \"./signup.js\";\nimport {displayError} from \"../lib/hooks\";\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport {ToggleButton, ToggleButtonGroup, DropdownButton, Dropdown, ListGroup} from \"react-bootstrap\";\nimport Picker2 from \"../components/Picker2.js\"\nimport AddBulb from \"../res/AddBulb_crop.png\";\nimport Setup from '../containers/setup.js';\n\nfunction Home() {\n\n\tconst [setup, setSetup] = useState(false);\n\n\tconst [lightMap, setLightMap] = useState({});\n\n\tconst [userData, setUserData] = useState({});\n\n\tconst [authed, setAuthed] = useState(true);\n\n\tconst [register, setRegister] = useState(false);\n\n\tfunction addBulbToggle() {\n\t\tsetSetup(!setup);\n\t}\n\n\tfunction dropDown(e) {\n\n\t\tif (e === \"logout\") {\n\t\t\tlogout()\n\t\t}else if(e === \"settings\") {\n\t\t\tsettings()\n\t\t}\n\t}\n\n\tfunction logout() {\n\t\taxios.delete(`${process.env.REACT_APP_API_URL}/user`, {\n\t\t\twithCredentials: true,\n\t\t}).then((resp) => {\n\t\t\tsetAuthed(false);\n\t\t\tsetUserData({});\n\t\t}).catch((e) => {\n\t\t\tdisplayError(e);\n\t\t});\n\t\tconsole.log(\"logout\");\n\t}\n\n\tfunction settings() {\n\t\tconsole.log(\"setting\");\n\t}\n\n\tfunction sampleUserData() {\n\t\treturn {\n\t\t\t\"id\": \"ruckens\",\n\t\t\t\"lights\": [\n\t\t\t\t{\n\t\t\t\t\t\"alias\": \"main\",\n\t\t\t\t\t\"id\": \"OriginalLight1\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"alias\": \"main\",\n\t\t\t\t\t\"id\": \"OriginalLight1\"\n\t\t\t\t}\n\t\t\t],\n\t\t}\n\t}\n\n\tfunction getUserData() {\n\t\t\n\t\taxios.get(`${process.env.REACT_APP_API_URL}/user`, {\n\t\t\twithCredentials: true,\n\t\t}).then((resp) => {\n\t\t\tloadUserData(resp.data);\n\t\t}).catch((e) => {\n\t\t\tsetAuthed(false);\n\t\t\tdisplayError(e);\n\t\t});\n\t}\n\n\tfunction loadUserData(data) {\n\t\tsetUserData(data);\n\t\t\n\t\tdata.lights.forEach((v) => {\n\t\t\tlookupLight(v.id);\n\t\t});\n\n\t}\n\n\tfunction lookupLight(name) {\n\t\t\n\t\taxios.get(`${process.env.REACT_APP_API_URL}/light?light=${name}`, {\n\t\t\twithCredentials: true,\n\t\t}).then((resp) => {\n\t\t\tlet map = {...lightMap};\n\t\t\tlet lightData = resp.data;\n\n\t\t\tmap[name] = lightData;\n\t\t\tsetLightMap(map)\n\t\t\tconsole.log(lightMap);\n\t\t}).catch((e) => {\n\t\t\tdisplayError(e);\n\t\t});\n\t}\n\n\tfunction renderRegister() {\n\t\treturn (\n\t\t\t<div className=\"Auth\">\n\t\t\t\t<Setup/>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tfunction renderAuth() {\n\t\treturn (\n\t\t\t<div className=\"Auth\">\n\t\t\t\t<ToggleButtonGroup type=\"checkbox\" value={register} onChange={(v) => setRegister(!register) }>\n      \t\t\t\t\t<ToggleButton id=\"tbg-btn-1\" value={true}>\n      \t\t\t\t\t\tLogin\t\n\t\t\t\t\t</ToggleButton>\n      \t\t\t\t\t<ToggleButton id=\"tbg-btn-3\" value={false}>\n      \t\t\t\t\t\tSignup\n\t\t\t\t\t</ToggleButton>\n    \t\t\t\t</ToggleButtonGroup>\n\t\t\t\t{ register ?\n\t\t\t\t\t<>\n\t\t\t\t\t<h3>Login</h3>\n\t\t\t\t\t<Login callback={ () => {\n\t\t\t\t\t\tsetAuthed(true) \n\t\t\t\t\t\tgetUserData()\n\t\t\t\t\t}}/>\n\t\t\t\t\t</>\n\t\t\t\t:\n\t\t\t\t\t<>\n\t\t\t\t\t<h3>Signup</h3>\n\t\t\t\t\t<Signup callback={ () => setAuthed(true) }/>\n\t\t\t\t\t</>\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t</div>\n\t\t)\n\n\t}\n\n\tfunction renderPage() {\n\t\treturn (\n\t\t\t<div className=\"Page\">\n\t\t\t\t<div className=\"User\">\n\t\t\t      \t\t<DropdownButton\n        \t\t\t\t\tdrop={'up'}\n        \t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\ttitle={userData.id}\n\t\t\t\t\t\tsize=\"lg\"\n\t\t\t\t\t\tonSelect={dropDown}\n      \t\t\t\t\t>\n        \t\t\t\t\t<Dropdown.Item eventKey=\"settings\">Settings</Dropdown.Item>\n        \t\t\t\t\t<Dropdown.Divider />\n        \t\t\t\t\t<Dropdown.Item eventKey=\"logout\">Logout</Dropdown.Item>\n      \t\t\t\t\t</DropdownButton>\n\t\t\t\t</div>\n\t\t\t\t{ setup ? <Setup cancel={addBulbToggle}/> : <></> }\n\t\t\t\t<div className=\"ButtonPanel\">\n\t\t\t\t\t{ userData.lights ? userData.lights.map((v) => {\n\t\t\t\t\t\treturn <Picker2 light={lightMap[v.id]} className=\"ButtonItem\" initalState={1} name={v}/>\n\t\t\t\t\t}) : <></>\n\t\t\t\t\t}\n\t\t\t\t\t<div className=\"Picker\" onClick={addBulbToggle}>\n                        \t\t\t<img className=\"ButtonImage\" src={AddBulb}></img>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tuseEffect(() => {\n\t\tgetUserData()\n\t\t//console.log(sampleUserData().lights);\n\t\t//setUserData(sampleUserData());\n\t}, []);\n\n\n\treturn (\n\t\t<>\n\t\t\t{ authed ? \n\t\t\t\trenderPage()\n\t\t\t:\n\t\t\t\trenderAuth()\n\t\t\t}\n\n\t\t</>\n\t);\n}\n\n\nexport default Home;\n","import '../App.css';\nimport '../index.css';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport React, { useState, useEffect } from \"react\";\nimport LightListItem from \"../components/LightListItem\";\nimport Picker from \"../components/Picker\";\nimport Styler from \"../components/Styler\";\nimport Offcanvas from \"react-bootstrap/Offcanvas\";\nimport Button from \"react-bootstrap/Button\";\nimport ListGroup from \"react-bootstrap/ListGroup\";\nimport axios from \"axios\";\nimport FileBrowser from 'react-keyed-file-browser'\nimport '../../node_modules/react-keyed-file-browser/dist/react-keyed-file-browser.css';\n\n\nfunction Other() {\n\n\tasync function getData() {\n\n\n\t\t/*return {\n\t\t\tlights: [\n\t\t\t\t{\n\t\t\t\t\tid: 0,\n\t\t\t\t\tname: \"lower tree\",\n\t\t\t\t\tip: \"192.168.86.146\",\n\t\t\t\t\tpixels: 100,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 1,\n\t\t\t\t\tname: \"upper tree\",\n\t\t\t\t\tip: \"192.168.86.145\",\n\t\t\t\t\tpixels: 100,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 2,\n\t\t\t\t\tname: \"test\",\n\t\t\t\t\tip: \"192.168.86.140\",\n\t\t\t\t\tpixels: 50,\n\t\t\t\t}\n\t\t\t],\n\t\t\tgroups: [\n\t\t\t\t{\n\t\t\t\t\tname: \"lower tree\",\n\t\t\t\t\tlights: [0],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"upper tree\",\n\t\t\t\t\tlights: [1],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"test\",\n\t\t\t\t\tlights: [2],\n\t\t\t\t},\t\n\t\t\t\t{\n\t\t\t\t\tname: \"tree\",\n\t\t\t\t\tlights: [ 0, 1 ],\n\t\t\t\t}\n\t\t\t]\n\t\t}*/\n\t}\n\n\tconst [data, setData] = useState({});\n\n\tfunction getData() {\n\t\tconsole.log(\"getting data\");\n\n\t\taxios.get(\"http://homeserver/lights/config.json\").then((resp) => {\n\t\t\tlet blob = resp.data;\n\t\t\tsetData(blob);\n\t\t});\n\t}\n\n\tconst [files, setFiles] = useState([]);\n\tfunction getFiles() {\n\t\taxios.get(\"http://homeserver/lights/patterns/files.json\").then((resp) => {\n\t\t\tlet blob = resp.data;\n\t\t\tsetFiles(blob);\n\t\t});\n\n\t}\n\n\tconst [selectedFile, setSelectedFile] = useState();\n\tconst [selectedLight, setSelectedLight] = useState();\n\n\tfunction clickFile(file) {\n\n\t\tvar bodyFormData = new FormData();\n\n\t\tif (!selectedLight) {\n\t\t\treturn;\n\t\t}\n\n\t\taxios.get(`http://homeserver/lights/patterns/${file.key}`,  { responseType: 'arraybuffer' }\n).then((resp) => {\n\n\t\t\tlet bytes = new Uint8Array(resp.data);\n\n\t\t\tlet blob = new Blob([resp.data], {type: \"application/octet-stream\"});\n\n\t\t\tbodyFormData.append(\"file\", blob, file.key);\n\n\t\t\tconsole.log(selectedLight);\n\t\t\tselectedLight.lights.forEach((light) => {\n\t\t\t\taxios({\n\t\t\t\t\tmethod: \"post\",\n\t\t\t\t\turl: `http://${data.lights[light].ip}/upload`,\n\t\t\t\t\tdata: bodyFormData,\n\t\t\t\t\theaders: { \"Content-Type\": \"multipart/form-data\" },\n\t\t\t\t})\n\t\t\t\t\t.then(function (response) {\n\t\t\t\t\t\t//handle success\n\t\t\t\t\t\tconsole.log(response);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(function (response) {\n\t\t\t\t\t\t//handle error\n\t\t\t\t\t\tconsole.log(response);\n\t\t\t\t\t});\n\n\t\t\t\tconsole.log(data.lights[light]);\n\t\t\t});\n\t\t});\n\n\t}\n\n\tfunction clickLight(light) {\n\t\tsetSelectedLight(light);\n\t\tconsole.log(light);\n\t}\n\n\tuseEffect(() => {\n\t\tgetData()\n\t\tgetFiles()\n\t}, []);\n\n\n\tconst [show, setShow] = useState(false);\n\n\tconst handleClose = () => setShow(false);\n\tconst handleShow = () => setShow(true);\n\n\treturn (\n\t\t<>\n\n\t\t<h3>Selected Light: <span>{selectedLight? selectedLight.name : \"\" }</span></h3>\n\n\t\t<Offcanvas show={show} onHide={handleClose} scroll={true} backdrop={false} placement={'bottom'}>\n\t\t\t<Offcanvas.Header closeButton>\n\t\t\t\t<Offcanvas.Title>Lights</Offcanvas.Title>\n\t\t\t</Offcanvas.Header>\n\t\t\t<Offcanvas.Body>\n\t\t\t\t<ListGroup>\n\t\t\t\t{\n\t\t\t\t\tdata.groups ? (data.groups.map((v, i) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<ListGroup.Item action key={i} onClick={ () => clickLight(v) } >\n\t\t\t\t\t\t\t\t<LightListItem name={v.name} all={data.lights} lights={v.lights}/>\n\t\t\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t\t\t);\n\t\t\t\t\t})) : <></>\n\t\t\t\t}\n\t\t\t\t</ListGroup>\n\t\t\t</Offcanvas.Body>\n\t\t</Offcanvas>\n\t\t<FileBrowser files={files} onSelectFile={clickFile} />\n\t\t<Picker lightData={data} lights={selectedLight}/>\n\t\t<Styler/>\n\t\t<Button variant=\"primary\" onClick={handleShow}>Lights </Button>\n\t\t</>\n\t);\n}\n\n\nexport default Other;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Setup from './containers/setup.js';\nimport Light from './containers/light.js';\nimport Programming from './containers/programming.js';\nimport Run from './containers/run.js';\nimport Control from './containers/control.js';\nimport Home from './containers/home.js';\nimport Other from './containers/other.js';\nimport Signup from './containers/signup.js';\nimport Login from './containers/login.js';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { Route, Switch } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <Switch>\n      \t<Route exact path=\"/dev\">\n          <Programming />\n      \t</Route>\n      \t<Route exact path=\"/run\">\n          <Run />\n      \t</Route>\n      \t<Route exact path=\"/setup\">\n          <Setup />\n      \t</Route>\n      \t<Route exact path=\"/lights\">\n          <Light/>\n      \t</Route>\n      \t<Route exact path=\"/control\">\n          <Control />\n      \t</Route>\n      \t<Route exact path=\"/signup\">\n          <Signup />\n      \t</Route>\n      \t<Route exact path=\"/login\">\n          <Login />\n      \t</Route>\n      \t<Route exact path=\"/\">\n          <Home/>\n      \t</Route>\n      \t<Route exact path=\"/home\">\n          <Home/>\n      \t</Route>\n      </Switch>\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}