{"version":3,"sources":["components/LightDetect.js","components/LightIP.js","containers/setup.js","containers/light.js","components/Bulb.js","containers/programming.js","containers/run.js","components/LightListItem.js","containers/control.js","containers/other.js","reportWebVitals.js","index.js"],"names":["baseURL","process","timeout","LightDetect","next","useState","loading","setLoading","failed","setFailed","networks","setNetworks","ssid","setSSID","password","setPassword","onLoad","a","axios","get","then","response","data","catch","resp","useEffect","Spinner","animation","Button","onClick","onChange","selected","value","searchable","options","map","d","type","name","e","target","setIP","console","log","Setup","prom","setPrompt","updatePrompt","i","nextProm","className","class","Light","r","g","b","color","setColor","ip","last","Date","now","Bulb","delay","x","y","radius","isShown","setIsShown","setTimeout","fill","Programming","processSequence","seq","bytes","Uint8Array","nextColors","length","count","j","push","index","lights","setLights","rows","Math","floor","window","innerWidth","fr","FileReader","onload","result","files","readAsArrayBuffer","width","height","innerHeight","elem","idx","Run","method","enctype","action","id","all","clicked","setClicked","status","setStatus","Status","style","forEach","v","defaultChecked","float","join","Control","sampleData","pixels","groups","Other","setData","setFiles","selectedLight","setSelectedLight","blob","show","setShow","variant","Offcanvas","onHide","scroll","backdrop","Header","closeButton","Title","Body","ListGroup","Item","light","onSelectFile","file","bodyFormData","FormData","key","responseType","Blob","append","url","headers","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","exact","path","document","getElementById"],"mappings":"6OAQMA,EAAUC,uBACVC,EAAU,IAED,SAASC,EAAT,GAA8B,IAARC,EAAO,EAAPA,KACpC,EAA8BC,oBAAS,GAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA4BF,oBAAS,GAArC,mBAAOG,EAAP,KAAeC,EAAf,KACA,EAAgCJ,mBAAS,IAAzC,mBAAOK,EAAP,KAAiBC,EAAjB,KACA,EAAwBN,mBAAS,IAAjC,mBAAOO,EAAP,KAAaC,EAAb,KACA,EAAgCR,mBAAS,IAAzC,mBAAOS,EAAP,KAAiBC,EAAjB,KAL2C,SAY5BC,IAZ4B,2EAY3C,sBAAAC,EAAA,sDACCV,GAAW,GACXW,IAAMC,IAAInB,EAAU,YAAa,CAAEE,QAASA,IAAUkB,MAAK,SAACC,GAC3DV,EAAYU,EAASC,SACfC,OAAM,SAACC,GACbf,GAAU,MAEXF,GAAW,GAPZ,4CAZ2C,kEAsB3C,sBAAAU,EAAA,sDACCV,GAAW,GAEXW,IAAMC,IAAInB,EAAO,sBAAkBY,EAAlB,qBAAmCE,GAAY,CAAEZ,QAASA,IAAUkB,MAAK,SAACC,GAC1FjB,OACMmB,OAAM,SAACC,GACbf,GAAU,MAEXF,GAAW,GARZ,4CAtB2C,sBAuC3C,OA/BAkB,qBAAU,WACPT,MACA,IA8BC,gCACAV,EACD,qCACC,uDACA,cAACoB,EAAA,EAAD,CAASC,UAAU,WAEnB,0BAEEnB,EACH,qCACC,2DACA,cAACoB,EAAA,EAAD,CAAQC,QAAS,kBAhBpBpB,GAAU,QACVO,KAeG,sBAGD,qCACC,iDACA,8EACA,cAAC,IAAD,CAAQc,SAAU,SAACC,GAAD,OAAclB,EAAQkB,EAASC,QAAQC,YAAU,EAACC,QAASxB,EAASyB,KAAI,SAASC,GAC1F,MAAQ,CAAE,MAASA,EAAG,MAASA,QAExC,+CAND,IAM2B,uBAAOC,KAAK,WAAWC,KAAK,OAAOR,SAAU,SAACS,GAAD,OAAOxB,EAAYwB,EAAEC,OAAOR,UAAS,uBAC5G,cAACJ,EAAA,EAAD,CAAQC,QA7D+B,2CA6DvC,uBAIF,cAACD,EAAA,EAAD,CAAQC,QAAS,WAAOzB,GAAM,IAA9B,qBCvEH,IAAMJ,EAAUC,uBAGD,SAASE,EAAT,GAA8B,IAARC,EAAO,EAAPA,KACpC,EAA8BC,oBAAS,GAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAA4BF,oBAAS,GAArC,mBAAOG,EAAP,KAAeC,EAAf,KACA,EAAoBJ,mBAAS,IAA7B,mBAAWoC,GAAX,WAH2C,SAU5BzB,IAV4B,2EAU3C,sBAAAC,EAAA,sDACCV,GAAW,GACXW,IAAMC,IAAInB,EAAU,MAAO,CAAEE,QAdf,MAckCkB,MAAK,SAACC,GACrDoB,EAAMpB,EAASC,SACTC,OAAM,SAACC,GACbf,GAAU,MAEXF,GAAW,GAPZ,4CAV2C,sBAwB3C,OAlBAkB,qBAAU,WACPT,MACA,IAiBC,gCACAV,EACD,qCACC,mDACA,cAACoB,EAAA,EAAD,CAASC,UAAU,WAEnB,0BAEEnB,EACH,qCACC,8DACA,cAACoB,EAAA,EAAD,CAAQC,QAAS,WAfpBb,KAeG,sBAGD,qCACC,6EACA,mGACA,cAACY,EAAA,EAAD,CAAQC,QAAS,kBAAMa,QAAQC,IAAI,SAAnC,sBAIF,cAACf,EAAA,EAAD,CAAQC,QAAS,WAAOzB,GAAM,IAA9B,qBCRYwC,MAxCf,WACC,MAA0BvC,mBAAS,GAAnC,mBAAOwC,EAAP,KAAaC,EAAb,KAEA,SAASC,IAAqB,IAARC,EAAO,uDAAH,EACrBC,EAAWJ,EAAOG,EAClBC,EAAW,IACdA,EAAW,GAETH,EAAUG,GAId,OACI,qBAAKC,UAAU,MAAf,SACG,wBAAQA,UAAU,aAAlB,SACE,8BACK,IAATL,EACD,qCACC,uEAAyC,sBAAMM,MAAM,MAAZ,oBACzC,cAACvB,EAAA,EAAD,CAAQC,QAAS,WAAOkB,KAAxB,sBAGS,IAATF,EACD,qCACC,oEAAsC,iDACtC,cAACjB,EAAA,EAAD,CAAQC,QAAS,WAAOkB,KAAxB,mBACA,cAACnB,EAAA,EAAD,CAAQC,QAAS,kBAAMkB,GAAc,IAArC,sBAEW,IAATF,EACH,cAAC,EAAD,CAAczC,KAAM2C,IACR,IAATF,EACH,cAAC,EAAD,CAAUzC,KAAM2C,IACZ,oC,QCIMK,MAjCf,WAEG,MAA0B/C,mBAAS,CAAEgD,EAAG,IAAKC,EAAG,IAAKC,EAAG,KAAxD,mBAAOC,EAAP,KAAcC,EAAd,KACF,EAAoBpD,mBAAS,kBAA7B,mBAAOqD,EAAP,KAEIC,GAFJ,KAEWC,KAAKC,OAiBhB,OACA,qBAAKX,UAAU,MAAf,SACC,yBAAQA,UAAU,aAAlB,UACU,cAAC,IAAD,CAAgBM,MAAOA,EAAO1B,SAnBzC,SAAuB0B,GAEtB,IAAIK,EAAMD,KAAKC,MACfnB,QAAQC,IAAIa,GACRK,EAAMF,EAAO,IAChBjB,QAAQC,IAAI,kBAGbgB,EAAOE,EACPJ,EAASD,GACTtC,IAAMC,IAAN,iBAAoBuC,EAApB,oBAAkCF,EAAMH,EAAxC,cAA+CG,EAAMF,EAArD,cAA4DE,EAAMD,IAAKhC,OAAM,SAACC,GAC7EkB,QAAQC,IAAI,eASH,8BAAKa,EAAMH,EAAX,KAAgBG,EAAMF,EAAtB,KAA2BE,EAAMD,W,QChC9B,SAASO,EAAT,GAA6C,IAA9BC,EAA6B,EAA7BA,MAAOP,EAAsB,EAAtBA,MAAOQ,EAAe,EAAfA,EAAGC,EAAY,EAAZA,EAAGC,EAAS,EAATA,OAGjD,EAA8B7D,oBAAS,GAAvC,mBAAO8D,EAAP,KAAgBC,EAAhB,KAQA,OANE3C,qBAAU,WACP4C,YAAW,WACRD,GAAW,KACXL,KACH,CAACA,IAECI,EACN,cAAC,IAAD,CAAQH,EAAGA,EAAGC,EAAGA,EAAGC,OAAQA,EAAQI,KAAMd,IAE1C,cAAC,IAAD,CAAQQ,EAAGA,EAAGC,EAAGA,EAAGC,OAAQA,EAAQI,KAAK,UCsE5BC,MAlFf,WAcC,SAASC,EAAgBC,GAExB/B,QAAQC,IAAI8B,GAEZ,IAAIC,EAAQ,IAAIC,WAAWF,GAE3B/B,QAAQC,IAAI+B,GAMZ,IAJA,IAAIE,EAAa,GAEbb,EAAQ,EAEHf,EAAE,EAAGA,EAAE0B,EAAMG,OAAQ7B,GAAG,EAChC,GAAiB,IAAb0B,EAAM1B,IAAoB,IAANA,EAAS,CAChC,IAAI8B,EAASJ,EAAM1B,EAAE,IAAM,EAAK0B,EAAM1B,EAAE,GACxCN,QAAQC,IAAI,QAASmC,GACrB,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAOC,IAC1BH,EAAWI,KAAK,CAACxB,MAAM,oBAGlB,GAAiB,IAAbkB,EAAM1B,GAAY,CAC5B,IAAIK,EAAIqB,EAAM1B,EAAE,GACZM,EAAIoB,EAAM1B,EAAE,GACZO,EAAKmB,EAAM1B,EAAE,GACbiC,EAASP,EAAM1B,EAAE,IAAM,EAAK0B,EAAM1B,EAAE,GACxCN,QAAQC,IAAI,QAASU,EAAEC,EAAEC,EAAG0B,GAC5BL,EAAWK,GAAU,CAACzB,MAAM,OAAD,OAASH,EAAT,YAAcC,EAAd,YAAmBC,EAAnB,WACL,IAAbmB,EAAM1B,KACfe,GAAUW,EAAM1B,EAAE,IAAM,GAAO0B,EAAM1B,EAAE,IAAM,GAAO0B,EAAM1B,EAAE,IAAM,EAAK0B,EAAM1B,EAAE,GAC/EN,QAAQC,IAAI,QAASoB,GACrBM,YAAW,SAACa,GACXxC,QAAQC,IAAI,kBACZwC,EAAUD,KACRnB,EAHO,UAGGa,KAITP,YAAW,WACPG,EAAgBC,KACjBV,GAGV,MAA4B1D,mBAAS,IAArC,mBAAO6E,EAAP,KAAeC,EAAf,KACMC,EAAOC,KAAKC,OAAOC,OAAOC,WAAa,KAAO,KAKpD,OACA,sBAAKtC,UAAU,MAAf,UACC,uBAAOb,KAAK,OAAOC,KAAK,OAAOR,SA9DhC,SAAqBS,GACpB,IAAIkD,EAAG,IAAIC,WACXD,EAAGE,OAAO,WACTnB,EAAgBiB,EAAGG,SAGhBrD,EAAEC,OAAOqD,MAAMhB,OAAS,GAC3BY,EAAGK,kBAAkBvD,EAAEC,OAAOqD,MAAM,OAwDrC,wBAAQ3C,UAAU,aAAlB,SACC,cAAC,IAAD,CAAO6C,MAAOR,OAAOC,WAAYQ,OAAQT,OAAOU,YAAhD,SACO,cAAC,IAAD,UAEJf,EAAO/C,KAAK,SAAS+D,EAAMC,GAE1B,OADAzD,QAAQC,IAAIuD,EAAMC,GACX,cAACrC,EAAD,CAAME,EAZH,IAY4BmC,EAAMf,EAZlC,IAY0CnB,EAX1C,QAWkEoB,KAAKC,MAAMa,EAAMf,GAAQ5B,MAAO0C,EAAK1C,MAAOU,OAb/G,kBCzCDkC,MAnBf,WAIC,MAAoB/F,mBAAS,kBAA7B,mBAAOqD,EAAP,KAEA,OAFA,KAGA,qBAAKR,UAAU,MAAf,SACC,wBAAQA,UAAU,aAAlB,SACC,uBAAMmD,OAAO,OAAOC,QAAQ,sBAAsBC,OAAQ,UAAY7C,EAAK,UAA3E,UACM,uBAAOrB,KAAK,OAAOmE,GAAG,SAASlE,KAAK,aACpC,uBAAOD,KAAK,mBCXN,SAASlC,EAAT,GAA2C,IAArBmC,EAAoB,EAApBA,KAAMmE,EAAc,EAAdA,IAAKvB,EAAS,EAATA,OAE/C,EAA8B7E,oBAAS,GAAvC,mBAAOqG,EAAP,KAAgBC,EAAhB,KAgBAlF,qBAAU,WACa,IAAlByD,EAAOL,QACV3D,IAAMC,IAAN,iBAAoBsF,EAAIvB,EAAO,IAAIxB,GAAnC,WAAgD,CAACxD,QAAS,MACzDkB,MAAK,SAACI,GACNkB,QAAQC,IAAInB,EAAKF,KAAKsF,QAClBpF,EAAKF,KAAKsF,OACbC,EAAU,UAEVA,EAAU,eAETtF,OAAM,WACRsF,EAAU,gBAGV,CAACH,IAGJ,MAA4BrG,mBAA2B,IAAlB6E,EAAOL,OAAe,UAAY,IAAvE,mBAAOiC,EAAP,KAAeD,EAAf,KAEA,OACI,sBAAgBE,MAAmB,YAAXD,EAAuB,CAACtD,MAAO,QAAU,GAAjE,UACH,uBACUnB,KAAK,WACdR,QAAS,SAACU,GAAD,OApCV2C,EAAO8B,SAAQ,SAACC,GACf/F,IAAMC,IAAN,iBAAoBsF,EAAIQ,GAAGvD,GAA3B,WAAwC,CAACxD,QAAS,MAAOqB,OAAM,SAACC,GAC/DkB,QAAQC,IAAI,+BAKd0B,YAAW,WACVsC,GAAYD,KACV,MA4BFQ,eAA2B,WAAXJ,EAChBC,MAAO,CAACI,MAAO,QAASpB,MAAO,WAEhC,0CAAmB,+BAAOzD,IAAY,uBACtC,gDAAyB,+BAA0B,IAAlB4C,EAAOL,OAAe4B,EAAIvB,EAAO,IAAIxB,GAAKwB,EAAO/C,KAAI,SAAC6B,GAAD,OAAOyC,EAAIzC,GAAG1B,QAAO8E,KAAK,SARnG9E,GC0BA+E,MA/Df,WAEC,IAAMC,EAAa,CAClBpC,OAAQ,CACP,CACCsB,GAAI,EACJlE,KAAM,aACNoB,GAAI,iBACJ6D,OAAQ,KAET,CACCf,GAAI,EACJlE,KAAM,aACNoB,GAAI,iBACJ6D,OAAQ,KAET,CACCf,GAAI,EACJlE,KAAM,OACNoB,GAAI,iBACJ6D,OAAQ,KAGVC,OAAQ,CACP,CACClF,KAAM,aACN4C,OAAQ,CAAC,IAEV,CACC5C,KAAM,aACN4C,OAAQ,CAAC,IAEV,CACC5C,KAAM,OACN4C,OAAQ,CAAC,IAEV,CACC5C,KAAM,OACN4C,OAAQ,CAAE,EAAG,MAKhB,OACA,qBAAKhC,UAAU,MAAf,SACC,wBAAQA,UAAU,aAAlB,SACC,6BAEEoE,EAAWE,OAAOrF,KAAI,SAAC8E,EAAEjE,GACxB,OACC,6BACA,cAAC,EAAD,CAAeV,KAAM2E,EAAE3E,KAAMmE,IAAKa,EAAWpC,OAAQA,OAAQ+B,EAAE/B,qB,iDCyHvDuC,MAnKf,WA+CC,MAAwBpH,mBAAS,IAAjC,mBAAOiB,EAAP,KAAaoG,EAAb,KAWA,EAA0BrH,mBAAS,IAAnC,mBAAOwF,EAAP,KAAc8B,EAAd,KASA,EAAwCtH,qBAAxC,mBACA,GADA,UAC0CA,sBAA1C,mBAAOuH,EAAP,KAAsBC,EAAtB,KA+CApG,qBAAU,WAjETiB,QAAQC,IAAI,gBAEZzB,IAAMC,IAAI,wCAAwCC,MAAK,SAACI,GACvD,IAAIsG,EAAOtG,EAAKF,KAChBoG,EAAQI,MAMT5G,IAAMC,IAAI,gDAAgDC,MAAK,SAACI,GAC/D,IAAIsG,EAAOtG,EAAKF,KAChBqG,EAASG,QAwDR,IAGH,MAAwBzH,oBAAS,GAAjC,mBAAO0H,EAAP,KAAaC,EAAb,KAKA,OACC,qCACA,cAACpG,EAAA,EAAD,CAAQqG,QAAQ,UAAUpG,QAJR,kBAAMmG,GAAQ,IAIhC,oBAIA,kDAAoB,+BAAOJ,EAAeA,EAActF,KAAO,QAE/D,eAAC4F,EAAA,EAAD,CAAWH,KAAMA,EAAMI,OAXJ,kBAAMH,GAAQ,IAWWI,QAAQ,EAAMC,UAAU,EAApE,UACA,cAACH,EAAA,EAAUI,OAAX,CAAkBC,aAAW,EAA7B,SACA,cAACL,EAAA,EAAUM,MAAX,uBAEA,cAACN,EAAA,EAAUO,KAAX,UACA,cAACC,EAAA,EAAD,UAECpH,EAAKkG,OACJlG,EAAKkG,OAAOrF,KAAI,SAAC8E,EAAGjE,GACpB,OACC,cAAC0F,EAAA,EAAUC,KAAX,CAAgBpC,QAAM,EAAS1E,QAAU,kBAjC5CgG,EADmBe,EAkC0C3B,QAhC7DvE,QAAQC,IAAIiG,GAFb,IAAoBA,GAkChB,SACA,cAAC,EAAD,CAAetG,KAAM2E,EAAE3E,KAAMmE,IAAKnF,EAAK4D,OAAQA,OAAQ+B,EAAE/B,UAD7BlC,MAK5B,oCAKH,cAAC,IAAD,CACA6C,MAAOA,EAAOgD,aArFf,SAAmBC,GAElB,IAAIC,EAAe,IAAIC,SAElBpB,GAIL1G,IAAMC,IAAN,4CAA+C2H,EAAKG,KAAQ,CAAEC,aAAc,gBAC5E9H,MAAK,SAACI,GAEO,IAAImD,WAAWnD,EAAKF,MAAhC,IAEIwG,EAAO,IAAIqB,KAAK,CAAC3H,EAAKF,MAAO,CAACe,KAAM,6BAExC0G,EAAaK,OAAO,OAAQtB,EAAMgB,EAAKG,KAEvCvG,QAAQC,IAAIiF,GACZA,EAAc1C,OAAO8B,SAAQ,SAAC4B,GAC7B1H,IAAM,CACLmF,OAAQ,OACRgD,IAAI,UAAD,OAAY/H,EAAK4D,OAAO0D,GAAOlF,GAA/B,WACHpC,KAAMyH,EACNO,QAAS,CAAE,eAAgB,yBAE1BlI,MAAK,SAAUC,GAEfqB,QAAQC,IAAItB,MAEZE,OAAM,SAAUF,GAEhBqB,QAAQC,IAAItB,MAGdqB,QAAQC,IAAIrB,EAAK4D,OAAO0D,iBCzGbW,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBrI,MAAK,YAAkD,IAA/CsI,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,gBCMdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,UACE,eAAC,IAAD,WACC,cAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,OAAlB,SACG,cAAC,EAAD,MAEH,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,OAAlB,SACG,cAAC,EAAD,MAEH,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,SAAlB,SACG,cAAC,EAAD,MAEH,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,UAAlB,SACG,cAAC,EAAD,MAEH,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,WAAlB,SACG,cAAC,EAAD,MAEH,cAAC,IAAD,CAAOD,OAAK,EAACC,KAAK,SAAlB,SACG,cAAC,EAAD,aAKRC,SAASC,eAAe,SAM1Bd,K","file":"static/js/main.cf4e16ea.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Form from \"react-bootstrap/Form\";\nimport Button from \"react-bootstrap/Button\";\nimport Spinner from \"react-bootstrap/Spinner\";\nimport axios from \"axios\";\nimport Select from 'react-select'\n\n\nconst baseURL = process.env.REACT_APP_URL;\nconst timeout = 30 * 1000;\n\nexport default function LightDetect({next}) {\n\tconst [loading, setLoading] = useState(false);\n\tconst [failed, setFailed] = useState(false);\n\tconst [networks, setNetworks] = useState([]);\n\tconst [ssid, setSSID] = useState(\"\");\n\tconst [password, setPassword] = useState(\"\");\n\n\n\tuseEffect(() => {\n  \t\tonLoad();\n\t}, []);\n\n\tasync function onLoad() {\n\t\tsetLoading(true);\n\t\taxios.get(baseURL + \"/networks\", { timeout: timeout}).then((response) => {\n\t\t\tsetNetworks(response.data);\n    \t\t}).catch((resp) => {\n\t\t\tsetFailed(true);\n\t\t});\n\t\tsetLoading(false);\n\t}\n\n\tasync function onSubmit() {\n\t\tsetLoading(true);\n\n\t\taxios.get(baseURL + `/login?ssid=${ssid}&password=${password}`, { timeout: timeout}).then((response) => {\n\t\t\tnext();\n    \t\t}).catch((resp) => {\n\t\t\tsetFailed(true);\n\t\t});\n\t\tsetLoading(false);\n\n\t}\n\n\tfunction onRetry() {\n\t\tsetFailed(false);\n\t\tonLoad();\n\t}\n\n\treturn (\n    \t<div>\n\t\t\t{ loading ? (\n\t\t\t\t<>\n\t\t\t\t\t<p> Searching for lights </p>\n\t\t\t\t\t<Spinner animation=\"border\">\n\t\t\t\t\t</Spinner>\n\t\t\t\t\t<br/>\n\t\t\t\t</>\n\t\t\t) : failed ? (\n\t\t\t\t<>\n\t\t\t\t\t<p>Failed to setup new lights</p>\n\t\t\t\t\t<Button onClick={() => onRetry()}>Retry</Button> \n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t<p>Found new lights</p>\n\t\t\t\t\t<p>Select Wifi you would like to connect them to</p>\n\t\t\t\t\t<Select onChange={(selected) => setSSID(selected.value)} searchable options={networks.map(function(d){\n         \t\t\t\t\treturn ({ \"value\": d, \"label\": d })\n       \t\t\t\t\t})}/>\n\t\t\t\t\t<label>Password: </label> <input type=\"password\" name=\"name\" onChange={(e) => setPassword(e.target.value)}/><br/>\n\t\t\t\t\t<Button onClick={onSubmit}>Submit</Button>\t\n\t\t\t    \t</> \n\t\t\t) \n\t\t\t}\n\t\t\t<Button onClick={() => {next(-1)}}>Back</Button>\n    \t</div>\n  \t);\n}\n","import React, { useState, useEffect } from \"react\";\nimport Button from \"react-bootstrap/Button\";\nimport axios from \"axios\";\nimport Spinner from \"react-bootstrap/Spinner\";\n\nconst baseURL = process.env.REACT_APP_URL;\nconst timeout = 3 * 1000;\n\nexport default function LightDetect({next}) {\n\tconst [loading, setLoading] = useState(false);\n\tconst [failed, setFailed] = useState(false);\n\tconst [ip, setIP] = useState(\"\");\n\n\n\tuseEffect(() => {\n  \t\tonLoad();\n\t}, []);\n\n\tasync function onLoad() {\n\t\tsetLoading(true);\n\t\taxios.get(baseURL + \"/ip\", { timeout: timeout}).then((response) => {\n\t\t\tsetIP(response.data);\n    \t\t}).catch((resp) => {\n\t\t\tsetFailed(true);\n\t\t});\n\t\tsetLoading(false);\n\t}\n\n\tfunction onRetry() {\n\t\tonLoad();\n\t}\n\n\treturn (\n    \t<div>\n\t\t\t{ loading ? (\n\t\t\t\t<>\n\t\t\t\t\t<p> Getting device IP</p>\n\t\t\t\t\t<Spinner animation=\"border\">\n\t\t\t\t\t</Spinner>\n\t\t\t\t\t<br/>\n\t\t\t\t</>\n\t\t\t) : failed ? (\n\t\t\t\t<>\n\t\t\t\t\t<p>Failed to connect with device</p>\n\t\t\t\t\t<Button onClick={() => onRetry()}>Retry</Button> \n\t\t\t\t</>\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t<p>Congradulations your lights are ready to go!</p>\n\t\t\t\t\t<p>Remeber to reconnect your device to the same network as the lights</p>\n\t\t\t\t\t<Button onClick={() => console.log(\"TODO\") }>Light</Button>\n\t\t\t    \t</> \n\t\t\t) \n\t\t\t}\n\t\t\t<Button onClick={() => {next(-1)}}>Back</Button>\n    \t</div>\n  \t);\n}\n","import '../App.css';\nimport Button from \"react-bootstrap/Button\";\nimport React, { useState } from \"react\";\nimport LightsDetect from \"../components/LightDetect\";\nimport LightsIP from \"../components/LightIP\";\n\nfunction Setup () {\n\tconst [prom, setPrompt] = useState(0);\n\t\n\tfunction updatePrompt(i = 1) {\n\t\tlet nextProm = prom + i;\n\t\tif (nextProm > 3) {\n\t\t\tnextProm = 0\n\t\t}\n   \t\tsetPrompt(nextProm);\n\t}\n\n\n\treturn (\n    \t<div className=\"App\">\n      \t\t<header className=\"App-header\">\n        \t\t<div>\n\t\t\t\t{ prom === 0 ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<p>Plug in Inf-Lights. They should blink <span class=\"red\">red</span></p>\n\t\t\t\t\t\t<Button onClick={() => {updatePrompt()}}> Next</Button>\n\t\t\t\t\t</>\n\t\t\t\t)\n\t\t\t\t: prom === 1 ? (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<p>Go to wifi settings and connect to <code>P-lights-0</code></p>\n\t\t\t\t\t\t<Button onClick={() => {updatePrompt()}}> Next</Button>\n\t\t\t\t\t\t<Button onClick={() => updatePrompt(-1)}> Back</Button>\n\t\t\t\t\t</>\n\t\t\t\t) : prom === 2 ? (\n\t\t\t\t\t<LightsDetect next={updatePrompt}/>\n\t\t\t\t) : prom === 3 ? (\n\t\t\t\t\t<LightsIP next={updatePrompt}/>\n\t\t\t\t) : (<></>) }\n        \t\t</div>\n      \t\t</header>\n    \t</div>\n  \t);\n}\n\n\nexport default Setup;\n","import '../App.css';\nimport Button from \"react-bootstrap/Button\";\nimport React, { useState } from \"react\";\nimport LightsDetect from \"../components/LightDetect\";\nimport LightsIP from \"../components/LightIP\";\nimport { RgbColorPicker } from \"react-colorful\";\nimport axios from \"axios\";\nimport Spinner from \"react-bootstrap/Spinner\";\n\nfunction Light () {\n\n  \tconst [color, setColor] = useState({ r: 200, g: 150, b: 35 });\n\tconst [ip, setIP] = useState(\"192.168.86.126\");\n\n\tvar last = Date.now();\n\tfunction onColorChange(color) {\n\n\t\tlet now = Date.now();\n\t\tconsole.log(color);\n\t\tif (now - last < 100) {\n\t\t\tconsole.log(\"ignoring time\");\n\t\t\treturn;\n\t\t}\n\t\tlast = now;\n\t\tsetColor(color);\n\t\taxios.get(`http://${ip}/color?r=${color.r}&g=${color.g}&b=${color.b}`).catch((resp) => {\n\t\t\tconsole.log(\"TODO\")\n                });\n\t}\n\n\n\treturn (\n\t<div className=\"App\">\n\t\t<header className=\"App-header\">\n            <RgbColorPicker color={color} onChange={onColorChange} />\n            <p>{ color.r}, {color.g}, {color.b}</p>\n\t\t</header>\n\t</div>\n  \t);\n}\n\n\nexport default Light;\n","import React, { useState, useEffect } from \"react\";\nimport {Circle}  from 'react-konva';\n\nexport default function Bulb({delay, color, x, y, radius}) {\n\n\n\tconst [isShown, setIsShown] = useState(false);\n\n  \tuseEffect(() => {\n    \t\tsetTimeout(() => {\n      \t\t\tsetIsShown(true);\n    \t\t}, delay);\n  \t}, [delay]);\n\n\treturn isShown ? \n\t\t<Circle x={x} y={y} radius={radius} fill={color} /> \n\t\t: \n\t\t<Circle x={x} y={y} radius={radius} fill=\"black\" />;\n}\n","import '../App.css';\nimport React, { useState, useEffect } from \"react\";\nimport { Stage, Layer } from 'react-konva';\nimport Bulb from \"../components/Bulb.js\"\n\nfunction Programming () {\n\n\tfunction handleFiles(e) {\n\t\tvar fr=new FileReader();\n\t\tfr.onload=function(){\n\t\t\tprocessSequence(fr.result);\n\t\t}\n\t\t\n\t\tif (e.target.files.length > 0) {\n\t\t\tfr.readAsArrayBuffer(e.target.files[0]);\n\t\t}\n\t}\n\n\n\tfunction processSequence(seq) {\n\t\t\n\t\tconsole.log(seq);\n\n\t\tvar bytes = new Uint8Array(seq);\n\n\t\tconsole.log(bytes);\n\n\t\tlet nextColors = [];\n\t\t\n\t\tlet delay = 0;\n\t\t\t\n\t\tfor (let i=0; i<bytes.length; i+=8) {\n\t\t\tif (bytes[i] === 0x3 && i === 0) {\n\t\t\t\tlet count = (bytes[i+2] << 8) | bytes[i+1];\n\t\t\t\tconsole.log(\"Count\", count);\n\t\t\t\tfor (let j = 0; j < count; j++) {\n\t\t\t\t\tnextColors.push({color: `rgb(0,0,0)`})\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else if (bytes[i] === 0x1) {\n\t\t\t\tlet r = bytes[i+1];\n\t\t\t\tlet g = bytes[i+2];\n\t\t\t\tlet b =  bytes[i+3];\n\t\t\t\tlet index = (bytes[i+5] << 8) | bytes[i+4];\n\t\t\t\tconsole.log(\"color\", r,g,b, index);\n\t\t\t\tnextColors[index] = ({color: `rgb(${r},${g},${b})`})\n\t\t\t}else if (bytes[i] === 0x2) {\n\t\t\t\tdelay += (bytes[i+4] << 24) | (bytes[i+3] << 16) | (bytes[i+2] << 8) | bytes[i+1];\n\t\t\t\tconsole.log(\"delay\", delay);\n\t\t\t\tsetTimeout((lights) => {\n\t\t\t\t\tconsole.log(\"Changed lights\");\n\t\t\t\t\tsetLights(lights);\n\t\t\t\t}, delay,[...nextColors] )\n\t\t\t}\n        }\n\n        setTimeout(() => {\n            processSequence(seq)\n        }, delay)\n\t}\n\n\tconst [lights, setLights] = useState([]);\n\tconst rows = Math.floor((window.innerWidth - 200) / 170);\n\tconst radius = 50;\n\tconst xOffset = 120;\n\tconst yOffset = 120;\n\n\treturn (\n\t<div className=\"App\">\n\t\t<input type=\"file\" name=\"file\" onChange={handleFiles} />\n\t\t<header className=\"App-header\">\n\t\t\t<Stage width={window.innerWidth} height={window.innerHeight}>\n      \t\t\t\t<Layer>\n\t\t\t\t\t{\n\t\t\t\t\t\tlights.map( function(elem, idx) {\n\t\t\t\t\t\t\tconsole.log(elem, idx);\n\t\t\t\t\t\t\treturn <Bulb x={xOffset + (xOffset * (idx % rows))} y={yOffset + (yOffset * Math.floor(idx / rows))} color={elem.color} radius={radius}/>\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n      \t\t\t\t</Layer>\n    \t\t\t</Stage>\n\t\t</header>\n\t</div>\n  \t);\n}\n\n\nexport default Programming;\n","import '../App.css';\nimport React, { useState, useEffect } from \"react\";\n\nfunction Run() {\n\n\t//const [ip, setIP] = useState(\"192.168.86.136\");\n\t//const [ip, setIP] = useState(\"192.168.86.144\");\n\tconst [ip, setIP] = useState(\"192.168.86.152\");\n\n\treturn (\n\t<div className=\"App\">\n\t\t<header className=\"App-header\">\n\t\t\t<form method='POST' enctype='multipart/form-data' action={\"http://\" + ip + \"/upload\"}>\n     \t\t\t\t<input type=\"file\" id=\"myFile\" name=\"filename\"></input>\n     \t\t\t\t<input type=\"submit\"></input>\n   \t\t\t</form>\n\t\t</header>\n\t</div>\n  \t);\n}\n\n\nexport default Run;\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nexport default function LightDetect({name, all, lights}) {\n\n\tconst [clicked, setClicked] = useState(false);\n\t\n\tfunction onToggle(e) {\n\t\tlights.forEach((v) => {\n\t\t\taxios.get(`http://${all[v].ip}/toggle`, {timeout: 1000}).catch((resp) => {\n\t\t\t\tconsole.log(\"failed to toggle\");\n\t\t\t});\n\t\t});\n\n\t\t// After 1/2 a second check if the lights are on\n\t\tsetTimeout(() => {\n\t\t\tsetClicked(!clicked);\n\t\t}, 500);\n\t}\n\n\n\tuseEffect(() => {\n\t\tif (lights.length === 1) {\n\t\t\taxios.get(`http://${all[lights[0]].ip}/status`, {timeout: 1000})\n\t\t\t.then((resp) => {\n\t\t\t\tconsole.log(resp.data.status);\n\t\t\t\tif (resp.data.status) {\n\t\t\t\t\tsetStatus(\"active\");\n\t\t\t\t}else {\n\t\t\t\t\tsetStatus(\"inactive\");\n\t\t\t\t}\n\t\t\t}).catch(() => {\n\t\t\t\tsetStatus(\"offline\");\n\t\t\t});\n\t\t}\n\t}, [clicked])\n\n\n\tconst [Status, setStatus] = useState(lights.length === 1 ? \"loading\" : \"\");\n\n\treturn (\n    \t<div key={name} style={ Status === \"offline\" ? {color: \"grey\"} : {}}>\n\t\t<input\n          \t\ttype='checkbox'\n\t\t\tonClick={(e) => onToggle(e)}\n\t\t\tdefaultChecked={Status === \"active\"}\n\t\t\tstyle={{float: \"right\", width: \"100px\"}}\n        \t/>\n\t\t<span>Name: </span><span>{name}</span><br/>\n\t\t<span>Devices(s): </span><span>{ lights.length === 1 ? all[lights[0]].ip : lights.map((x) => all[x].name ).join(\",\") }</span>\n    \t</div>\n  \t);\n}\n","import '../App.css';\nimport React, { useState, useEffect } from \"react\";\nimport LightListItem from \"../components/LightListItem\";\n\nfunction Control() {\n\n\tconst sampleData = {\n\t\tlights: [\n\t\t\t{\n\t\t\t\tid: 0,\n\t\t\t\tname: \"lower tree\",\n\t\t\t\tip: \"192.168.86.136\",\n\t\t\t\tpixels: 100,\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 1,\n\t\t\t\tname: \"upper tree\",\n\t\t\t\tip: \"192.168.86.137\",\n\t\t\t\tpixels: 100,\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 2,\n\t\t\t\tname: \"test\",\n\t\t\t\tip: \"192.168.86.140\",\n\t\t\t\tpixels: 50,\n\t\t\t}\n\t\t],\n\t\tgroups: [\n\t\t\t{\n\t\t\t\tname: \"lower tree\",\n\t\t\t\tlights: [0],\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"upper tree\",\n\t\t\t\tlights: [1],\n\t\t\t},\n\t\t\t{\n\t\t\t\tname: \"test\",\n\t\t\t\tlights: [2],\n\t\t\t},\t\n\t\t\t{\n\t\t\t\tname: \"tree\",\n\t\t\t\tlights: [ 0, 1 ],\n\t\t\t}\n\t\t]\n\t}\n\n\treturn (\n\t<div className=\"App\">\n\t\t<header className=\"App-header\">\n\t\t\t<ul>\n\t\t\t\t{\n\t\t\t\t\tsampleData.groups.map((v,i) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<LightListItem name={v.name} all={sampleData.lights} lights={v.lights}/>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t</ul>\n\t\t</header>\n\t</div>\n  \t);\n}\n\n\nexport default Control;\n","import '../App.css';\nimport '../index.css';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport React, { useState, useEffect } from \"react\";\nimport LightListItem from \"../components/LightListItem\";\nimport Offcanvas from \"react-bootstrap/Offcanvas\";\nimport Button from \"react-bootstrap/Button\";\nimport ListGroup from \"react-bootstrap/ListGroup\";\nimport axios from \"axios\";\nimport FileBrowser from 'react-keyed-file-browser'\nimport '../../node_modules/react-keyed-file-browser/dist/react-keyed-file-browser.css';\n\n\nfunction Other() {\n\n\tasync function getData() {\n\n\n\t\t/*return {\n\t\t\tlights: [\n\t\t\t\t{\n\t\t\t\t\tid: 0,\n\t\t\t\t\tname: \"lower tree\",\n\t\t\t\t\tip: \"192.168.86.146\",\n\t\t\t\t\tpixels: 100,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 1,\n\t\t\t\t\tname: \"upper tree\",\n\t\t\t\t\tip: \"192.168.86.145\",\n\t\t\t\t\tpixels: 100,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 2,\n\t\t\t\t\tname: \"test\",\n\t\t\t\t\tip: \"192.168.86.140\",\n\t\t\t\t\tpixels: 50,\n\t\t\t\t}\n\t\t\t],\n\t\t\tgroups: [\n\t\t\t\t{\n\t\t\t\t\tname: \"lower tree\",\n\t\t\t\t\tlights: [0],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"upper tree\",\n\t\t\t\t\tlights: [1],\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: \"test\",\n\t\t\t\t\tlights: [2],\n\t\t\t\t},\t\n\t\t\t\t{\n\t\t\t\t\tname: \"tree\",\n\t\t\t\t\tlights: [ 0, 1 ],\n\t\t\t\t}\n\t\t\t]\n\t\t}*/\n\t}\n\n\tconst [data, setData] = useState({});\n\n\tfunction getData() {\n\t\tconsole.log(\"getting data\");\n\n\t\taxios.get(\"http://homeserver/lights/config.json\").then((resp) => {\n\t\t\tlet blob = resp.data;\n\t\t\tsetData(blob);\n\t\t});\n\t}\n\n\tconst [files, setFiles] = useState([]);\n\tfunction getFiles() {\n\t\taxios.get(\"http://homeserver/lights/patterns/files.json\").then((resp) => {\n\t\t\tlet blob = resp.data;\n\t\t\tsetFiles(blob);\n\t\t});\n\n\t}\n\n\tconst [selectedFile, setSelectedFile] = useState();\n\tconst [selectedLight, setSelectedLight] = useState();\n\n\tfunction clickFile(file) {\n\n\t\tvar bodyFormData = new FormData();\n\n\t\tif (!selectedLight) {\n\t\t\treturn;\n\t\t}\n\n\t\taxios.get(`http://homeserver/lights/patterns/${file.key}`,  { responseType: 'arraybuffer' }\n).then((resp) => {\n\n\t\t\tlet bytes = new Uint8Array(resp.data);\n\n\t\t\tlet blob = new Blob([resp.data], {type: \"application/octet-stream\"});\n\n\t\t\tbodyFormData.append(\"file\", blob, file.key);\n\n\t\t\tconsole.log(selectedLight);\n\t\t\tselectedLight.lights.forEach((light) => {\n\t\t\t\taxios({\n\t\t\t\t\tmethod: \"post\",\n\t\t\t\t\turl: `http://${data.lights[light].ip}/upload`,\n\t\t\t\t\tdata: bodyFormData,\n\t\t\t\t\theaders: { \"Content-Type\": \"multipart/form-data\" },\n\t\t\t\t})\n\t\t\t\t\t.then(function (response) {\n\t\t\t\t\t\t//handle success\n\t\t\t\t\t\tconsole.log(response);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(function (response) {\n\t\t\t\t\t\t//handle error\n\t\t\t\t\t\tconsole.log(response);\n\t\t\t\t\t});\n\n\t\t\t\tconsole.log(data.lights[light]);\n\t\t\t});\n\t\t});\n\n\t}\n\n\tfunction clickLight(light) {\n\t\tsetSelectedLight(light);\n\t\tconsole.log(light);\n\t}\n\n\tuseEffect(() => {\n\t\tgetData()\n\t\tgetFiles()\n\t}, []);\n\n\n\tconst [show, setShow] = useState(false);\n\n\tconst handleClose = () => setShow(false);\n\tconst handleShow = () => setShow(true);\n\n\treturn (\n\t\t<>\n\t\t<Button variant=\"primary\" onClick={handleShow}>\n\t\tLaunch\n\t\t</Button>\n\n\t\t<h3>Selected Light: <span>{selectedLight? selectedLight.name : \"\" }</span></h3>\n\n\t\t<Offcanvas show={show} onHide={handleClose} scroll={true} backdrop={false}>\n\t\t<Offcanvas.Header closeButton>\n\t\t<Offcanvas.Title>Lights</Offcanvas.Title>\n\t\t</Offcanvas.Header>\n\t\t<Offcanvas.Body>\n\t\t<ListGroup>\n\t\t{\n\t\t\tdata.groups ? \n\t\t\t(data.groups.map((v, i) => {\n\t\t\t\treturn (\n\t\t\t\t\t<ListGroup.Item action key={i} onClick={ () => clickLight(v) } >\n\t\t\t\t\t<LightListItem name={v.name} all={data.lights} lights={v.lights}/>\n\t\t\t\t\t</ListGroup.Item>\n\t\t\t\t);\n\t\t\t}))\n\t\t\t: <></>\n\t\t}\n\t\t</ListGroup>\n\t\t</Offcanvas.Body>\n\t\t</Offcanvas>\n\t\t<FileBrowser\n\t\tfiles={files} onSelectFile={clickFile}\n\t\t/>\n\n\t\t</>\n\t);\n}\n\n\nexport default Other;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Setup from './containers/setup.js';\nimport Light from './containers/light.js';\nimport Programming from './containers/programming.js';\nimport Run from './containers/run.js';\nimport Control from './containers/control.js';\nimport Other from './containers/other.js';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { Route, Switch } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <Switch>\n      \t<Route exact path=\"/dev\">\n          <Programming />\n      \t</Route>\n      \t<Route exact path=\"/run\">\n          <Run />\n      \t</Route>\n      \t<Route exact path=\"/setup\">\n          <Setup />\n      \t</Route>\n      \t<Route exact path=\"/lights\">\n          <Light/>\n      \t</Route>\n      \t<Route exact path=\"/control\">\n          <Control />\n      \t</Route>\n      \t<Route exact path=\"/other\">\n          <Other/>\n      \t</Route>\n      </Switch>\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}